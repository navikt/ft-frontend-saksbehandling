import { AktivitetStatus, OpptjeningAktivitetType } from '@navikt/ft-kodeverk';
import type { Beregningsgrunnlag } from '@navikt/ft-types';

export const beregningsgrunnlag = {
  avklaringsbehov: [
    {
      definisjon: 'FORDEL_BG',
      status: 'OPPR',
      kanLoses: true,
    },
  ],
  skjaeringstidspunktBeregning: '2019-03-05',
  vilkårsperiodeFom: '2020-06-01',
  aktivitetStatus: ['AT_SN'],
  beregningsgrunnlagPeriode: [
    {
      beregningsgrunnlagPeriodeFom: '2019-03-05',
      beregningsgrunnlagPeriodeTom: '2019-11-03',
      beregnetPrAar: 500000.0,
      bruttoPrAar: 500000.0,
      bruttoInkludertBortfaltNaturalytelsePrAar: 500000.0,
      periodeAarsaker: [],
      dagsats: 0,
      beregningsgrunnlagPrStatusOgAndel: [
        {
          aktivitetStatus: AktivitetStatus.ARBEIDSTAKER,
          beregningsperiodeFom: '2018-12-01',
          beregningsperiodeTom: '2019-02-28',
          beregnetPrAar: 500000.0,
          bruttoPrAar: 500000.0,
          andelsnr: 1,
          inntektskategori: 'ARBEIDSTAKER',
          arbeidsforhold: {
            arbeidsgiverIdent: '123456789',
            startdato: '2017-03-01',
            arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
            refusjonPrAar: 0.0,
            belopFraInntektsmeldingPrMnd: 55296,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: false,
        },
        {
          aktivitetStatus: AktivitetStatus.SELVSTENDIG_NÆRINGSDRIVENDE,
          beregningsperiodeFom: '2015-01-01',
          beregningsperiodeTom: '2017-12-31',
          beregnetPrAar: 0.0,
          overstyrtPrAar: 0.0,
          bruttoPrAar: 0.0,
          andelsnr: 2,
          inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
          arbeidsforhold: {
            arbeidsforholdType: OpptjeningAktivitetType.NARING,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: true,
          pgiSnitt: 403557,
          pgiVerdier: [
            {
              beløp: 494006,
              årstall: 2017,
            },
            {
              beløp: 384757,
              årstall: 2016,
            },
            {
              beløp: 331908,
              årstall: 2015,
            },
          ],
          næringer: [
            {
              orgnr: '991561692',
              erVarigEndret: true,
              erNyoppstartet: false,
              virksomhetType: 'ANNEN',
              endringsdato: '2017-01-01',
              kanRegnskapsførerKontaktes: false,
              erNyIArbeidslivet: false,
              oppgittInntekt: 24425,
            },
          ],
        },
      ],
    },
    {
      beregningsgrunnlagPeriodeFom: '2019-11-04',
      beregningsgrunnlagPeriodeTom: '2019-12-09',
      beregnetPrAar: 500000.0,
      bruttoPrAar: 500000.0,
      bruttoInkludertBortfaltNaturalytelsePrAar: 500000.0,
      periodeAarsaker: ['GRADERING'],
      dagsats: 0,
      beregningsgrunnlagPrStatusOgAndel: [
        {
          aktivitetStatus: AktivitetStatus.ARBEIDSTAKER,
          beregningsperiodeFom: '2018-12-01',
          beregningsperiodeTom: '2019-02-28',
          beregnetPrAar: 500000.0,
          bruttoPrAar: 500000.0,
          andelsnr: 1,
          inntektskategori: 'ARBEIDSTAKER',
          arbeidsforhold: {
            arbeidsgiverIdent: '123456789',
            startdato: '2017-03-01',
            arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
            refusjonPrAar: 0.0,
            belopFraInntektsmeldingPrMnd: 55296,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: false,
        },
        {
          aktivitetStatus: AktivitetStatus.SELVSTENDIG_NÆRINGSDRIVENDE,
          beregningsperiodeFom: '2015-01-01',
          beregningsperiodeTom: '2017-12-31',
          beregnetPrAar: 0.0,
          overstyrtPrAar: 0.0,
          bruttoPrAar: 0.0,
          andelsnr: 2,
          inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
          arbeidsforhold: {
            arbeidsforholdType: OpptjeningAktivitetType.NARING,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: true,
          pgiSnitt: 403557,
          pgiVerdier: [
            {
              beløp: 494006,
              årstall: 2017,
            },
            {
              beløp: 384757,
              årstall: 2016,
            },
            {
              beløp: 331908,
              årstall: 2015,
            },
          ],
          næringer: [
            {
              orgnr: '991561692',
              erVarigEndret: true,
              erNyoppstartet: false,
              virksomhetType: 'ANNEN',
              endringsdato: '2017-01-01',
              kanRegnskapsførerKontaktes: false,
              erNyIArbeidslivet: false,
              oppgittInntekt: 24425,
            },
          ],
        },
      ],
    },
    {
      beregningsgrunnlagPeriodeFom: '2019-12-10',
      beregningsgrunnlagPeriodeTom: '9999-12-31',
      beregnetPrAar: 500000.0,
      bruttoPrAar: 500000.0,
      bruttoInkludertBortfaltNaturalytelsePrAar: 500000.0,
      periodeAarsaker: ['GRADERING_OPPHØRER'],
      dagsats: 0,
      beregningsgrunnlagPrStatusOgAndel: [
        {
          aktivitetStatus: AktivitetStatus.ARBEIDSTAKER,
          beregningsperiodeFom: '2018-12-01',
          beregningsperiodeTom: '2019-02-28',
          beregnetPrAar: 500000.0,
          bruttoPrAar: 500000.0,
          andelsnr: 1,
          inntektskategori: 'ARBEIDSTAKER',
          arbeidsforhold: {
            arbeidsgiverIdent: '123456789',
            startdato: '2017-03-01',
            arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
            refusjonPrAar: 0.0,
            belopFraInntektsmeldingPrMnd: 55296,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: false,
        },
        {
          aktivitetStatus: AktivitetStatus.SELVSTENDIG_NÆRINGSDRIVENDE,
          beregningsperiodeFom: '2015-01-01',
          beregningsperiodeTom: '2017-12-31',
          beregnetPrAar: 0.0,
          overstyrtPrAar: 0.0,
          bruttoPrAar: 0.0,
          andelsnr: 2,
          inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
          arbeidsforhold: {
            arbeidsforholdType: OpptjeningAktivitetType.NARING,
          },
          lagtTilAvSaksbehandler: false,
          erTilkommetAndel: false,
          skalFastsetteGrunnlag: true,
          pgiSnitt: 403557,
          pgiVerdier: [
            {
              beløp: 494006,
              årstall: 2017,
            },
            {
              beløp: 384757,
              årstall: 2016,
            },
            {
              beløp: 331908,
              årstall: 2015,
            },
          ],
          næringer: [
            {
              orgnr: '991561692',
              erVarigEndret: true,
              erNyoppstartet: false,
              virksomhetType: 'ANNEN',
              endringsdato: '2017-01-01',
              kanRegnskapsførerKontaktes: false,
              erNyIArbeidslivet: false,
              oppgittInntekt: 24425,
            },
          ],
        },
      ],
    },
  ],
  sammenligningsgrunnlagPrStatus: [
    {
      sammenligningsgrunnlagFom: '2017-01-01',
      sammenligningsgrunnlagTom: '2017-01-31',
      rapportertPrAar: 687977.0,
      avvikPromille: 704.7833284,
      avvikProsent: 70.47833284,
      sammenligningsgrunnlagType: 'SAMMENLIGNING_ATFL_SN',
      differanseBeregnet: -284420.0,
    },
  ],
  grunnbeløp: 96883.0,
  faktaOmBeregning: {
    avklarAktiviteter: {
      skjæringstidspunkt: '2019-03-05',
      aktiviteterTomDatoMapping: [
        {
          tom: '2019-03-05',
          aktiviteter: [
            {
              fom: '2007-08-09',
              tom: '9999-12-31',
              arbeidsforholdType: 'NÆRING',
            },
            {
              arbeidsgiverIdent: '123456789',
              fom: '2017-03-01',
              tom: '9999-12-31',
              arbeidsforholdType: 'ARBEID',
            },
            {
              fom: '2019-02-01',
              tom: '2019-03-04',
              arbeidsforholdType: 'SVANGERSKAPSPENGER',
            },
          ],
        },
        {
          tom: '2018-09-02',
          aktiviteter: [
            {
              arbeidsgiverIdent: '123456700',
              fom: '2018-01-10',
              tom: '2018-09-01',
              arbeidsforholdType: 'ARBEID',
            },
          ],
        },
      ],
    },
    andelerForFaktaOmBeregning: [
      {
        belopReadOnly: 55296,
        fastsattBelop: 55296.0,
        inntektskategori: 'ARBEIDSTAKER',
        aktivitetStatus: 'AT',
        arbeidsforhold: {
          arbeidsgiverIdent: '123456789',
          startdato: '2017-03-01',
          arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
          refusjonPrAar: 0.0,
          belopFraInntektsmeldingPrMnd: 55296,
        },
        andelsnr: 1,
        skalKunneEndreAktivitet: false,
        lagtTilAvSaksbehandler: false,
      },
      {
        fastsattBelop: 0.0,
        inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
        aktivitetStatus: 'SN',
        arbeidsforhold: {
          arbeidsforholdType: OpptjeningAktivitetType.NARING,
        },
        andelsnr: 2,
        skalKunneEndreAktivitet: false,
        lagtTilAvSaksbehandler: false,
      },
    ],
  },
  faktaOmFordeling: {
    fordelBeregningsgrunnlag: {
      fordelBeregningsgrunnlagPerioder: [
        {
          fom: '2019-03-05',
          tom: '2019-11-03',
          fordelBeregningsgrunnlagAndeler: [
            {
              andelsnr: 1,
              arbeidsforhold: {
                arbeidsgiverIdent: '123456789',
                startdato: '2017-03-01',
                arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
                refusjonPrAar: 0.0,
              },
              inntektskategori: 'ARBEIDSTAKER',
              aktivitetStatus: 'AT',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [20, 20],
              refusjonskravPrAar: 0,
              belopFraInntektsmeldingPrAar: 500000,
              refusjonskravFraInntektsmeldingPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'ARBEID',
            },
            {
              andelsnr: 2,
              arbeidsforhold: {
                arbeidsforholdType: OpptjeningAktivitetType.NARING,
              },
              inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
              aktivitetStatus: 'SN',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [0],
              refusjonskravPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'NÆRING',
            },
          ],
          skalRedigereInntekt: false,
          skalPreutfyllesMedBeregningsgrunnlag: false,
          skalKunneEndreRefusjon: false,
        },
        {
          fom: '2019-11-04',
          tom: '2019-12-09',
          fordelBeregningsgrunnlagAndeler: [
            {
              andelsnr: 1,
              arbeidsforhold: {
                arbeidsgiverIdent: '123456789',
                startdato: '2017-03-01',
                arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
                refusjonPrAar: 0.0,
              },
              inntektskategori: 'ARBEIDSTAKER',
              aktivitetStatus: 'AT',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [0],
              refusjonskravPrAar: 0,
              belopFraInntektsmeldingPrAar: 500000,
              refusjonskravFraInntektsmeldingPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'ARBEID',
            },
            {
              andelsnr: 2,
              arbeidsforhold: {
                arbeidsforholdType: OpptjeningAktivitetType.NARING,
              },
              inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
              aktivitetStatus: 'SN',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [50],
              refusjonskravPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'NÆRING',
            },
          ],
          skalRedigereInntekt: true,
          skalPreutfyllesMedBeregningsgrunnlag: false,
          skalKunneEndreRefusjon: false,
        },
        {
          fom: '2019-12-10',
          tom: '9999-12-31',
          fordelBeregningsgrunnlagAndeler: [
            {
              andelsnr: 1,
              arbeidsforhold: {
                arbeidsgiverIdent: '123456789',
                startdato: '2017-03-01',
                arbeidsforholdType: OpptjeningAktivitetType.ARBEID,
                refusjonPrAar: 0.0,
              },
              inntektskategori: 'ARBEIDSTAKER',
              aktivitetStatus: 'AT',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [0],
              refusjonskravPrAar: 0,
              belopFraInntektsmeldingPrAar: 500000,
              refusjonskravFraInntektsmeldingPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'ARBEID',
            },
            {
              andelsnr: 2,
              arbeidsforhold: {
                arbeidsforholdType: OpptjeningAktivitetType.NARING,
              },
              inntektskategori: 'SELVSTENDIG_NÆRINGSDRIVENDE',
              aktivitetStatus: 'SN',
              lagtTilAvSaksbehandler: false,
              andelIArbeid: [0],
              refusjonskravPrAar: 0,
              nyttArbeidsforhold: false,
              arbeidsforholdType: 'NÆRING',
            },
          ],
          skalRedigereInntekt: true,
          skalPreutfyllesMedBeregningsgrunnlag: true,
          skalKunneEndreRefusjon: false,
        },
      ],
      arbeidsforholdTilFordeling: [
        {
          arbeidsforholdType: 'NÆRING',
          perioderMedGraderingEllerRefusjon: [
            {
              erRefusjon: false,
              erGradering: true,
              erSøktYtelse: false,
              fom: '2019-11-04',
              tom: '2019-12-09',
            },
          ],
        },
      ],
    },
  },
  dekningsgrad: 100,
  erOverstyrtInntekt: false,
} satisfies Beregningsgrunnlag;
