var ae=Object.defineProperty;var oe=(n,a,t)=>a in n?ae(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t;var M=(n,a,t)=>oe(n,typeof a!="symbol"?a+"":a,t);import{j as f}from"./jsx-runtime-CLpGMVip.js";import{r as u,R as r}from"./index-CYQpqK1Q.js";import{c as C,L as ie,B as re,E as le}from"./Label-BPD8KVQ7.js";import{u as H,B as W,c as ue}from"./Button-Cf16YGpY.js";import{u as de,a as ce}from"./Theme-C7HSpJUW.js";import{o as me}from"./omit-B7stZg_p.js";import{u as ge}from"./useId-BvUPLJVX.js";import{u as G}from"./useId-qXXRNB6N.js";import"./_commonjsHelpers-CqkleIqs.js";import"./Provider-zm75O5wD.js";var pe=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)a.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const U=u.forwardRef((n,a)=>{var{title:t,titleId:e}=n,s=pe(n,["title","titleId"]);let o=G();return o=t?e||"title-"+o:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},s),t?u.createElement("title",{id:o},t):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var he=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)a.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const z=u.forwardRef((n,a)=>{var{title:t,titleId:e}=n,s=he(n,["title","titleId"]);let o=G();return o=t?e||"title-"+o:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},s),t?u.createElement("title",{id:o},t):null,u.createElement("path",{fill:"currentColor",d:"M6.53 5.47a.75.75 0 0 0-1.06 1.06L10.94 12l-5.47 5.47a.75.75 0 1 0 1.06 1.06L12 13.06l5.47 5.47a.75.75 0 1 0 1.06-1.06L13.06 12l5.47-5.47a.75.75 0 0 0-1.06-1.06L12 10.94z"}))}),fe=u.createContext(null),ve=(n,a)=>{var t,e,s;const{size:o,error:d,errorId:v}=n,i=u.useContext(fe),c=ge(),b=(t=n.id)!==null&&t!==void 0?t:`${a}-${c}`,y=v??`${a}-error-${c}`,l=`${a}-description-${c}`,_=(i==null?void 0:i.disabled)||n.disabled,g=((i==null?void 0:i.readOnly)||n.readOnly)&&!_||void 0,w=!_&&!g&&!!(d||i!=null&&i.error),p=!_&&!g&&!!d&&typeof d!="boolean",h=Object.assign({},w?{"aria-invalid":!0}:{});return n!=null&&n.required,{showErrorMsg:p,hasError:w,errorId:y,inputDescriptionId:l,size:(e=o??(i==null?void 0:i.size))!==null&&e!==void 0?e:"medium",readOnly:g,inputProps:Object.assign(Object.assign({id:b},h),{"aria-describedby":C(n["aria-describedby"],{[l]:!!(n!=null&&n.description)&&typeof(n==null?void 0:n.description)=="string",[y]:p,[(s=i==null?void 0:i.errorId)!==null&&s!==void 0?s:""]:w&&!!(i!=null&&i.error)})||void 0,disabled:_})}},X=u.createContext(null);var be=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)a.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const J=u.forwardRef((n,a)=>{var t,{className:e,children:s,disabled:o,onClick:d}=n,v=be(n,["className","children","disabled","onClick"]);const i=H("Search"),c=u.useContext(X);if(c===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:b,variant:y,handleClick:l}=c;return r.createElement(W,Object.assign({type:"submit"},v,{ref:a,size:b,variant:y==="secondary"?"secondary":"primary",className:C("navds-search__button-search",e),disabled:(t=c==null?void 0:c.disabled)!==null&&t!==void 0?t:o,onClick:ue(d,l),icon:r.createElement(U,Object.assign({},s?{"aria-hidden":!0}:{title:i("search")}))}),s)});var ye=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)a.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const L=u.forwardRef((n,a)=>{const{inputProps:t,size:e="medium",inputDescriptionId:s,errorId:o,showErrorMsg:d,hasError:v}=ve(n,"searchfield"),{className:i,hideLabel:c=!0,label:b,description:y,value:l,clearButtonLabel:_,onClear:g,clearButton:w=!0,children:p,variant:h="primary",defaultValue:k,onChange:B,onSearchClick:O,htmlSize:E}=n,Y=ye(n,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),Z=de(!1),j=u.useRef(null),ee=ce(j,a),F=H("Search"),[D,te]=u.useState(k??""),q=m=>{l===void 0&&te(m),B==null||B(m)},T=m=>{var S,$;g==null||g(m),q(""),($=(S=j.current)===null||S===void 0?void 0:S.focus)===null||$===void 0||$.call(S)},ne=()=>{O==null||O(`${l??D}`)},A=w&&!t.disabled&&(l??D),se=()=>Z?r.createElement(W,{className:"navds-search__button-clear",variant:"tertiary-neutral",size:e==="medium"?"small":"xsmall",icon:r.createElement(z,{"aria-hidden":!0}),title:_||F("clear"),hidden:!A,onClick:m=>T({trigger:"Click",event:m})}):r.createElement("button",{type:"button",onClick:m=>T({trigger:"Click",event:m}),className:"navds-search__button-clear",hidden:!A},r.createElement("span",{className:"navds-sr-only"},_||F("clear")),r.createElement(z,{"aria-hidden":!0}));return r.createElement("div",{onKeyDown:m=>{var S;m.key==="Escape"&&(!((S=j.current)===null||S===void 0)&&S.value&&m.preventDefault(),T({trigger:"Escape",event:m}))},className:C(i,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":v,"navds-search--disabled":t.disabled,"navds-search--with-size":E})},r.createElement(ie,{htmlFor:t.id,size:e,className:C("navds-form-field__label",{"navds-sr-only":c})},b),!!y&&r.createElement(re,{className:C("navds-form-field__description",{"navds-sr-only":c}),id:s,size:e,as:"div"},y),r.createElement("div",{className:"navds-search__wrapper"},r.createElement("div",{className:"navds-search__wrapper-inner"},h==="simple"&&r.createElement(U,{"aria-hidden":!0,className:"navds-search__search-icon"}),r.createElement("input",Object.assign({ref:ee},me(Y,["error","errorId","size","readOnly"]),t,{value:l??D,onChange:m=>q(m.target.value),type:"search",className:C(i,"navds-search__input",`navds-search__input--${h}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},E?{size:Number(E)}:{})),r.createElement(se,null)),r.createElement(X.Provider,{value:{size:e,disabled:t.disabled,variant:h,handleClick:ne}},p||h!=="simple"&&r.createElement(J,null))),r.createElement("div",{className:"navds-form-field__error",id:o,"aria-relevant":"additions removals","aria-live":"polite"},d&&r.createElement(le,{size:e,showIcon:!0},n.error)))});L.Button=J;const _e="_autocompleteSuggestion__substring_mf7v0_1",Se="_autocompleteSuggestion__substring_mf7v0_1",we="_autocompleteSuggestion__inner_mf7v0_4",Ce="_autocompleteSuggestion__inner_mf7v0_4",xe="_autocompleteSuggestion--active_mf7v0_12",x={autocompleteSuggestion__substring:_e,autocompleteSuggestionSubstring:Se,autocompleteSuggestion__inner:we,autocompleteSuggestionInner:Ce,"autocompleteSuggestion--active":"_autocompleteSuggestion--active_mf7v0_12",autocompleteSuggestionActive:xe};class Q extends r.Component{constructor(a){super(a),this.state={value:a.value},this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}onClick(){const{onClick:a}=this.props,{value:t}=this.state;a(t)}onMouseMove(){const{setSuggestionIndex:a,index:t}=this.props;a(t)}render(){const{match:a,active:t,avoidBlur:e,id:s}=this.props,{value:o}=this.state.value,d=o.toLowerCase().startsWith(a.toLowerCase());return f.jsx("li",{id:s,role:"option","aria-selected":t,onClick:this.onClick,onMouseMove:this.onMouseMove,onFocus:e,onMouseDown:e,onKeyDown:e,className:"autocompleteSuggestion typo-normal",children:d?f.jsxs("span",{className:`${x.autocompleteSuggestion__inner} ${t?x["autocompleteSuggestion--active"]:""}`,children:[o.substring(0,a.length),f.jsx("span",{className:x.autocompleteSuggestion__substring,children:o.substring(a.length)})]}):f.jsx("span",{className:`${x.autocompleteSuggestion__inner} ${t?x["autocompleteSuggestion--active"]:""}`,children:o})})}}Q.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseMove",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AutocompleteSuggestion",props:{id:{required:!0,tsType:{name:"string"},description:""},index:{required:!0,tsType:{name:"number"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"value"}],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"Suggestion"},description:""},match:{required:!0,tsType:{name:"string"},description:""},active:{required:!0,tsType:{name:"boolean"},description:""},setSuggestionIndex:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""},avoidBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ie="_autocomplete_9dlnp_1",ke="_autocomplete__suggestions_9dlnp_27",Be="_autocomplete__suggestions_9dlnp_27",Oe="_autocomplete__suggestions--hidden_9dlnp_31",N={autocomplete:Ie,autocomplete__suggestions:ke,autocompleteSuggestions:Be,"autocomplete__suggestions--hidden":"_autocomplete__suggestions--hidden_9dlnp_31",autocompleteSuggestionsHidden:Oe};class R extends r.Component{constructor(t){super(t);M(this,"input");M(this,"inputRef");this.state={activeSuggestionIndex:-1,hasFocus:!1,shouldShowSuggestions:!0,setAriaActiveDescendant:!1,shouldBlur:!0,blurDelay:null},this.inputRef=e=>{this.input=e},this.onChange=this.onChange.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onFocus=this.onFocus.bind(this),this.setValue=this.setValue.bind(this),this.setSuggestionIndex=this.setSuggestionIndex.bind(this),this.avoidBlur=this.avoidBlur.bind(this),this.clearBlurDelay=this.clearBlurDelay.bind(this),this.onSearchButtonClick=this.onSearchButtonClick.bind(this)}componentWillUnmount(){const{blurDelay:t}=this.state;t&&(clearTimeout(t),this.setState({blurDelay:null}))}onChange(t){const{onChange:e}=this.props;this.setState({activeSuggestionIndex:-1,shouldShowSuggestions:!0}),e(t)}onSearchButtonClick(t){const{onSearchButtonClick:e}=this.props;t.preventDefault(),e&&e()}onKeyDown(t){const{shouldShowSuggestions:e}=this.state;let{activeSuggestionIndex:s}=this.state;const{suggestions:o}=this.props,d=s>-1;switch(this.setState({setAriaActiveDescendant:t.keyCode===38||t.keyCode===40}),t.keyCode){case 9:d&&e&&this.setValue(o[s]);break;case 13:d&&e?(t.preventDefault(),this.setValue(o[s])):e&&o.length===1?this.setValue(o[0]):this.setState({shouldShowSuggestions:!1});break;case 27:e&&o.length>0&&(t.preventDefault(),this.setState({shouldShowSuggestions:!1}));break;case 38:e&&(t.preventDefault(),s=s-1===-2?-1:s-1,this.setState({activeSuggestionIndex:s}));break;case 40:e&&(t.preventDefault(),s=s+1===o.length?o.length-1:s+1,this.setState({activeSuggestionIndex:s}));break}}onFocus(){this.setState({hasFocus:!0,activeSuggestionIndex:-1})}onBlur(){const t=setTimeout(()=>{const{shouldBlur:s}=this.state;s&&this.setState({hasFocus:!1})},10);this.setState({blurDelay:t});const{onBlur:e}=this.props;e&&e()}setSuggestionIndex(t){this.setState({activeSuggestionIndex:t}),this.clearBlurDelay()}setValue(t){this.setState({shouldShowSuggestions:!1,activeSuggestionIndex:-1},()=>{this.inputRef.focus()}),this.clearBlurDelay();const{onSelect:e}=this.props;e(t)}avoidBlur(){this.setState({shouldBlur:!1})}clearBlurDelay(){const{blurDelay:t}=this.state;t&&(clearTimeout(t),this.setState({blurDelay:null})),this.setState({shouldBlur:!0})}render(){const{suggestions:t,id:e,ariaLabel:s,placeholder:o,value:d,name:v,shouldFocusOnMount:i,isLoading:c}=this.props,{activeSuggestionIndex:b,setAriaActiveDescendant:y,hasFocus:l,shouldShowSuggestions:_}=this.state,g=l&&_&&t.length>0,w=y&&b>-1?`${e}-item-${b}`:void 0;return f.jsxs("div",{className:`${N.autocomplete} autocomplete`,"aria-expanded":g,"aria-owns":`${e}-suggestions`,"aria-haspopup":"listbox",children:[f.jsx(L,{variant:"primary",id:e,name:v,"aria-label":s,"aria-autocomplete":"list","aria-controls":`${e}-suggestions`,"aria-activedescendant":w,placeholder:o,value:d,autoComplete:"off",onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onFocus:this.onFocus,ref:p=>{this.inputRef=p},className:"typo-normal",autoFocus:i,label:s,hideLabel:!0,children:f.jsx(L.Button,{loading:c,onClick:this.onSearchButtonClick})}),f.jsx("ul",{id:`${e}-suggestions`,role:"listbox",className:g?N.autocomplete__suggestions:N["autocomplete__suggestions--hidden"],children:g&&t.map((p,h)=>f.jsx(Q,{id:`${e}-item-${h}`,index:h,value:p,match:d,active:h===b,onClick:this.setValue,setSuggestionIndex:this.setSuggestionIndex,avoidBlur:this.avoidBlur},p.key))})]})}}R.__docgenInfo={description:"",methods:[{name:"onChange",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:{name:"string"}}],returns:null},{name:"onSearchButtonClick",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactFormEvent",raw:"React.FormEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}],alias:"React.FormEvent"}}],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent",alias:"React.KeyboardEvent"}}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onBlur",docblock:null,modifiers:[],params:[],returns:null},{name:"setSuggestionIndex",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:{name:"number"}}],returns:null},{name:"setValue",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:{name:"Suggestion",alias:"Suggestion"}}],returns:null},{name:"avoidBlur",docblock:null,modifiers:[],params:[],returns:null},{name:"clearBlurDelay",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Autocomplete",props:{onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"value"}],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},placeholder:{required:!0,tsType:{name:"string"},description:""},suggestions:{required:!0,tsType:{name:"Array",elements:[{name:"Suggestion"}],raw:"Suggestion[]"},description:""},value:{required:!0,tsType:{name:"string"},description:""},ariaLabel:{required:!0,tsType:{name:"string"},description:""},id:{required:!0,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},shouldFocusOnMount:{required:!1,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},onSearchButtonClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ze={title:"Autocomplete",component:R},Ee=()=>f.jsx(R,{value:"Verdi",onChange:n=>n,ariaLabel:"ariaLabel",id:"autocompleteId",placeholder:"",suggestions:[{key:"testItem",value:"Test Item"}],onSelect:()=>console.log("Selected")}),I=Ee.bind({});I.args={};var P,V,K;I.parameters={...I.parameters,docs:{...(P=I.parameters)==null?void 0:P.docs,source:{originalSource:`() => <Autocomplete value="Verdi" onChange={v => v} ariaLabel="ariaLabel" id="autocompleteId" placeholder="" suggestions={[{
  key: 'testItem',
  value: 'Test Item'
}]}
// eslint-disable-next-line no-console
onSelect={() => console.log('Selected')} />`,...(K=(V=I.parameters)==null?void 0:V.docs)==null?void 0:K.source}}};const Pe=["Default"];export{I as Default,Pe as __namedExportsOrder,ze as default};
