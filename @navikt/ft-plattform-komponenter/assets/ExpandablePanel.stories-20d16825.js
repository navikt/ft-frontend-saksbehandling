import{j as f}from"./jsx-runtime-5926aa06.js";import{m as A}from"./index.es-377e5521.js";import{r as z}from"./index-ebeaab24.js";var O={};function x(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(r){return typeof r}:x=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x(e)}Object.defineProperty(O,"__esModule",{value:!0});O.Collapse=void 0;var B=G(z);function G(e){return e&&e.__esModule?e:{default:e}}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t,r){return t&&W(e.prototype,t),r&&W(e,r),e}function X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},k(e,t)}function Y(e){var t=ee();return function(){var o=C(e),n;if(t){var a=C(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&(x(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},C(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=function(e){X(r,e);var t=Y(r);function r(o){var n;return J(this,r),n=t.call(this,o),d(p(n),"timeout",void 0),d(p(n),"container",void 0),d(p(n),"content",void 0),d(p(n),"onResize",function(){if(clearTimeout(n.timeout),!(!n.container||!n.content)){var a=n.props,i=a.isOpened,u=a.checkTimeout,l=Math.floor(n.container.clientHeight),s=Math.floor(n.content.clientHeight),c=i&&Math.abs(s-l)<=1,h=!i&&Math.abs(l)<=1;c||h?n.onRest({isFullyOpened:c,isFullyClosed:h,isOpened:i,containerHeight:l,contentHeight:s}):(n.onWork({isFullyOpened:c,isFullyClosed:h,isOpened:i,containerHeight:l,contentHeight:s}),n.timeout=setTimeout(function(){return n.onResize()},u))}}),d(p(n),"onRest",function(a){var i=a.isFullyOpened,u=a.isFullyClosed,l=a.isOpened,s=a.containerHeight,c=a.contentHeight;if(!(!n.container||!n.content)){var h=l&&n.container.style.height==="".concat(c,"px"),j=!l&&n.container.style.height==="0px";if(h||j){n.container.style.overflow=l?"initial":"hidden",n.container.style.height=l?"auto":"0px";var y=n.props.onRest;y&&y({isFullyOpened:i,isFullyClosed:u,isOpened:l,containerHeight:s,contentHeight:c})}}}),d(p(n),"onWork",function(a){var i=a.isFullyOpened,u=a.isFullyClosed,l=a.isOpened,s=a.containerHeight,c=a.contentHeight;if(!(!n.container||!n.content)){var h=l&&n.container.style.height==="".concat(c,"px"),j=!l&&n.container.style.height==="0px";if(!(h||j)){n.container.style.overflow="hidden",n.container.style.height=l?"".concat(c,"px"):"0px";var y=n.props.onWork;y&&y({isFullyOpened:i,isFullyClosed:u,isOpened:l,containerHeight:s,contentHeight:c})}}}),d(p(n),"onRefContainer",function(a){n.container=a}),d(p(n),"onRefContent",function(a){n.content=a}),o.initialStyle?n.initialStyle=o.initialStyle:n.initialStyle=o.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},n}return Q(r,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(n){var a=this.props,i=a.theme,u=a.isOpened,l=a.children;return l!==n.children||u!==n.isOpened||Object.keys(i).some(function(s){return i[s]!==n.theme[s]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var n=this.content.clientHeight;this.container.style.height="".concat(n,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var n=this.props,a=n.theme,i=n.children,u=n.isOpened;return B.default.createElement("div",{ref:this.onRefContainer,className:a.collapse,style:this.initialStyle,"aria-hidden":!u},B.default.createElement("div",{ref:this.onRefContent,className:a.content},i))}}]),r}(B.default.Component);O.Collapse=V;d(V,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var S={};function P(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(r){return typeof r}:P=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P(e)}Object.defineProperty(S,"__esModule",{value:!0});S.UnmountClosed=void 0;var T=oe(z),ne=O,te=["isOpened"],re=["isOpened"];function oe(e){return e&&e.__esModule?e:{default:e}}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},E.apply(this,arguments)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(o){b(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function D(e,t){if(e==null)return{};var r=ae(e,t),o,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ae(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,a;for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),e}function ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}function $(e,t){return $=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},$(e,t)}function se(e){var t=pe();return function(){var o=R(e),n;if(t){var a=R(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&(P(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},R(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=function(e){ue(r,e);var t=se(r);function r(o){var n;return ie(this,r),n=t.call(this,o),b(g(n),"onWork",function(a){var i=a.isOpened,u=D(a,te);n.setState({isResting:!1,isOpened:i});var l=n.props.onWork;l&&l(U({isOpened:i},u))}),b(g(n),"onRest",function(a){var i=a.isOpened,u=D(a,re);n.setState({isResting:!0,isOpened:i,isInitialRender:!1});var l=n.props.onRest;l&&l(U({isOpened:i},u))}),b(g(n),"getInitialStyle",function(){var a=n.state,i=a.isOpened,u=a.isInitialRender;return u?i?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),n.state={isResting:!0,isOpened:o.isOpened,isInitialRender:!0},n}return le(r,[{key:"componentDidUpdate",value:function(n){var a=this.props.isOpened;n.isOpened!==a&&this.setState({isResting:!1,isOpened:a,isInitialRender:!1})}},{key:"render",value:function(){var n=this.state,a=n.isResting,i=n.isOpened;return a&&!i?null:T.default.createElement(ne.Collapse,E({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),r}(T.default.PureComponent);S.UnmountClosed=K;b(K,"defaultProps",{onWork:void 0,onRest:void 0});var de=O,fe=de.Collapse,he=S,w=he.UnmountClosed,_e=w;w.Collapse=fe;w.UnmountClosed=w;const ye="_expandablePanel_1x4hl_1",me="_expandablePanel__button_1x4hl_7",be="_expandablePanel__button_1x4hl_7",Oe="_expandablePanel__contentWrapper_1x4hl_17",ve="_expandablePanel__contentWrapper_1x4hl_17",xe="_expandablePanel__expandedContent_1x4hl_20",Pe="_expandablePanel__expandedContent_1x4hl_20",ge="_expandablePanel__themeBorder_1x4hl_24",Ce="_expandablePanel__themeBorder_1x4hl_24",Re="_expandablePanel__themeBorder--success_1x4hl_30",we="_expandablePanel__themeBorder--warn_1x4hl_33",Se="_expandablePanel__themeBorder--neutral_1x4hl_36",_={expandablePanel:ye,expandablePanel__button:me,expandablePanelButton:be,expandablePanel__contentWrapper:Oe,expandablePanelContentWrapper:ve,expandablePanel__expandedContent:xe,expandablePanelExpandedContent:Pe,expandablePanel__themeBorder:ge,expandablePanelThemeBorder:Ce,"expandablePanel__themeBorder--success":"_expandablePanel__themeBorder--success_1x4hl_30",expandablePanelThemeBorderSuccess:Re,"expandablePanel__themeBorder--warn":"_expandablePanel__themeBorder--warn_1x4hl_33",expandablePanelThemeBorderWarn:we,"expandablePanel__themeBorder--neutral":"_expandablePanel__themeBorder--neutral_1x4hl_36",expandablePanelThemeBorderNeutral:Se},v=A("expandablePanel"),H=({renderHeader:e,children:t,theme:r="neutral",isOpen:o,onClick:n})=>f.jsxs("div",{className:_[v.block],children:[f.jsx("div",{className:`${_.expandablePanel__themeBorder} ${_[`expandablePanel__themeBorder--${r}`]}`}),f.jsxs("div",{className:_[v.element("contentWrapper")],children:[f.jsx("button",{className:_[v.element("button")],type:"button",onClick:n,children:e()}),f.jsx(_e.Collapse,{isOpened:o,children:f.jsx("div",{className:_[v.element("expandedContent")],children:t})})]})]}),L=H;try{H.displayName="ExpandablePanel",H.__docgenInfo={description:"",displayName:"ExpandablePanel",props:{theme:{defaultValue:{value:"neutral"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"warn"'},{value:'"neutral"'}]}},renderHeader:{defaultValue:null,description:"",name:"renderHeader",required:!0,type:{name:"() => ReactNode"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const $e={title:"Expandable panel",component:L},je=()=>f.jsx(L,{renderHeader:()=>null,isOpen:!0,onClick:()=>null,children:f.jsx("p",{children:"Dette er en test"})}),m=je.bind({});m.args={};var I,M,q;m.parameters={...m.parameters,docs:{...(I=m.parameters)==null?void 0:I.docs,source:{originalSource:`() => <ExpandablePanelComponent renderHeader={() => null} isOpen onClick={() => null}>
    <p>Dette er en test</p>
  </ExpandablePanelComponent>`,...(q=(M=m.parameters)==null?void 0:M.docs)==null?void 0:q.source}}};const He=["ExpandablePanel"];export{m as ExpandablePanel,He as __namedExportsOrder,$e as default};
//# sourceMappingURL=ExpandablePanel.stories-20d16825.js.map
