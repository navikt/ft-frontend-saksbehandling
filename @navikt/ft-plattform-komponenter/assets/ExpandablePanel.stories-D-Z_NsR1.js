import{j as f}from"./jsx-runtime-_e34SzbC.js";import{f as V}from"./index.es-DyUVmyLI.js";import{r as q}from"./index-DVXBtNgz.js";import"./tslib.es6-pJfR_DrR.js";var O={};function x(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(r){return typeof r}:x=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x(e)}Object.defineProperty(O,"__esModule",{value:!0});O.Collapse=void 0;var B=G(q);function G(e){return e&&e.__esModule?e:{default:e}}function J(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,n,r){return n&&$(e.prototype,n),r&&$(e,r),e}function X(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&k(e,n)}function k(e,n){return k=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},k(e,n)}function Y(e){var n=ee();return function(){var o=R(e),t;if(n){var a=R(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return Z(this,t)}}function Z(e,n){if(n&&(x(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},R(e)}function d(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var z=function(e){X(r,e);var n=Y(r);function r(o){var t;return J(this,r),t=n.call(this,o),d(p(t),"timeout",void 0),d(p(t),"container",void 0),d(p(t),"content",void 0),d(p(t),"onResize",function(){if(clearTimeout(t.timeout),!(!t.container||!t.content)){var a=t.props,i=a.isOpened,s=a.checkTimeout,l=Math.floor(t.container.clientHeight),u=Math.floor(t.content.clientHeight),c=i&&Math.abs(u-l)<=1,h=!i&&Math.abs(l)<=1;c||h?t.onRest({isFullyOpened:c,isFullyClosed:h,isOpened:i,containerHeight:l,contentHeight:u}):(t.onWork({isFullyOpened:c,isFullyClosed:h,isOpened:i,containerHeight:l,contentHeight:u}),t.timeout=setTimeout(function(){return t.onResize()},s))}}),d(p(t),"onRest",function(a){var i=a.isFullyOpened,s=a.isFullyClosed,l=a.isOpened,u=a.containerHeight,c=a.contentHeight;if(!(!t.container||!t.content)){var h=l&&t.container.style.height==="".concat(c,"px"),j=!l&&t.container.style.height==="0px";if(h||j){t.container.style.overflow=l?"initial":"hidden",t.container.style.height=l?"auto":"0px";var y=t.props.onRest;y&&y({isFullyOpened:i,isFullyClosed:s,isOpened:l,containerHeight:u,contentHeight:c})}}}),d(p(t),"onWork",function(a){var i=a.isFullyOpened,s=a.isFullyClosed,l=a.isOpened,u=a.containerHeight,c=a.contentHeight;if(!(!t.container||!t.content)){var h=l&&t.container.style.height==="".concat(c,"px"),j=!l&&t.container.style.height==="0px";if(!(h||j)){t.container.style.overflow="hidden",t.container.style.height=l?"".concat(c,"px"):"0px";var y=t.props.onWork;y&&y({isFullyOpened:i,isFullyClosed:s,isOpened:l,containerHeight:u,contentHeight:c})}}}),d(p(t),"onRefContainer",function(a){t.container=a}),d(p(t),"onRefContent",function(a){t.content=a}),o.initialStyle?t.initialStyle=o.initialStyle:t.initialStyle=o.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return Q(r,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(t){var a=this.props,i=a.theme,s=a.isOpened,l=a.children;return l!==t.children||s!==t.isOpened||Object.keys(i).some(function(u){return i[u]!==t.theme[u]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var t=this.content.clientHeight;this.container.style.height="".concat(t,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var t=this.props,a=t.theme,i=t.children,s=t.isOpened;return B.default.createElement("div",{ref:this.onRefContainer,className:a.collapse,style:this.initialStyle,"aria-hidden":!s},B.default.createElement("div",{ref:this.onRefContent,className:a.content},i))}}]),r}(B.default.Component);O.Collapse=z;d(z,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var S={};function g(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(r){return typeof r}:g=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},g(e)}Object.defineProperty(S,"__esModule",{value:!0});S.UnmountClosed=void 0;var H=oe(q),te=O,ne=["isOpened"],re=["isOpened"];function oe(e){return e&&e.__esModule?e:{default:e}}function E(){return E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},E.apply(this,arguments)}function N(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function W(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?N(Object(r),!0).forEach(function(o){b(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function F(e,n){if(e==null)return{};var r=ae(e,n),o,t;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)o=a[t],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ae(e,n){if(e==null)return{};var r={},o=Object.keys(e),t,a;for(a=0;a<o.length;a++)t=o[a],!(n.indexOf(t)>=0)&&(r[t]=e[t]);return r}function ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,n,r){return n&&U(e.prototype,n),r&&U(e,r),e}function se(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}function T(e,n){return T=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},T(e,n)}function ue(e){var n=pe();return function(){var o=w(e),t;if(n){var a=w(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return ce(this,t)}}function ce(e,n){if(n&&(g(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},w(e)}function b(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var A=function(e){se(r,e);var n=ue(r);function r(o){var t;return ie(this,r),t=n.call(this,o),b(P(t),"onWork",function(a){var i=a.isOpened,s=F(a,ne);t.setState({isResting:!1,isOpened:i});var l=t.props.onWork;l&&l(W({isOpened:i},s))}),b(P(t),"onRest",function(a){var i=a.isOpened,s=F(a,re);t.setState({isResting:!0,isOpened:i,isInitialRender:!1});var l=t.props.onRest;l&&l(W({isOpened:i},s))}),b(P(t),"getInitialStyle",function(){var a=t.state,i=a.isOpened,s=a.isInitialRender;return s?i?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),t.state={isResting:!0,isOpened:o.isOpened,isInitialRender:!0},t}return le(r,[{key:"componentDidUpdate",value:function(t){var a=this.props.isOpened;t.isOpened!==a&&this.setState({isResting:!1,isOpened:a,isInitialRender:!1})}},{key:"render",value:function(){var t=this.state,a=t.isResting,i=t.isOpened;return a&&!i?null:H.default.createElement(te.Collapse,E({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),r}(H.default.PureComponent);S.UnmountClosed=A;b(A,"defaultProps",{onWork:void 0,onRest:void 0});var de=O,fe=de.Collapse,he=S,C=he.UnmountClosed,_e=C;C.Collapse=fe;C.UnmountClosed=C;const ye="_expandablePanel_1x4hl_1",me="_expandablePanel__button_1x4hl_7",be="_expandablePanel__button_1x4hl_7",Oe="_expandablePanel__contentWrapper_1x4hl_17",ve="_expandablePanel__contentWrapper_1x4hl_17",xe="_expandablePanel__expandedContent_1x4hl_20",ge="_expandablePanel__expandedContent_1x4hl_20",Pe="_expandablePanel__themeBorder_1x4hl_24",Re="_expandablePanel__themeBorder_1x4hl_24",we="_expandablePanel__themeBorder--success_1x4hl_30",Ce="_expandablePanel__themeBorder--warn_1x4hl_33",Se="_expandablePanel__themeBorder--neutral_1x4hl_36",_={expandablePanel:ye,expandablePanel__button:me,expandablePanelButton:be,expandablePanel__contentWrapper:Oe,expandablePanelContentWrapper:ve,expandablePanel__expandedContent:xe,expandablePanelExpandedContent:ge,expandablePanel__themeBorder:Pe,expandablePanelThemeBorder:Re,"expandablePanel__themeBorder--success":"_expandablePanel__themeBorder--success_1x4hl_30",expandablePanelThemeBorderSuccess:we,"expandablePanel__themeBorder--warn":"_expandablePanel__themeBorder--warn_1x4hl_33",expandablePanelThemeBorderWarn:Ce,"expandablePanel__themeBorder--neutral":"_expandablePanel__themeBorder--neutral_1x4hl_36",expandablePanelThemeBorderNeutral:Se},v=V("expandablePanel"),K=({renderHeader:e,children:n,theme:r="neutral",isOpen:o,onClick:t})=>f.jsxs("div",{className:_[v.block],children:[f.jsx("div",{className:`${_.expandablePanel__themeBorder} ${_[`expandablePanel__themeBorder--${r}`]}`}),f.jsxs("div",{className:_[v.element("contentWrapper")],children:[f.jsx("button",{className:_[v.element("button")],type:"button",onClick:t,children:e()}),f.jsx(_e.Collapse,{isOpened:o,children:f.jsx("div",{className:_[v.element("expandedContent")],children:n})})]})]}),L=K;K.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel",props:{theme:{required:!1,tsType:{name:"union",raw:"'success' | 'warn' | 'neutral'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'warn'"},{name:"literal",value:"'neutral'"}]},description:"",defaultValue:{value:"'neutral'",computed:!1}},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},renderHeader:{required:!0,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const $e={title:"Expandable panel",component:L},je=()=>f.jsx(L,{renderHeader:()=>null,isOpen:!0,onClick:()=>null,children:f.jsx("p",{children:"Dette er en test"})}),m=je.bind({});m.args={};var D,I,M;m.parameters={...m.parameters,docs:{...(D=m.parameters)==null?void 0:D.docs,source:{originalSource:`() => <ExpandablePanelComponent renderHeader={() => null} isOpen onClick={() => null}>
    <p>Dette er en test</p>
  </ExpandablePanelComponent>`,...(M=(I=m.parameters)==null?void 0:I.docs)==null?void 0:M.source}}};const He=["ExpandablePanel"];export{m as ExpandablePanel,He as __namedExportsOrder,$e as default};
