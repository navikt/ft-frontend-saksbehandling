import{j as G}from"./jsx-runtime-DR9Q75dM.js";import{r as p}from"./index-DRjF_FHU.js";import{p as H,i as _,d as x,a as K,b as k,A as F,R as E}from"./index.es-CzgiVzSW.js";import{f as T,i as Q,g as pe,c as me,D as U}from"./customParseFormat-DNByE6YY.js";import{j as fe,a as ve,b as De,g as ge,d as ye,r as ke}from"./decorators-DM-2uixQ.js";import{R as be}from"./ReadOnlyField-D5oVkEFG.js";import"./index-rX-Bn4lm.js";import"./Select-MM573nlu.js";import"./v4-CQkTLCs1.js";const he=(b={})=>Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isValidDate:!0},b),we=(b={})=>{var h;const{locale:V,required:q,defaultSelected:M,today:o=new Date,fromDate:i,toDate:v,disabled:D,disableWeekends:P,onDateChange:w,inputFormat:d,onValidate:S,defaultMonth:u,allowTwoDigitYear:s=!0}=b,[f,W]=p.useState(null),C=fe(),c=V?pe(V):C,[n,L]=p.useState(M),[Y,r]=p.useState((h=n??u)!==null&&h!==void 0?h:o),[t,I]=p.useState(n),[J,ue]=p.useState(!1),O=n?T(n,c,"date",d):"",[ce,g]=p.useState(O),z=p.useCallback(a=>{var e,l;ue(a),a&&r((l=(e=t??n)!==null&&e!==void 0?e:u)!==null&&l!==void 0?l:o)},[u,n,t,o]),y=a=>{w==null||w(a),I(a)},R=(a={})=>S==null?void 0:S(he(a));return{datepickerProps:{month:Y,onMonthChange:r,onDayClick:(a,{selected:e})=>{if(!(e&&q)){if(a&&!e&&(z(!1),f==null||f.focus()),e){y(void 0),g(""),R({isValidDate:!1,isEmpty:!0});return}y(a),R(),r(a),g(a?T(a,c,"date",d):"")}},selected:t??new Date("Invalid date"),locale:V,fromDate:i,toDate:v,today:o,open:J,onClose:()=>{z(!1),f==null||f.focus()},onOpenToggle:()=>z(!J),disabled:D,disableWeekends:P},inputProps:{onChange:a=>{g(a.target.value);const e=H(a.target.value,o,c,"date",s),l=i&&e&&x(i,e)>0,m=v&&e&&x(e,v)>0;if(!_(e)||P&&Q(e)||D&&K(e,D)){y(void 0),R({isInvalid:!_(e),isWeekend:P&&Q(e),isDisabled:D&&K(e,D),isValidDate:!1,isEmpty:!a.target.value,isBefore:l??!1,isAfter:m??!1});return}if(l||m){y(void 0),R({isValidDate:!1,isBefore:l??!1,isAfter:m??!1});return}y(e),R(),r(u??e)},onFocus:a=>{if(a.target.readOnly)return;const e=H(a.target.value,o,c,"date",s);if(_(e)){g(T(e,c,"date",d));const l=i&&e&&x(i,e)>0,m=v&&e&&x(e,v)>0;!l&&!m&&r(e)}},onBlur:a=>{const e=H(a.target.value,o,c,"date",s);_(e)&&g(T(e,c,"date",d))},value:ce,setAnchorRef:W},reset:()=>{var a;y(n),r((a=n??u)!==null&&a!==void 0?a:o),g(O??""),L(M)},selectedDay:t,setSelected:a=>{var e;y(a),r((e=a??u)!==null&&e!==void 0?e:o),g(a?T(a,c,"date",d):"")}}};k.extend(me);const de=({name:b,label:h,description:V,validate:q=[],disabled:M=!1,isReadOnly:o=!1,onChange:i,disabledDays:v,isEdited:D,defaultMonth:P,fromDate:w,toDate:d,size:S="small"})=>{const{formState:{errors:u}}=ve(),{field:s}=De({name:b,rules:{validate:p.useMemo(()=>ge(q),[q])}}),f=s.value?k(s.value,F,!0).format(E):"",[W,C]=p.useState(f),{datepickerProps:c,inputProps:n}=we({onDateChange:r=>{if(r!==void 0){const t=k(r).format(F);i&&i(t),s.onChange(t),C(k(t,F,!0).format(E))}},defaultSelected:s.value?k(s.value,F,!0).toDate():void 0,defaultMonth:P||(!s.value&&d?d:void 0),disabled:v}),L=p.useCallback(r=>{const t=k(r.target.value,E,!0).format(F),I=t!=="Invalid Date";C(r.target.value),i&&i(I?t:r.target.value),s.onChange(I?t:r.target.value)},[C,i,s]);if(o)return G.jsx(be,{label:h,value:s.value?k(s.value,F,!0).format(E):void 0,isEdited:D,size:S});const Y={...c,fromDate:w,toDate:d,dropdownCaption:w&&d?!0:void 0};return G.jsx(U,{...Y,children:G.jsx(U.Input,{...n,onChange:L,value:W,size:S,label:h,description:V,disabled:M,error:ye(u,b)})})};de.__docgenInfo={description:"",methods:[],displayName:"Datepicker",props:{name:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},description:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},validate:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"((value: string) => any)[]"},description:"",defaultValue:{value:"[]",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isReadOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any) => void",signature:{arguments:[{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},disabledDays:{required:!1,tsType:{name:"DatePickerProps['disabled']",raw:"DatePickerProps['disabled']"},description:""},isEdited:{required:!1,tsType:{name:"boolean"},description:""},defaultMonth:{required:!1,tsType:{name:"Date"},description:""},size:{required:!1,tsType:{name:"union",raw:"'medium' | 'small'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'small'"}]},description:"",defaultValue:{value:"'small'",computed:!1}},fromDate:{required:!1,tsType:{name:"Date"},description:""},toDate:{required:!1,tsType:{name:"Date"},description:""}}};const Ne={component:de,tags:["autodocs"],decorators:ke({datepickerFieldPre:"2022-10-11"})},j={args:{name:"datepickerField",label:"Dette er en datepicker",description:"Dette er en nærmere beskrivelse"}},A={args:{name:"datepickerField",label:"Dette er en datepicker med disabled datoer",fromDate:new Date("2024-10-12"),toDate:new Date("2025-02-24"),defaultMonth:new Date("2024-11-11")}},B={args:{label:"Dette er en datepicker der verdi er valgt",name:"datepickerFieldPre",fromDate:new Date("2022-10-02"),toDate:new Date("2022-10-24")}},N={args:{label:"Dette er en datepicker som er readonly",name:"datepickerFieldPre",isReadOnly:!0,isEdited:!0}};var X,Z,$;j.parameters={...j.parameters,docs:{...(X=j.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    name: 'datepickerField',
    label: 'Dette er en datepicker',
    description: 'Dette er en nærmere beskrivelse'
  }
}`,...($=(Z=j.parameters)==null?void 0:Z.docs)==null?void 0:$.source}}};var ee,ae,te;A.parameters={...A.parameters,docs:{...(ee=A.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    name: 'datepickerField',
    label: 'Dette er en datepicker med disabled datoer',
    fromDate: new Date('2024-10-12'),
    toDate: new Date('2025-02-24'),
    defaultMonth: new Date('2024-11-11')
  }
}`,...(te=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:te.source}}};var re,se,ne;B.parameters={...B.parameters,docs:{...(re=B.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    label: 'Dette er en datepicker der verdi er valgt',
    name: 'datepickerFieldPre',
    fromDate: new Date('2022-10-02'),
    toDate: new Date('2022-10-24')
  }
}`,...(ne=(se=B.parameters)==null?void 0:se.docs)==null?void 0:ne.source}}};var le,oe,ie;N.parameters={...N.parameters,docs:{...(le=N.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    label: 'Dette er en datepicker som er readonly',
    name: 'datepickerFieldPre',
    isReadOnly: true,
    isEdited: true
  }
}`,...(ie=(oe=N.parameters)==null?void 0:oe.docs)==null?void 0:ie.source}}};const We=["Default","MedDisabledDatoer","MedVerdi","ReadOnly"];export{j as Default,A as MedDisabledDatoer,B as MedVerdi,N as ReadOnly,We as __namedExportsOrder,Ne as default};
