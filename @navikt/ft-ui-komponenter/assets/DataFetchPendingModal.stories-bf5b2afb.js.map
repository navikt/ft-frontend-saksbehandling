{"version":3,"file":"DataFetchPendingModal.stories-bf5b2afb.js","sources":["../../src/DataFetchPendingModal.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { HStack, Label, Loader, Modal } from '@navikt/ds-react';\n\nimport { createIntl } from '@navikt/ft-utils';\n\nimport messages from '../i18n/nb_NO.json';\n\nimport styles from './dataFetchPendingModal.module.css';\n\nconst intl = createIntl(messages);\n\n// Skal ikke være mulig å lukke modal\nconst doNothing = () => undefined;\n\n// Vent to sekund med å vise melding\nconst MESSAGE_DELAY_MILLIS = 2000;\n\nexport interface OwnProps {\n  pendingMessage: string;\n}\n\ninterface OwnState {\n  displayMessage: boolean;\n}\n\n/**\n * DataFetchPendingModal\n *\n * Denne modalen vises når det går mer enn to sekund å polle etter serverdata.\n */\nclass DataFetchPendingModal extends Component<OwnProps, OwnState> {\n  timer: ReturnType<typeof setTimeout>;\n\n  constructor(props: OwnProps) {\n    super(props);\n    this.enableMessage = this.enableMessage.bind(this);\n\n    this.state = {\n      displayMessage: false,\n    };\n\n    this.timer = setTimeout(this.enableMessage, MESSAGE_DELAY_MILLIS);\n  }\n\n  componentWillUnmount(): void {\n    clearTimeout(this.timer);\n  }\n\n  enableMessage(): void {\n    this.setState({ displayMessage: true });\n  }\n\n  render() {\n    const { displayMessage } = this.state;\n    if (!displayMessage) {\n      return null;\n    }\n\n    const { pendingMessage } = this.props;\n\n    return (\n      <Modal width=\"small\" open aria-label={pendingMessage} onClose={doNothing}>\n        <Modal.Body>\n          <HStack>\n            <Loader size=\"large\" />\n            <div className={styles.modalText}>\n              <Label size=\"small\">\n                {intl.formatMessage({ id: 'DataFetchPendingModal.LosningenJobberMedBehandlingen' })}\n              </Label>\n            </div>\n          </HStack>\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport default DataFetchPendingModal;\n"],"names":["intl","createIntl","messages","doNothing","MESSAGE_DELAY_MILLIS","DataFetchPendingModal","Component","props","__publicField","displayMessage","pendingMessage","jsx","Modal","jsxs","HStack","Loader","styles","Label","DataFetchPendingModal$1"],"mappings":"wtBASAA,EAAAC,EAAAC,CAAA,EAGAC,EAAA,IAAA,GAGAC,EAAA,IAeA,MAAAC,UAAAC,EAAAA,SAAA,CACE,YAAAC,EAAA,CAGE,MAAAA,CAAA,EAJ8DC,EAAA,cAK9D,KAAA,cAAA,KAAA,cAAA,KAAA,IAAA,EAEA,KAAA,MAAA,CAAa,eAAA,EACK,EAGlB,KAAA,MAAA,WAAA,KAAA,cAAAJ,CAAA,CAAgE,CAClE,sBAAA,CAGE,aAAA,KAAA,KAAA,CAAuB,CACzB,eAAA,CAGE,KAAA,SAAA,CAAA,eAAA,EAAA,CAAA,CAAsC,CACxC,QAAA,CAGE,KAAA,CAAA,eAAAK,CAAA,EAAA,KAAA,MACA,GAAA,CAAAA,EACE,OAAA,KAGF,KAAA,CAAA,eAAAC,CAAA,EAAA,KAAA,MAEA,OAAAC,EAAA,IAAAC,EAAA,CAAA,MAAA,QAAA,KAAA,GAAA,aAAAF,EAAA,QAAAP,EAAA,SAAAQ,MAAAC,EAAA,KAAA,CAAA,SAAAC,EAAA,KAAAC,EAAA,CAAA,SAAA,CAIQH,EAAAA,IAAAI,EAAA,CAAA,KAAA,OAAA,CAAA,EAAqBJ,MAAA,MAAA,CAAA,UAAAK,EAAA,UAAA,SAAAL,EAAA,IAAAM,EAAA,CAAA,KAAA,QAAA,SAAAjB,EAAA,cAAA,CAAA,GAAA,sDAAA,CAAA,CAAA,CAAA,EAAA,CAKrB,EAAA,CAAA,CAAA,CAAA,CAAA,CAGN,CAGN,CAEA,MAAAkB,EAAAb;;;;;;;;"}