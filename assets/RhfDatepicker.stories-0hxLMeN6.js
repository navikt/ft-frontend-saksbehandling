import{g as U,a as A,r as z}from"./formUtils-BabEHBhI.js";import{r as c,j as f}from"./iframe-DzXUO6GT.js";import{u as B,a as G}from"./index.esm-nh5QY85X.js";import{d as a}from"./dayjs.min-BFUBMDMt.js";import{c as H}from"./customParseFormat-BBVDMfF5.js";import{P as o,n}from"./index.es-yTIDcLWJ.js";import{R as J}from"./ReadOnlyField-r78r3bkP.js";import{u as K}from"./useDatepicker-C6hRULoc.js";import{D as P}from"./DatePicker-yNQKbBqz.js";import"./Provider-CLScYENo.js";import"./Date.Input-DjBtdO-h.js";import"./VStack-vldtWtPo.js";import"./omit-B7stZg_p.js";import"./useId-BTmGetX7.js";import"./BasePrimitive-DGW3gu2x.js";import"./Button-af7718Cc.js";import"./Loader-IncALmTQ.js";import"./Label-BptAkRyu.js";import"./composeEventHandlers-krbYd5LM.js";import"./preload-helper-PPVm8Dsz.js";import"./index-DfaBx6Pe.js";import"./index.es-CkQmGgSL.js";import"./PersonPencilFill-DyJneeHY.js";import"./useId-DZKQXQUP.js";import"./Alert-DFJmKH85.js";import"./ExclamationmarkTriangleFill-DDAH-o0u.js";import"./XMarkOctagonFill-CoZ8IwgD.js";import"./XMark-CpZNF069.js";import"./Tooltip-B3LKtxru.js";import"./floating-ui.react-ChwVIx_A.js";import"./index-C9-rAhI6.js";import"./index-Byb5gg4O.js";import"./useControllableState-DmC_MG6f.js";import"./Box-DL9bOJYF.js";import"./KeyVerticalFill-DFYvwClO.js";import"./subMonths-CSH-MLNW.js";import"./Modal-DR-__Gep.js";import"./Popover-ipIXf8ei.js";import"./useDescendant-Bep7xBZs.js";import"./useClientLayoutEffect-B9dXjG7B.js";import"./Responsive-BjlYyCFu.js";import"./Select-BNwbPbPq.js";import"./ReadOnlyIcon-BmYdC75R.js";import"./useFormField-a1sx1jM8.js";import"./ReadMore-BBeWwL2Z.js";import"./ChevronDown-DkSCMhYg.js";a.extend(H);const R=({label:D,description:T,validate:v=[],hideLabel:g=!1,isReadOnly:q=!1,size:y="small",onChange:i,disabledDays:F,isEdited:h,defaultMonth:x,fromDate:k,toDate:s,...V})=>{const{name:b,control:M,disabled:C}=V,{formState:{errors:E}}=B(),{field:e}=G({name:b,control:M,rules:{validate:c.useMemo(()=>U(v),[v])}}),O=e.value?a(e.value,o,!0).format(n):"",[S,u]=c.useState(O),{datepickerProps:j,inputProps:N}=K({onDateChange:r=>{if(r!==void 0){const t=a(r).format(o);i&&i(t),e.onChange(t),u(a(t,o,!0).format(n))}},defaultSelected:e.value?a(e.value,o,!0).toDate():void 0,defaultMonth:x||(!e.value&&s?s:void 0),disabled:F}),I=c.useCallback(r=>{const t=a(r.target.value,n,!0).format(o),w=t!=="Invalid Date";u(r.target.value),i&&i(w?t:r.target.value),e.onChange(w?t:r.target.value)},[u,i,e]);if(q)return f.jsx(J,{label:D,value:e.value?a(e.value,o,!0).format(n):void 0,isEdited:h,hideLabel:g,size:y});const _={...j,fromDate:k,toDate:s,dropdownCaption:k&&s?!0:void 0};return f.jsx(P,{..._,children:f.jsx(P.Input,{...N,hideLabel:g,onChange:I,value:S,size:y,label:D,description:T,disabled:C,error:A(E,b)})})};R.__docgenInfo={description:"",methods:[],displayName:"RhfDatepicker",props:{label:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},hideLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},description:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},size:{required:!1,tsType:{name:"union",raw:"'medium' | 'small'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'small'"}]},description:"",defaultValue:{value:"'small'",computed:!1}},isReadOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any) => void",signature:{arguments:[{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},disabledDays:{required:!1,tsType:{name:"DatePickerProps['disabled']",raw:"DatePickerProps['disabled']"},description:""},isEdited:{required:!1,tsType:{name:"boolean"},description:""},validate:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"((value: string) => ValidationReturnType)[]"},description:"",defaultValue:{value:"[]",computed:!1}},defaultMonth:{required:!1,tsType:{name:"Date"},description:""},fromDate:{required:!1,tsType:{name:"Date"},description:""},toDate:{required:!1,tsType:{name:"Date"},description:""},control:{required:!0,tsType:{name:"UseControllerProps['control']",raw:"UseControllerProps<T>['control']"},description:""}}};const Ue={component:R,tags:["autodocs"],decorators:z({datepickerFieldPre:"2022-10-11"}),args:{control:void 0}},d={args:{name:"datepickerField",label:"Dette er en datepicker",description:"Dette er en nærmere beskrivelse"}},l={args:{name:"datepickerField",label:"Dette er en datepicker med disabled datoer",fromDate:new Date("2024-10-12"),toDate:new Date("2025-02-24"),defaultMonth:new Date("2024-11-11")}},m={args:{label:"Dette er en datepicker der verdi er valgt",name:"datepickerFieldPre",fromDate:new Date("2022-10-02"),toDate:new Date("2022-10-24")}},p={args:{label:"Dette er en datepicker som er readonly",name:"datepickerFieldPre",isReadOnly:!0,isEdited:!0}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'datepickerField',
    label: 'Dette er en datepicker',
    description: 'Dette er en nærmere beskrivelse'
  }
}`,...d.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'datepickerField',
    label: 'Dette er en datepicker med disabled datoer',
    fromDate: new Date('2024-10-12'),
    toDate: new Date('2025-02-24'),
    defaultMonth: new Date('2024-11-11')
  }
}`,...l.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Dette er en datepicker der verdi er valgt',
    name: 'datepickerFieldPre',
    fromDate: new Date('2022-10-02'),
    toDate: new Date('2022-10-24')
  }
}`,...m.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Dette er en datepicker som er readonly',
    name: 'datepickerFieldPre',
    isReadOnly: true,
    isEdited: true
  }
}`,...p.parameters?.docs?.source}}};const Ae=["Default","MedDisabledDatoer","MedVerdi","ReadOnly"];export{d as Default,l as MedDisabledDatoer,m as MedVerdi,p as ReadOnly,Ae as __namedExportsOrder,Ue as default};
