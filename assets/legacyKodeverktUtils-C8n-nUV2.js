import{r as f,e as b,i as S,m as x,u as h,b as j}from"./iframe-DzXUO6GT.js";import{c as P}from"./useDescendant-Bep7xBZs.js";import{B as C}from"./Label-BptAkRyu.js";import{c as _}from"./composeEventHandlers-krbYd5LM.js";import{u as I}from"./useId-DZKQXQUP.js";import{S as k}from"./ChevronRight-DwaK_uWQ.js";import{d as N}from"./debounce-C1tMA4l2.js";import{u as F}from"./useId-BTmGetX7.js";import{u as L}from"./useControllableState-DmC_MG6f.js";var D=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const K=f.forwardRef((e,o)=>{var{title:r,titleId:t}=e,n=D(e,["title","titleId"]);let d=I();return d=r?t||"title-"+d:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":d},n),r?b.createElement("title",{id:d},r):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))}),[V,z,$,R]=P(),[B,w]=S({name:"TabsContext",hookName:"useTabsContext",providerName:"TabsProvider",errorMessage:"Tabs.List, Tabs.Tag and Tabs.Panel needs to be wrapped within <Tabs>"});function M({value:e,disabled:o=!1,onFocus:r,onClick:t},n){const{id:d,setSelectedValue:a,selectionFollowsFocus:i,focusedValue:u,setFocusedValue:s,selectedValue:p,makeTabId:O,makeTabPanelId:v}=w(),{register:y}=R({disabled:o,value:e}),m=e===p,l=()=>{s(e),i&&a(e)};return{ref:x([y,n]),isSelected:m,isFocused:u===e,id:O(d,e),controlsId:v(d,e),onClick:_(t,()=>a(e)),onFocus:o?void 0:_(r,l)}}var A=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const H=f.forwardRef((e,o)=>{var r,t,{className:n,as:d="button",label:a,icon:i,value:u,onClick:s,onFocus:p,disabled:O,id:v}=e,y=A(e,["className","as","label","icon","value","onClick","onFocus","disabled","id"]);const{cn:m}=h(),l=M({value:u,onClick:s,onFocus:p,disabled:O},o),c=w();return!a&&!i?(console.error("<Tabs.Tab/> needs label and/or icon"),null):b.createElement(d,Object.assign({ref:l.ref},y,{className:m("navds-tabs__tab",`navds-tabs__tab--${(r=c?.size)!==null&&r!==void 0?r:"medium"}`,`navds-tabs__tab-icon--${c?.iconPosition}`,n,{"navds-tabs__tab--icon-only":i&&!a,"navds-tabs__tab--fill":c.fill}),role:"tab",type:"button","aria-selected":l.isSelected,"data-state":l.isSelected?"active":"inactive",tabIndex:l.isFocused?0:-1,"aria-controls":(t=y["aria-controls"])!==null&&t!==void 0?t:l.controlsId,id:v??l.id,onFocus:l.onFocus,onClick:l.onClick}),b.createElement(C,{as:"span",className:m("navds-tabs__tab-inner"),size:c?.size},b.createElement("span",{"aria-hidden":!!a},i),b.createElement("span",null,a)))});function T({hidden:e,onClick:o,dir:r}){const{cn:t}=h();return b.createElement("div",{className:t("navds-tabs__scroll-button",{"navds-tabs__scroll-button--hidden":e}),onClick:o,"aria-hidden":!0},r==="left"?b.createElement(K,null):b.createElement(k,null))}function J(e){const[o,r]=f.useState({start:!1,end:!1}),t=f.useMemo(()=>N(()=>{if(!e?.current)return;const{scrollWidth:n,clientWidth:d}=e.current,a=e.current.scrollLeft,i=a>1,u=a<n-d-1;r(s=>i===s.start&&u===s.end?s:{start:i,end:u})}),[e]);return f.useEffect(()=>{var n,d,a;const i=()=>t(),u=(a=(d=(n=e.current)===null||n===void 0?void 0:n.ownerDocument)!==null&&d!==void 0?d:document)!==null&&a!==void 0?a:window;u.addEventListener("resize",i);let s;return typeof ResizeObserver<"u"&&e.current&&(s=new ResizeObserver(i),s.observe(e.current)),()=>{u.removeEventListener("resize",i),s?.disconnect(),t.clear()}},[e,t]),f.useEffect(()=>{t()}),{update:t,start:o.start,end:o.end,show:o.end||o.start,scrollLeft:()=>{e.current&&(e.current.scrollLeft-=100)},scrollRight:()=>{e.current&&(e.current.scrollLeft+=100)}}}function W(){const{focusedValue:e,loop:o,selectedValue:r,setFocusedValue:t}=w(),n=z();return{onKeyDown:f.useCallback(a=>{const i=n.values().findIndex(l=>l.value===e),v={ArrowLeft:()=>{var l;const c=n.prevEnabled(i,o);(l=c?.node)===null||l===void 0||l.focus()},ArrowRight:()=>{var l;const c=n.nextEnabled(i,o);(l=c?.node)===null||l===void 0||l.focus()},Home:()=>{var l;const c=n.firstEnabled();(l=c?.node)===null||l===void 0||l.focus()},End:()=>{var l;const c=n.lastEnabled();(l=c?.node)===null||l===void 0||l.focus()}},y=a.shiftKey||a.ctrlKey||a.altKey||a.metaKey,m=v[a.key];m&&!y?(a.preventDefault(),m(a)):a.key==="Tab"&&r&&setTimeout(()=>t(r))},[n,e,o,r,t])}}var G=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const q=f.forwardRef((e,o)=>{var{className:r,onKeyDown:t}=e,n=G(e,["className","onKeyDown"]);const{cn:d}=h(),{onKeyDown:a}=W(),i=f.useRef(null),u=j(i,o),s=J(i);return b.createElement("div",{className:d("navds-tabs__tablist-wrapper")},s.show&&b.createElement(T,{dir:"left",hidden:!s.start,onClick:s.scrollLeft}),b.createElement("div",Object.assign({ref:u},n,{onScroll:s.update,className:d("navds-tabs__tablist",r),role:"tablist","aria-orientation":"horizontal",onKeyDown:_(t,a)})),s.show&&b.createElement(T,{dir:"right",hidden:!s.end,onClick:s.scrollRight}))});function Q({value:e}){const{id:o,selectedValue:r,makeTabId:t,makeTabPanelId:n}=w();return{labelledbyId:t(o,e),hidden:r!==e,id:n(o,e)}}var U=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const X=f.forwardRef((e,o)=>{var r,{className:t,value:n,children:d,lazy:a=!0,id:i}=e,u=U(e,["className","value","children","lazy","id"]);const s=Q({value:n}),{cn:p}=h();return b.createElement("div",Object.assign({ref:o},u,{className:p("navds-tabs__tabpanel",t),role:"tabpanel",tabIndex:0,"aria-labelledby":(r=u["aria-labelledby"])!==null&&r!==void 0?r:s.labelledbyId,id:i??s.id,hidden:s.hidden,"data-state":s.hidden?"inactive":"active"}),a&&s.hidden?null:d)});function Y({onChange:e,value:o,defaultValue:r="",id:t}){const[n,d]=f.useState(r),[a,i]=L({defaultValue:r,value:o,onChange:e});f.useEffect(()=>{o!=null&&d(o)},[o]);const u=F();return{id:`tabs-${t??u}`,selectedValue:a,setSelectedValue:i,focusedValue:n,setFocusedValue:d,makeTabId:Z,makeTabPanelId:ee}}function Z(e,o){return`${e}--tab-${o}`}function ee(e,o){return`${e}--tabpanel-${o}`}var te=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const g=f.forwardRef((e,o)=>{var{className:r,children:t,size:n="medium",defaultValue:d="",value:a,onChange:i,id:u,selectionFollowsFocus:s=!1,loop:p=!0,iconPosition:O="left",fill:v=!1}=e,y=te(e,["className","children","size","defaultValue","value","onChange","id","selectionFollowsFocus","loop","iconPosition","fill"]);const{cn:m}=h(),l=$(),c=Y({defaultValue:d,value:a,onChange:i,id:u}),E=Object.assign(Object.assign({},c),{selectionFollowsFocus:s,loop:p,size:n,iconPosition:O,fill:v});return b.createElement(V,{value:l},b.createElement(B,Object.assign({},E),b.createElement("div",Object.assign({ref:o},y,{id:u,className:m("navds-tabs",r,`navds-tabs--${n}`)}),t)))});g.Tab=H;g.List=q;g.Panel=X;const ne=e=>{if(e==null)return;const o=JSON.parse(JSON.stringify(e)),r=2;return Object.keys(o).forEach(t=>{if(o[t]?.kode){const n=Object.keys(o[t]).length;(o[t]?.kodeverk&&(n===r||o[t]?.kodeverk==="AVKLARINGSBEHOV_DEF")||n===1)&&(o[t]=o[t].kode)}typeof o[t]=="object"&&o[t]!==null&&(o[t]=ne(o[t]))}),o};export{g as T,ne as k};
