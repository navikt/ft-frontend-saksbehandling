import{c as w}from"./clsx-B-dksMZM.js";import{r as u,R as m}from"./index-B5OHeJSP.js";import{c as x,m as j,u as S}from"./create-context-BlrHNsQj.js";import{c as P}from"./Popover-CgZ7HliT.js";import{a as I}from"./Label-ZYbyet41.js";import{c as g}from"./Button-C4dKKha_.js";import{u as T}from"./useId-B9OmVTHV.js";import{d as C}from"./Textarea-DQ7w4yc6.js";import{u as k}from"./useId-e75EoDiw.js";import{u as N}from"./Checkmark-uHeVskEM.js";var F=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const L=u.forwardRef((n,r)=>{var{title:o,titleId:e}=n,t=F(n,["title","titleId"]);let l=T();return l=o?e||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":l},t),o?u.createElement("title",{id:l},o):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var D=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const K=u.forwardRef((n,r)=>{var{title:o,titleId:e}=n,t=D(n,["title","titleId"]);let l=T();return l=o?e||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":l},t),o?u.createElement("title",{id:l},o):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 5.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 0 1 0 1.06l-5.5 5.5a.75.75 0 1 1-1.06-1.06L14.44 12 9.47 7.03a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))}),[V,z,$,R]=P(),[B,h]=x({name:"TabsContext",hookName:"useTabsContext",providerName:"TabsProvider",errorMessage:"Tabs.List, Tabs.Tag and Tabs.Panel needs to be wrapped within <Tabs>"});function M({value:n,disabled:r=!1,onFocus:o,onClick:e},t){const{id:l,setSelectedValue:a,selectionFollowsFocus:d,focusedValue:c,setFocusedValue:i,selectedValue:y,makeTabId:O,makeTabPanelId:p}=h(),{register:v}=R({disabled:r,value:n}),b=n===y,s=()=>{i(n),d&&a(n)};return{ref:j([v,t]),isSelected:b,isFocused:c===n,id:O(l,n),controlsId:p(l,n),onClick:g(e,()=>a(n)),onFocus:r?void 0:g(o,s)}}var A=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const H=u.forwardRef((n,r)=>{var o,e,{className:t,as:l="button",label:a,icon:d,value:c,onClick:i,onFocus:y,disabled:O,id:p}=n,v=A(n,["className","as","label","icon","value","onClick","onFocus","disabled","id"]);const b=M({value:c,onClick:i,onFocus:y,disabled:O},r),s=h();return!a&&!d?(console.error("<Tabs.Tab/> needs label and/or icon"),null):m.createElement(l,Object.assign({ref:b.ref},v,{className:w("navds-tabs__tab",`navds-tabs__tab--${(o=s==null?void 0:s.size)!==null&&o!==void 0?o:"medium"}`,`navds-tabs__tab-icon--${s==null?void 0:s.iconPosition}`,t,{"navds-tabs__tab--icon-only":d&&!a,"navds-tabs__tab--fill":s.fill}),role:"tab",type:"button","aria-selected":b.isSelected,"data-state":b.isSelected?"active":"inactive",tabIndex:b.isFocused?0:-1,"aria-controls":(e=v["aria-controls"])!==null&&e!==void 0?e:b.controlsId,id:p??b.id,onFocus:b.onFocus,onClick:b.onClick}),m.createElement(I,{as:"span",className:"navds-tabs__tab-inner",size:s==null?void 0:s.size},m.createElement("span",{"aria-hidden":!!a},d),m.createElement("span",null,a)))});function E({hidden:n,onClick:r,dir:o}){return m.createElement("div",{className:w("navds-tabs__scroll-button",{"navds-tabs__scroll-button--hidden":n}),onClick:r,"aria-hidden":!0},o==="left"?m.createElement(L,null):m.createElement(K,null))}function J(n){const[r,o]=u.useState({start:!1,end:!1}),e=u.useMemo(()=>C(()=>{if(!(n!=null&&n.current))return;const{scrollWidth:t,clientWidth:l}=n.current,a=n.current.scrollLeft,d=a>1,c=a<t-l-1;o(i=>d===i.start&&c===i.end?i:{start:d,end:c})}),[n]);return u.useEffect(()=>{var t,l,a;const d=()=>e(),c=(a=(l=(t=n.current)===null||t===void 0?void 0:t.ownerDocument)!==null&&l!==void 0?l:document)!==null&&a!==void 0?a:window;c.addEventListener("resize",d);let i;return typeof ResizeObserver<"u"&&n.current&&(i=new ResizeObserver(d),i.observe(n.current)),()=>{c.removeEventListener("resize",d),i==null||i.disconnect(),e.clear()}},[n,e]),u.useEffect(()=>{e()}),{update:e,start:r.start,end:r.end,show:r.end||r.start,scrollLeft:()=>{n.current&&(n.current.scrollLeft-=100)},scrollRight:()=>{n.current&&(n.current.scrollLeft+=100)}}}function W(){const{focusedValue:n,loop:r,selectedValue:o,setFocusedValue:e}=h(),t=z();return{onKeyDown:u.useCallback(a=>{const d=t.values().findIndex(s=>s.value===n),p={ArrowLeft:()=>{var s;const f=t.prevEnabled(d,r);(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},ArrowRight:()=>{var s;const f=t.nextEnabled(d,r);(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},Home:()=>{var s;const f=t.firstEnabled();(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},End:()=>{var s;const f=t.lastEnabled();(s=f==null?void 0:f.node)===null||s===void 0||s.focus()}},v=a.shiftKey||a.ctrlKey||a.altKey||a.metaKey,b=p[a.key];b&&!v?(a.preventDefault(),b(a)):a.key==="Tab"&&o&&setTimeout(()=>e(o))},[t,n,r,o,e])}}var G=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const q=u.forwardRef((n,r)=>{var{className:o,onKeyDown:e}=n,t=G(n,["className","onKeyDown"]);const{onKeyDown:l}=W(),a=u.useRef(null),d=S(a,r),c=J(a);return m.createElement("div",{className:"navds-tabs__tablist-wrapper"},c.show&&m.createElement(E,{dir:"left",hidden:!c.start,onClick:c.scrollLeft}),m.createElement("div",Object.assign({ref:d},t,{onScroll:c.update,className:w("navds-tabs__tablist",o),role:"tablist","aria-orientation":"horizontal",onKeyDown:g(e,l)})),c.show&&m.createElement(E,{dir:"right",hidden:!c.end,onClick:c.scrollRight}))});function Q({value:n}){const{id:r,selectedValue:o,makeTabId:e,makeTabPanelId:t}=h();return{labelledbyId:e(r,n),hidden:o!==n,id:t(r,n)}}var U=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const X=u.forwardRef((n,r)=>{var o,{className:e,value:t,children:l,lazy:a=!0,id:d}=n,c=U(n,["className","value","children","lazy","id"]);const i=Q({value:t});return m.createElement("div",Object.assign({ref:r},c,{className:w("navds-tabs__tabpanel",e),role:"tabpanel",tabIndex:0,"aria-labelledby":(o=c["aria-labelledby"])!==null&&o!==void 0?o:i.labelledbyId,id:d??i.id,hidden:i.hidden,"data-state":i.hidden?"inactive":"active"}),a&&i.hidden?null:l)});function Y({onChange:n,value:r,defaultValue:o="",id:e}){const[t,l]=u.useState(o),[a,d]=N({defaultValue:o,value:r,onChange:n});u.useEffect(()=>{r!=null&&l(r)},[r]);const c=k();return{id:`tabs-${e??c}`,selectedValue:a,setSelectedValue:d,focusedValue:t,setFocusedValue:l,makeTabId:Z,makeTabPanelId:ee}}function Z(n,r){return`${n}--tab-${r}`}function ee(n,r){return`${n}--tabpanel-${r}`}var ne=function(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(o[e[t]]=n[e[t]]);return o};const _=u.forwardRef((n,r)=>{var{className:o,children:e,size:t="medium",defaultValue:l="",value:a,onChange:d,id:c,selectionFollowsFocus:i=!1,loop:y=!0,iconPosition:O="left",fill:p=!1}=n,v=ne(n,["className","children","size","defaultValue","value","onChange","id","selectionFollowsFocus","loop","iconPosition","fill"]);const b=$(),s=Y({defaultValue:l,value:a,onChange:d,id:c}),f=Object.assign(Object.assign({},s),{selectionFollowsFocus:i,loop:y,size:t,iconPosition:O,fill:p});return m.createElement(V,{value:b},m.createElement(B,Object.assign({},f),m.createElement("div",Object.assign({ref:r},v,{id:c,className:w("navds-tabs",o,`navds-tabs--${t}`)}),e)))});_.Tab=H;_.List=q;_.Panel=X;const te=n=>{if(n==null)return;const r=JSON.parse(JSON.stringify(n)),o=2;return Object.keys(r).forEach(e=>{var t,l,a;if((t=r[e])!=null&&t.kode){const d=Object.keys(r[e]).length;((l=r[e])!=null&&l.kodeverk&&(d===o||((a=r[e])==null?void 0:a.kodeverk)==="AVKLARINGSBEHOV_DEF")||d===1)&&(r[e]=r[e].kode)}typeof r[e]=="object"&&r[e]!==null&&(r[e]=te(r[e]))}),r};export{_ as T,te as k};
