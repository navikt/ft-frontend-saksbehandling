import{r as c,u as K,b as N,aj as P,e as n,F as R,d as T,ak as X,al as q,L as J,B as Q,am as U,E as W,a as Y,an as B}from"./iframe-BYGivzjd.js";var Z=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const M=c.forwardRef((a,l)=>{var{title:r,titleId:e}=a,t=Z(a,["title","titleId"]);let o=K();return o=r?e||"title-"+o:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},t),r?c.createElement("title",{id:o},r):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),L=c.createContext(null);var ee=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const $=c.forwardRef((a,l)=>{var r,{className:e,children:t,disabled:o,onClick:v}=a,y=ee(a,["className","children","disabled","onClick"]);const{cn:f}=N(),h=P("Search"),m=c.useContext(L);if(m===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:b,variant:s,handleClick:_}=m;return n.createElement(R,Object.assign({type:"submit"},y,{ref:l,size:b,variant:s==="secondary"?"secondary":"primary",className:f("navds-search__button-search",e),disabled:(r=m?.disabled)!==null&&r!==void 0?r:o,onClick:T(v,_),icon:n.createElement(M,Object.assign({},t?{"aria-hidden":!0}:{title:h("search")}))}),t)});var ae=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const te=c.forwardRef((a,l)=>{const{inputProps:r,size:e="medium",inputDescriptionId:t,errorId:o,showErrorMsg:v,hasError:y}=X(a,"searchfield"),{className:f,hideLabel:h=!0,label:m,description:b,value:s,clearButtonLabel:_,onClear:g,clearButton:F=!0,children:I,variant:p="primary",defaultValue:E,onChange:O,onSearchClick:w,htmlSize:C}=a,D=ae(a,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),{cn:d}=N(),S=c.useRef(null),V=q(S,l),[j,A]=c.useState(E??""),k=i=>{s===void 0&&A(i),O?.(i)},z=i=>{var u,x;g?.(i),k(""),(x=(u=S.current)===null||u===void 0?void 0:u.focus)===null||x===void 0||x.call(u)},G=()=>{w?.(`${s??j}`)},H=F&&!r.disabled&&(s??j);return n.createElement("div",{onKeyDown:i=>{var u;i.key==="Escape"&&(!((u=S.current)===null||u===void 0)&&u.value&&i.preventDefault(),z({trigger:"Escape",event:i}))},className:d(f,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":y,"navds-search--disabled":r.disabled,"navds-search--with-size":C})},n.createElement(J,{htmlFor:r.id,size:e,className:d("navds-form-field__label",{"navds-sr-only":h})},m),!!b&&n.createElement(Q,{className:d("navds-form-field__description",{"navds-sr-only":h}),id:t,size:e,as:"div"},b),n.createElement("div",{className:d("navds-search__wrapper")},n.createElement("div",{className:d("navds-search__wrapper-inner")},p==="simple"&&n.createElement(M,{"aria-hidden":!0,className:d("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:V},U(D,["error","errorId","size","readOnly"]),r,{value:s??j,onChange:i=>k(i.target.value),type:"search",className:d(f,"navds-search__input",`navds-search__input--${p}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},C?{size:Number(C)}:{})),H&&n.createElement(re,{handleClear:z,size:e,clearButtonLabel:_})),n.createElement(L.Provider,{value:{size:e,disabled:r.disabled,variant:p,handleClick:G}},I||p!=="simple"&&n.createElement($,null))),n.createElement("div",{className:d("navds-form-field__error"),id:o,"aria-relevant":"additions removals","aria-live":"polite"},v&&n.createElement(W,{size:e,showIcon:!0},a.error)))});function re({size:a,clearButtonLabel:l,handleClear:r}){const{cn:e}=N(),t=Y(!1),o=P("Search");return t?n.createElement(R,{className:e("navds-search__button-clear"),variant:"tertiary","data-color":"neutral",size:a==="medium"?"small":"xsmall",icon:n.createElement(B,{"aria-hidden":!0}),title:l||o("clear"),onClick:v=>r({trigger:"Click",event:v}),type:"button"}):n.createElement("button",{type:"button",onClick:v=>r({trigger:"Click",event:v}),className:e("navds-search__button-clear")},n.createElement("span",{className:e("navds-sr-only")},l||o("clear")),n.createElement(B,{"aria-hidden":!0}))}te.Button=$;export{te as S};
