import{r as c,a as z,aZ as k,a_ as q,$ as He,a$ as fe,b0 as Ze,b1 as K,u as C,e as d,ae as Y,W as Ve,D as me,b2 as U,b3 as ve,b4 as pe,b5 as R,b6 as Ke,b7 as te,b8 as Ue,b9 as Xe,ag as be,ba as he,bb as ge,bc as ye,bd as we,be as Oe,bf as _e,bg as xe,bh as je,bi as Ee,bj as Pe,bk as Re,bl as Ie,ah as Se,bm as Ce,bn as We,B as qe,bo as Ge,ai as ee,bp as Je,a0 as X}from"./iframe-CwnbwDj_.js";var Qe=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const At=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=Qe(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m4.573 7.234a.75.75 0 1 0-1.146-.968l-4.973 5.877L8.03 11.97a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.102-.046z",clipRule:"evenodd"}))});var et=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const Lt=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=et(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var tt=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const Nt=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=tt(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.55 3.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5M9.8 5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m3.5 4a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 .75.75v7.106a.75.75 0 0 1-.75.75H14.8V21a.75.75 0 0 1-1.5 0v-4.894a.75.75 0 0 1 .75-.75h1.25V9.75h-1.25A.75.75 0 0 1 13.3 9m-2.78.916a.25.25 0 0 1 .235-.166h.295a.75.75 0 0 0 0-1.5h-.295c-.74 0-1.4.465-1.648 1.161l-2.263 6.337a.75.75 0 0 0 .706 1.002h2.75V21a.75.75 0 0 0 1.5 0v-5a.75.75 0 0 0-.75-.75H8.614z",clipRule:"evenodd"}))});var nt=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const $t=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=nt(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var lt=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const kt=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=lt(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))});var ot=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const zt=c.forwardRef((e,o)=>{var{title:l,titleId:t}=e,n=ot(e,["title","titleId"]);let r=z();return r=l?t||"title-"+r:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":r},n),l?c.createElement("title",{id:r},l):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.272 2.25a.75.75 0 0 0-.53.22L2.47 7.742a.75.75 0 0 0-.22.53v7.456c0 .199.079.39.22.53l5.272 5.272c.14.141.331.22.53.22h7.456a.75.75 0 0 0 .53-.22l5.272-5.272a.75.75 0 0 0 .22-.53V8.272a.75.75 0 0 0-.22-.53L16.258 2.47a.75.75 0 0 0-.53-.22zM3.75 8.583 8.583 3.75h6.834l4.833 4.833v6.834l-4.833 4.833H8.583L3.75 15.417zm5.28-.613a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z",clipRule:"evenodd"}))});function Z(e,o){const l=+k(e)-+k(o);return l<0?-1:l>0?1:l}function rt(e,o,l){const[t,n]=q(l==null?void 0:l.in,e,o);return t.getFullYear()-n.getFullYear()}function De(e,o,l){const[t,n]=q(l==null?void 0:l.in,e,o),r=se(t,n),u=Math.abs(He(t,n));t.setDate(t.getDate()-r*u);const a=+(se(t,n)===-r),i=r*(u-a);return i===0?0:i}function se(e,o){const l=e.getFullYear()-o.getFullYear()||e.getMonth()-o.getMonth()||e.getDate()-o.getDate()||e.getHours()-o.getHours()||e.getMinutes()-o.getMinutes()||e.getSeconds()-o.getSeconds()||e.getMilliseconds()-o.getMilliseconds();return l<0?-1:l>0?1:l}function ce(e,o){return+k(e)-+k(o)}function W(e,o){const l=k(e,o==null?void 0:o.in);return l.setHours(23,59,59,999),l}function at(e,o){const l=k(e,o==null?void 0:o.in);return+W(l,o)==+fe(l,o)}function it(e,o,l){const[t,n,r]=q(l==null?void 0:l.in,e,e,o),u=Z(n,r),a=Math.abs(Ze(n,r));if(a<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-u*a);let i=Z(n,r)===-u;at(t)&&a===1&&Z(t,r)===1&&(i=!1);const p=u*(a-+i);return p===0?0:p}function st(e,o,l){const[t,n]=q(l==null?void 0:l.in,e,o),r=Z(t,n),u=Math.abs(rt(t,n));t.setFullYear(1584),n.setFullYear(1584);const a=Z(t,n)===-r,i=r*(u-+a);return i===0?0:i}function ct(e,o,l){return K(e,-o,l)}const Yt=()=>{const{cn:e}=C();return d.createElement("span",{className:e("navds-stack__spacer")})},Me=c.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),V=()=>{const e=c.useContext(Me);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},dt=({horizontalPosition:e})=>e<=98&&e>=0,de=(e,o)=>De(e,o)<=1,ut=({horizontalPosition:e,width:o})=>e>=0&&e<=100&&o>0,ne=(e,o,l)=>{const t=ce(l,o);return ce(e,o)/t*100},G=(e,o,l,t)=>{const n=ne(e,l,t),r=ne(o,l,t)-n;return{horizontalPosition:n,width:r}},ft=(e,o,l,t,n,r)=>{const u=Math.ceil(l/10),a=U(o);return new Array(l).fill(a).map((i,p)=>{if(p%u!==0)return null;const m=ve(i,p),{horizontalPosition:g,width:f}=G(m,pe(m,1),e,o);return{direction:t,horizontalPosition:g,label:R(m,n,{locale:r}),date:m,width:f}}).filter(i=>i!==null)},mt=(e,o,l,t,n)=>{const r=Ke(e),u=fe(o),a=it(u,r)+1;return new Array(a).fill(r).map((i,p)=>{const m=te(i,p),{horizontalPosition:g,width:f}=G(m,te(m,1),e,o);return{direction:l,horizontalPosition:g,label:R(m,t,{locale:n}),date:m,width:f}})},vt=(e,o,l,t,n)=>{const r=Ue(e),u=Xe(o),a=st(u,e)+1;return new Array(a).fill(r).map((i,p)=>{const m=K(i,p),{horizontalPosition:g,width:f}=G(m,K(m,1),e,o);return{direction:l,horizontalPosition:g,label:R(m,t,{locale:n}),date:m,width:f}})},pt=(e,o,l,t,n)=>{const r=De(o,e);if(r<40){const a=n("dayFormat");return ft(e,o,r,l,a,t)}if(r<370){const a=n("monthFormat");return mt(e,o,l,a,t)}const u=n("yearFormat");return vt(e,o,l,u,t)},bt=({templates:e})=>{const{endDate:o,startDate:l,direction:t}=V(),n=Y("Timeline",{dayFormat:e==null?void 0:e.day,monthFormat:e==null?void 0:e.month,yearFormat:e==null?void 0:e.year}),r=Ve(),u=pt(l,o,t,r,n),{cn:a}=C();return d.createElement("div",{className:a("navds-timeline__axislabels"),"aria-hidden":"true"},u.filter(dt).map(i=>d.createElement(me,{className:a("navds-timeline__axislabels-label"),as:"div",key:i.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${i.horizontalPosition}%`,width:`${i.width}%`}},i.label)))};var ht=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const Fe=c.forwardRef((e,o)=>{var{date:l,children:t}=e,n=ht(e,["date","children"]);const{cn:r}=C(),{startDate:u,endDate:a,direction:i}=V(),[p,m]=c.useState(!1),g=c.useRef(null),f=Y("Timeline"),w=!be(!1),{context:y,placement:v,middlewareData:{arrow:{x:b,y:D}={}},refs:E,floatingStyles:F}=he({placement:"top",open:p,onOpenChange:h=>m(h),whileElementsMounted:_e,middleware:[ge(w?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:g,padding:5})]}),T=xe(y,{handleClose:je(),restMs:25,delay:{open:1e3},move:!1}),M=Ee(y),B=Pe(y),A=Re(y,{role:"dialog"}),{getFloatingProps:N,getReferenceProps:I}=Ie([T,M,B,A]),$=Se(E.setReference,o),s={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]];return d.createElement(d.Fragment,null,d.createElement("div",{className:r("navds-timeline__pin-wrapper"),style:{[i]:`${ne(l,u,a)}%`}},d.createElement("button",Object.assign({},n,{ref:$,className:r("navds-timeline__pin-button"),"aria-label":f("Pin.pin",{date:R(l,f("dateFormat"))}),type:"button","aria-expanded":t?p:void 0},I({onKeyDown:h=>{var _;(_=n==null?void 0:n.onKeyDown)===null||_===void 0||_.call(n,h),h.key==="Enter"?m(S=>!S):h.key===" "&&m(!1)}})))),t&&p&&d.createElement(Ce,{context:y,modal:!1,initialFocus:-1,returnFocus:!1},d.createElement("div",Object.assign({className:r("navds-timeline__popover"),"data-placement":v,ref:E.setFloating},N(),{style:F}),t,w&&d.createElement("div",{ref:g,style:Object.assign(Object.assign(Object.assign({},b!=null?{left:b}:{}),D!=null?{top:D}:{}),s?{[s]:"-0.5rem"}:{}),className:r("navds-timeline__popover-arrow")}))))});Fe.componentType="pin";const Te=c.createContext({periodId:"",firstFocus:!1}),Ae=()=>{const e=c.useContext(Te);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Le=c.createContext({periods:[],id:"",active:!1,index:0}),le=()=>{const e=c.useContext(Le);return e||console.warn("useRowContext must be used with RowContext"),e},Ne=(e,o,l)=>We(`navds-timeline__period navds-timeline__period--${l}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&o==="left"||e==="left"&&o==="right","navds-timeline__period--connected-left":e==="left"&&o==="left"||e==="right"&&o==="right"}),$e=(e,o,l,t,n)=>{const r=n("dateFormat"),u=R(e,r),a=R(o,r);return n("Period.period",{status:t||n(`Period.${l}`),start:u,end:a})},gt=d.memo(({onSelectPeriod:e,start:o,end:l,status:t,cropped:n,direction:r,left:u,width:a,icon:i,children:p,isActive:m,statusLabel:g,restProps:f,periodRef:O})=>{var w;const{cn:y}=C(),[v,b]=c.useState(!1),{index:D}=le(),{firstFocus:E}=Ae(),{initiate:F,addFocusable:T}=V(),M=c.useRef(null),B=Y("Timeline"),N=!be(!1),{context:I,placement:$,middlewareData:{arrow:{x:s,y:h}={}},refs:_,floatingStyles:S}=he({placement:(w=f==null?void 0:f.placement)!==null&&w!==void 0?w:"top",open:v,onOpenChange:j=>b(j),whileElementsMounted:_e,middleware:[ge(N?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:M,padding:5})]}),H=xe(I,{handleClose:je(),restMs:25,delay:{open:1e3},move:!1}),x=Ee(I),Q=Pe(I),P=Re(I,{role:"dialog"}),{getFloatingProps:ke,getReferenceProps:ze}=Ie([H,x,Q,P]),Ye=Se(_.setReference,O),ie={top:"bottom",right:"left",bottom:"top",left:"right"}[$.split("-")[0]];return d.createElement(d.Fragment,null,d.createElement("button",Object.assign({},f,{type:"button",ref:j=>{E&&T(j,D),Ye(j)},"aria-label":$e(o,l,t,g,B),className:y("navds-timeline__period--clickable",Ne(n,r,t),f==null?void 0:f.className,{"navds-timeline__period--selected":m}),"aria-expanded":p?v:void 0,"aria-current":m||void 0},ze({onFocus:()=>{F(D)},onKeyDown:j=>{var L;(L=f==null?void 0:f.onKeydown)===null||L===void 0||L.call(f,j),j.key==="Enter"&&b(Be=>!Be),j.key===" "&&(e==null||e(j),b(!1))},style:{width:`${a}%`,[r]:`${u}%`},onClick:j=>{var L;(L=f==null?void 0:f.onClick)===null||L===void 0||L.call(f,j),j.detail!==0&&(e==null||e(j))}})),d.createElement("span",{className:y("navds-timeline__period--inner")},i)),p&&v&&d.createElement(Ce,{context:I,modal:!1,initialFocus:-1,returnFocus:!1},d.createElement("div",Object.assign({className:y("navds-timeline__popover"),"data-placement":$,ref:_.setFloating},ke(),{style:S}),p,N&&d.createElement("div",{ref:M,style:Object.assign(Object.assign(Object.assign({},s!=null?{left:s}:{}),h!=null?{top:h}:{}),ie?{[ie]:"-0.5rem"}:{}),className:y("navds-timeline__popover-arrow")}))))}),yt=({start:e,end:o,status:l,cropped:t,direction:n,left:r,width:u,icon:a,statusLabel:i,restProps:p,periodRef:m})=>{const g=Y("Timeline"),{cn:f}=C();return d.createElement("div",Object.assign({ref:m},p,{className:f(Ne(t,n,l),p==null?void 0:p.className),style:{width:`${u}%`,[n]:`${r}%`}}),d.createElement("span",{className:f("navds-timeline__period--inner")},a,d.createElement("span",{className:f("navds-sr-only")},$e(e,o,l,i,g))))},oe=c.forwardRef(({icon:e},o)=>{const{periods:l}=le(),{periodId:t,restProps:n}=Ae(),r=l.find(b=>b.id===t);if(!r)return d.createElement(d.Fragment,null);const{start:u,endInclusive:a,width:i,horizontalPosition:p,status:m="neutral",onSelectPeriod:g,cropped:f,direction:O,children:w,isActive:y,statusLabel:v}=r;return g||w?d.createElement(gt,{periodRef:o,start:u,end:a,status:m,onSelectPeriod:g,cropped:f||"",direction:O,width:i,left:p,icon:e,isActive:y,statusLabel:v,restProps:n},w):d.createElement(yt,{periodRef:o,start:u,end:a,status:m,cropped:f||"",direction:O,width:i,left:p,icon:e,statusLabel:v,restProps:n})});oe.componentType="period";var wt=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const re=c.forwardRef((e,o)=>{var{label:l,className:t,headingTag:n="h3",icon:r}=e,u=wt(e,["label","className","headingTag","icon"]);const{cn:a}=C(),{periods:i,id:p,active:m}=le(),{setActiveRow:g}=V(),f=Y("Timeline"),O=i.reduce((v,b)=>v.end>b.end?v:b,{}),w=i.reduce((v,b)=>v.end<b.end?v:b,{}),y=i.find(v=>!!v.children||!!v.onSelectPeriod);return d.createElement(d.Fragment,null,l&&d.createElement(qe,{as:n,id:`timeline-row-${p}`,className:a("navds-timeline__row-label"),size:"small"},r,l),d.createElement("div",{className:a("navds-timeline__row",{"navds-timeline__row--active":m})},d.createElement("ol",Object.assign({},u,{tabIndex:-1,ref:o,"aria-label":i.length===0?f("Row.noPeriods"):f("Row.period",{start:R(w.start,f("dateFormat")),end:R(O.end,f("dateFormat"))}),className:a("navds-timeline__row-periods",t),onKeyDown:v=>{(v.key==="ArrowDown"||v.key==="ArrowUp")&&(v.preventDefault(),g(v.key))}}),i==null?void 0:i.map(v=>d.createElement("li",{key:`period-${v.id}`},d.createElement(Te.Provider,{value:{periodId:v.id,firstFocus:(y==null?void 0:y.id)===v.id,restProps:v==null?void 0:v.restProps}},d.createElement(oe,{start:v.start,end:v.endInclusive,icon:v.icon,ref:v==null?void 0:v.ref})))))))});re.componentType="row";const Ot=(e,o)=>e.horizontalPosition-o.horizontalPosition,_t=(e,o,l,t="left",n,r,u)=>{const a=e.start,i=e.end,p=n<r.length-1&&!Ge(r[n+1].start,i),{horizontalPosition:m,width:g}=G(U(a),W(p?U(ve(r[n+1].start,1)):i),o,l);return{id:`r-${u}-p-${n}`,start:a,endInclusive:i,horizontalPosition:m,direction:t,width:g,end:i,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},xt=(e,o,l)=>{const t=o>0&&de(e.start,l[o-1].endInclusive),n=o<l.length-1&&de(l[o+1].start,e.endInclusive);return t&&n?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):n?Object.assign(Object.assign({},e),{cropped:"right"}):e},jt=e=>{let{horizontalPosition:o,width:l,cropped:t}=e;return o+l>100&&(l=100-o,t=t==="left"||t==="both"?"both":"right"),o<0&&o+l>0&&(l=o+l,o=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:l,horizontalPosition:o,cropped:t})},Et=(e,o,l,t)=>c.useMemo(()=>e.map((n,r)=>{const u=n.periods.sort((a,i)=>a.start.valueOf()-i.start.valueOf()).map((a,i)=>Object.assign(Object.assign({},_t(a,o,l,t,i,n.periods,r)),{restProps:a==null?void 0:a.restProps,ref:a==null?void 0:a.ref})).sort(Ot).map(xt).map(jt).filter(ut);return{id:`tl-row-${r}`,label:n.label,headingTag:n.headingTag||"h3",icon:n.icon,periods:t==="left"?u:u.reverse(),restProps:n==null?void 0:n.restProps,ref:n==null?void 0:n.ref}}),[e,o,l,t]),Pt=({startDate:e,rows:o})=>c.useMemo(()=>{if(e)return e;const l=o.flat().filter(n=>n.start).map(n=>n.start);return l.length===0?new Date:l.reduce((n,r)=>r<n?r:n)},[e,o]),Rt=(e,o)=>o.end>e?o.end:e,It=e=>e.flat().reduce(Rt,new Date(0)),ue=({endDate:e,rows:o})=>c.useMemo(()=>e||pe(It(o),1),[e,o]),St=e=>{const o=[];return e==null||e.forEach(l=>{var t,n,r,u,a,i,p,m,g,f,O,w;const y=[];if(d.isValidElement(l)&&(!((t=l==null?void 0:l.props)===null||t===void 0)&&t.children)){if(Array.isArray(l.props.children))for(let v=0;v<l.props.children.length;v++){const b=l.props.children[v];y.push({start:(n=b==null?void 0:b.props)===null||n===void 0?void 0:n.start,end:(r=b==null?void 0:b.props)===null||r===void 0?void 0:r.end,status:((u=b==null?void 0:b.props)===null||u===void 0?void 0:u.status)||"neutral",onSelectPeriod:(a=b.props)===null||a===void 0?void 0:a.onSelectPeriod,label:l.props.label,icon:b.props.icon,children:b.props.children,isActive:b.props.isActive,statusLabel:b.props.statusLabel,restProps:ee(b.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:b==null?void 0:b.ref})}else y.push({start:l.props.children.props.start,end:l.props.children.props.end,status:((i=l.props.children.props)===null||i===void 0?void 0:i.status)||"neutral",onSelectPeriod:(p=l.props.children.props)===null||p===void 0?void 0:p.onSelectPeriod,label:l.props.label,icon:(m=l.props.children.props)===null||m===void 0?void 0:m.icon,children:(g=l.props.children.props)===null||g===void 0?void 0:g.children,statusLabel:(f=l.props.children.props)===null||f===void 0?void 0:f.statusLabel,restProps:ee(l.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(w=(O=l.props)===null||O===void 0?void 0:O.children)===null||w===void 0?void 0:w.ref});o.push({label:l.props.label,icon:l.props.icon,headingTag:l.props.headingTag,periods:y,restProps:ee(l.props,["label","icon","headingTag"]),ref:l==null?void 0:l.ref})}}),o};var Ct=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const Dt=c.forwardRef((e,o)=>{var{label:l,interval:t,count:n}=e,r=Ct(e,["label","interval","count"]);const{setStart:u,endDate:a,startDate:i,direction:p}=V(),m=Y("Timeline"),g=m("dateFormat"),{cn:f}=C();let O;t==="month"?O=p==="left"?Je(a,n):te(i,n):O=p==="left"?ct(a,n):K(i,n);const w=p==="left"?X(i,O):X(a,O);return d.createElement(me,{as:"li"},d.createElement("button",Object.assign({type:"button","aria-label":w?m("Zoom.reset"):m("Zoom.zoom",{start:R(O,g),end:R(a,g)}),ref:o},r,{className:f("navds-timeline__zoom-button"),onClick:()=>{u(O)},"aria-pressed":w}),l))});var Mt=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const ae=c.forwardRef((e,o)=>{var{className:l,children:t}=e,n=Mt(e,["className","children"]);const{cn:r}=C();return d.createElement("ul",Object.assign({ref:o,className:r(l,"navds-timeline__zoom")},n),t)});ae.Button=Dt;ae.componentType="zoom";var Ft=function(e,o){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const J=c.forwardRef((e,o)=>{var{children:l,startDate:t,endDate:n,direction:r="left",axisLabelTemplates:u}=e,a=Ft(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const{cn:i}=C(),p=Array.isArray(l),m=c.useRef([]);p||(l=[l]);const g=d.Children.toArray(l).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="row"}),f=d.Children.toArray(l).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(s=>()=>s),O=d.Children.toArray(l).find(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),w=c.useMemo(()=>St(g),[g]),y=w.map(s=>s!=null&&s.periods?s.periods:[]),v=U(Pt({startDate:t,rows:y})),[b,D]=c.useState(v),[E,F]=c.useState(null),[T,M]=c.useState(W(ue({endDate:n,rows:y}))),B=W(ue({endDate:n,rows:y})),A=Et(w,t??b,n??T,r),N=s=>{if(!(t||n))if(r==="left"){if(X(s,b)){D(v);return}D(s)}else{if(X(s,T)){M(B);return}M(s)}},I=s=>{var h,_,S,H;if(E!==null&&s==="ArrowDown"){for(let x=E+1;x<A.length;x++)if(A[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(x),(_=(h=m.current.find(P=>P.id===x))===null||h===void 0?void 0:h.ref)===null||_===void 0||_.focus();break}return}if(E!==null&&s==="ArrowUp"){for(let x=E-1;x>=0;x--)if(A[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(x),(H=(S=m.current.find(P=>P.id===x))===null||S===void 0?void 0:S.ref)===null||H===void 0||H.focus();break}return}},$=(s,h)=>{let _=m.current;_=_.filter(S=>S.id!==h),_.push({ref:s,id:h}),m.current=_};return d.createElement(Me.Provider,{value:{startDate:t??b,endDate:n??T,direction:r,setStart:s=>N(s),setEndInclusive:s=>M(s),activeRow:E,setActiveRow:s=>I(s),initiate:s=>F(s),addFocusable:$}},d.createElement("div",Object.assign({},a,{ref:o}),d.createElement("div",{className:i("navds-timeline")},d.createElement(bt,{templates:u}),f.map((s,h)=>d.createElement(s,{key:`pin-${h}`})),A.map((s,h)=>d.createElement(Le.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:E===h,index:h}},d.createElement(re,Object.assign({},s==null?void 0:s.restProps,{ref:s==null?void 0:s.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),O))});J.Row=re;J.Period=oe;J.Pin=Fe;J.Zoom=ae;export{Yt as S,J as T,kt as a,$t as b,Nt as c,Lt as d,At as e,zt as f};
