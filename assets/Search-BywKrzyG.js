import{r as c,e as n}from"./index-DASCADcX.js";import{B as R,c as q}from"./Button-Dgzkd3lk.js";import{u as M,a as J,b as Q}from"./Theme-CaMvzsUv.js";import{L as U,a as W,E as Y}from"./Label-ymrTdXLG.js";import{o as Z}from"./omit-B7stZg_p.js";import"./useId-BiFzyKmP.js";import{a as L}from"./Loader--92hiQI0.js";import{u as ee}from"./useFormField-C_Behg-2.js";import{u as re}from"./useId-sDoo_C8F.js";import{S as P}from"./XMark-KAXZPgUH.js";var te=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const $=c.forwardRef((r,l)=>{var{title:a,titleId:e}=r,t=te(r,["title","titleId"]);let d=re();return d=a?e||"title-"+d:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":d},t),a?c.createElement("title",{id:d},a):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),D=c.createContext(null);var ae=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const F=c.forwardRef((r,l)=>{var a,{className:e,children:t,disabled:d,onClick:y}=r,_=ae(r,["className","children","disabled","onClick"]);const{cn:v}=M(),f=L("Search"),m=c.useContext(D);if(m===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:h,variant:s,handleClick:p}=m;return n.createElement(R,Object.assign({type:"submit"},_,{ref:l,size:h,variant:s==="secondary"?"secondary":"primary",className:v("navds-search__button-search",e),disabled:(a=m==null?void 0:m.disabled)!==null&&a!==void 0?a:d,onClick:q(y,p),icon:n.createElement($,Object.assign({},t?{"aria-hidden":!0}:{title:f("search")}))}),t)});var ne=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const le=c.forwardRef((r,l)=>{const{inputProps:a,size:e="medium",inputDescriptionId:t,errorId:d,showErrorMsg:y,hasError:_}=ee(r,"searchfield"),{className:v,hideLabel:f=!0,label:m,description:h,value:s,clearButtonLabel:p,onClear:g,clearButton:V=!0,children:I,variant:b="primary",defaultValue:E,onChange:O,onSearchClick:w,htmlSize:C}=r,A=ne(r,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),{cn:i}=M(),G=J(!1),S=c.useRef(null),H=Q(S,l),k=L("Search"),[x,K]=c.useState(E??""),B=o=>{s===void 0&&K(o),O==null||O(o)},N=o=>{var u,j;g==null||g(o),B(""),(j=(u=S.current)===null||u===void 0?void 0:u.focus)===null||j===void 0||j.call(u)},T=()=>{w==null||w(`${s??x}`)},z=V&&!a.disabled&&(s??x),X=()=>G?n.createElement(R,{className:i("navds-search__button-clear"),variant:"tertiary-neutral",size:e==="medium"?"small":"xsmall",icon:n.createElement(P,{"aria-hidden":!0}),title:p||k("clear"),hidden:!z,onClick:o=>N({trigger:"Click",event:o})}):n.createElement("button",{type:"button",onClick:o=>N({trigger:"Click",event:o}),className:i("navds-search__button-clear"),hidden:!z},n.createElement("span",{className:i("navds-sr-only")},p||k("clear")),n.createElement(P,{"aria-hidden":!0}));return n.createElement("div",{onKeyDown:o=>{var u;o.key==="Escape"&&(!((u=S.current)===null||u===void 0)&&u.value&&o.preventDefault(),N({trigger:"Escape",event:o}))},className:i(v,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":_,"navds-search--disabled":a.disabled,"navds-search--with-size":C})},n.createElement(U,{htmlFor:a.id,size:e,className:i("navds-form-field__label",{"navds-sr-only":f})},m),!!h&&n.createElement(W,{className:i("navds-form-field__description",{"navds-sr-only":f}),id:t,size:e,as:"div"},h),n.createElement("div",{className:i("navds-search__wrapper")},n.createElement("div",{className:i("navds-search__wrapper-inner")},b==="simple"&&n.createElement($,{"aria-hidden":!0,className:i("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:H},Z(A,["error","errorId","size","readOnly"]),a,{value:s??x,onChange:o=>B(o.target.value),type:"search",className:i(v,"navds-search__input",`navds-search__input--${b}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},C?{size:Number(C)}:{})),n.createElement(X,null)),n.createElement(D.Provider,{value:{size:e,disabled:a.disabled,variant:b,handleClick:T}},I||b!=="simple"&&n.createElement(F,null))),n.createElement("div",{className:i("navds-form-field__error"),id:d,"aria-relevant":"additions removals","aria-live":"polite"},y&&n.createElement(Y,{size:e,showIcon:!0},r.error)))});le.Button=F;export{le as S};
