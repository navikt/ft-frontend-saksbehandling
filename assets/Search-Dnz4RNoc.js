import{c as f}from"./clsx-B-dksMZM.js";import{r as o,R as a}from"./index-B5OHeJSP.js";import{B as R,c as X}from"./Button-C4dKKha_.js";import{u as q}from"./Theme-6IdwQf2V.js";import{L as J,a as Q,E as U}from"./Label-ZYbyet41.js";import{o as W}from"./omit-B7stZg_p.js";import"./useId-e75EoDiw.js";import{u as Y}from"./create-context-BlrHNsQj.js";import{a as M}from"./Loader-CoAqN6Lw.js";import{u as Z}from"./useFormField-BKpVC0Pg.js";import{u as ee}from"./useId-B9OmVTHV.js";import{S as P}from"./XMark-BWJopseo.js";var ne=function(n,l){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&l.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const L=o.forwardRef((n,l)=>{var{title:t,titleId:e}=n,r=ne(n,["title","titleId"]);let d=ee();return d=t?e||"title-"+d:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":d},r),t?o.createElement("title",{id:d},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),$=o.createContext(null);var re=function(n,l){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&l.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const D=o.forwardRef((n,l)=>{var t,{className:e,children:r,disabled:d,onClick:v}=n,b=re(n,["className","children","disabled","onClick"]);const m=M("Search"),c=o.useContext($);if(c===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:y,variant:h,handleClick:i}=c;return a.createElement(R,Object.assign({type:"submit"},b,{ref:l,size:y,variant:h==="secondary"?"secondary":"primary",className:f("navds-search__button-search",e),disabled:(t=c==null?void 0:c.disabled)!==null&&t!==void 0?t:d,onClick:X(v,i),icon:a.createElement(L,Object.assign({},r?{"aria-hidden":!0}:{title:m("search")}))}),r)});var te=function(n,l){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&l.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const ae=o.forwardRef((n,l)=>{const{inputProps:t,size:e="medium",inputDescriptionId:r,errorId:d,showErrorMsg:v,hasError:b}=Z(n,"searchfield"),{className:m,hideLabel:c=!0,label:y,description:h,value:i,clearButtonLabel:j,onClear:_,clearButton:F=!0,children:I,variant:p="primary",defaultValue:g,onChange:E,onSearchClick:O,htmlSize:w}=n,V=te(n,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),A=q(!1),C=o.useRef(null),G=Y(C,l),k=M("Search"),[S,H]=o.useState(g??""),B=s=>{i===void 0&&H(s),E==null||E(s)},x=s=>{var u,N;_==null||_(s),B(""),(N=(u=C.current)===null||u===void 0?void 0:u.focus)===null||N===void 0||N.call(u)},K=()=>{O==null||O(`${i??S}`)},z=F&&!t.disabled&&(i??S),T=()=>A?a.createElement(R,{className:"navds-search__button-clear",variant:"tertiary-neutral",size:e==="medium"?"small":"xsmall",icon:a.createElement(P,{"aria-hidden":!0}),title:j||k("clear"),hidden:!z,onClick:s=>x({trigger:"Click",event:s})}):a.createElement("button",{type:"button",onClick:s=>x({trigger:"Click",event:s}),className:"navds-search__button-clear",hidden:!z},a.createElement("span",{className:"navds-sr-only"},j||k("clear")),a.createElement(P,{"aria-hidden":!0}));return a.createElement("div",{onKeyDown:s=>{var u;s.key==="Escape"&&(!((u=C.current)===null||u===void 0)&&u.value&&s.preventDefault(),x({trigger:"Escape",event:s}))},className:f(m,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":b,"navds-search--disabled":t.disabled,"navds-search--with-size":w})},a.createElement(J,{htmlFor:t.id,size:e,className:f("navds-form-field__label",{"navds-sr-only":c})},y),!!h&&a.createElement(Q,{className:f("navds-form-field__description",{"navds-sr-only":c}),id:r,size:e,as:"div"},h),a.createElement("div",{className:"navds-search__wrapper"},a.createElement("div",{className:"navds-search__wrapper-inner"},p==="simple"&&a.createElement(L,{"aria-hidden":!0,className:"navds-search__search-icon"}),a.createElement("input",Object.assign({ref:G},W(V,["error","errorId","size","readOnly"]),t,{value:i??S,onChange:s=>B(s.target.value),type:"search",className:f(m,"navds-search__input",`navds-search__input--${p}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},w?{size:Number(w)}:{})),a.createElement(T,null)),a.createElement($.Provider,{value:{size:e,disabled:t.disabled,variant:p,handleClick:K}},I||p!=="simple"&&a.createElement(D,null))),a.createElement("div",{className:"navds-form-field__error",id:d,"aria-relevant":"additions removals","aria-live":"polite"},v&&a.createElement(U,{size:e,showIcon:!0},n.error)))});ae.Button=D;export{ae as S};
