import{r as v,e as n,u as j,b as T,a as X}from"./iframe-DzXUO6GT.js";import{B as R}from"./Button-af7718Cc.js";import{L as q,B as J,E as Q}from"./Label-BptAkRyu.js";import{o as U}from"./omit-B7stZg_p.js";import"./useId-BTmGetX7.js";import{a as M}from"./Loader-IncALmTQ.js";import{u as W}from"./useFormField-a1sx1jM8.js";import{c as Y}from"./composeEventHandlers-krbYd5LM.js";import{u as Z}from"./useId-DZKQXQUP.js";import{S as P}from"./XMark-CpZNF069.js";var ee=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const L=v.forwardRef((r,l)=>{var{title:a,titleId:e}=r,t=ee(r,["title","titleId"]);let s=Z();return s=a?e||"title-"+s:void 0,n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},t),a?n.createElement("title",{id:s},a):null,n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),$=v.createContext(null);var re=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const D=v.forwardRef((r,l)=>{var a,{className:e,children:t,disabled:s,onClick:u}=r,y=re(r,["className","children","disabled","onClick"]);const{cn:f}=j(),h=M("Search"),m=v.useContext($);if(m===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:p,variant:o,handleClick:_}=m;return n.createElement(R,Object.assign({type:"submit"},y,{ref:l,size:p,variant:o==="secondary"?"secondary":"primary",className:f("navds-search__button-search",e),disabled:(a=m?.disabled)!==null&&a!==void 0?a:s,onClick:Y(u,_),icon:n.createElement(L,Object.assign({},t?{"aria-hidden":!0}:{title:h("search")}))}),t)});var te=function(r,l){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&l.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a};const ae=v.forwardRef((r,l)=>{const{inputProps:a,size:e="medium",inputDescriptionId:t,errorId:s,showErrorMsg:u,hasError:y}=W(r,"searchfield"),{className:f,hideLabel:h=!0,label:m,description:p,value:o,clearButtonLabel:_,onClear:g,clearButton:F=!0,children:I,variant:b="primary",defaultValue:E,onChange:O,onSearchClick:C,htmlSize:w,"data-color":k}=r,V=te(r,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize","data-color"]),{cn:c}=j(),S=v.useRef(null),A=T(S,l),[x,G]=v.useState(E??""),B=i=>{o===void 0&&G(i),O?.(i)},z=i=>{var d,N;g?.(i),B(""),(N=(d=S.current)===null||d===void 0?void 0:d.focus)===null||N===void 0||N.call(d)},H=()=>{C?.(`${o??x}`)},K=F&&!a.disabled&&(o??x);return n.createElement("div",{onKeyDown:i=>{var d;i.key==="Escape"&&(!((d=S.current)===null||d===void 0)&&d.value&&i.preventDefault(),z({trigger:"Escape",event:i}))},className:c(f,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":y,"navds-search--disabled":a.disabled,"navds-search--with-size":w}),"data-color":k},n.createElement(q,{htmlFor:a.id,size:e,className:c("navds-form-field__label",{"navds-sr-only":h})},m),!!p&&n.createElement(J,{className:c("navds-form-field__description",{"navds-sr-only":h}),id:t,size:e,as:"div"},p),n.createElement("div",{className:c("navds-search__wrapper")},n.createElement("div",{className:c("navds-search__wrapper-inner")},b==="simple"&&n.createElement(L,{"aria-hidden":!0,className:c("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:A},U(V,["error","errorId","size","readOnly"]),a,{value:o??x,onChange:i=>B(i.target.value),type:"search",className:c(f,"navds-search__input",`navds-search__input--${b}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},w?{size:Number(w)}:{})),K&&n.createElement(ne,{handleClear:z,size:e,clearButtonLabel:_})),n.createElement($.Provider,{value:{size:e,disabled:a.disabled,variant:b,handleClick:H}},I||b!=="simple"&&n.createElement(D,{"data-color":k}))),n.createElement("div",{className:c("navds-form-field__error"),id:s,"aria-relevant":"additions removals","aria-live":"polite"},u&&n.createElement(Q,{size:e,showIcon:!0},r.error)))});function ne({size:r,clearButtonLabel:l,handleClear:a}){const{cn:e}=j(),t=X(!1),s=M("Search");return t?.isDarkside?n.createElement(R,{className:e("navds-search__button-clear"),variant:"tertiary","data-color":"neutral",size:r==="medium"?"small":"xsmall",icon:n.createElement(P,{"aria-hidden":!0}),title:l||s("clear"),onClick:u=>a({trigger:"Click",event:u}),type:"button"}):n.createElement("button",{type:"button",onClick:u=>a({trigger:"Click",event:u}),className:e("navds-search__button-clear")},n.createElement("span",{className:e("navds-sr-only")},l||s("clear")),n.createElement(P,{"aria-hidden":!0}))}ae.Button=D;export{ae as S};
