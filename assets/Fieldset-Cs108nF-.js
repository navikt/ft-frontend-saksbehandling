import{c as l}from"./clsx-B-dksMZM.js";import{r as m,R as d}from"./index-B5OHeJSP.js";import{L as R,a as j,E as x}from"./Label-ZYbyet41.js";import{o as v}from"./omit-B7stZg_p.js";import"./useId-e75EoDiw.js";import{b as w,R as N}from"./ReadOnlyIcon-3mCRcvzc.js";import{u as z,F as y}from"./useFormField-BKpVC0Pg.js";const L=e=>{const i=z(e,"fieldset"),{inputProps:n}=i;return Object.assign(Object.assign({},i),{inputProps:{"aria-invalid":n["aria-invalid"],"aria-describedby":n["aria-describedby"]}})};var S=function(e,i){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)i.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const k=m.forwardRef((e,i)=>{var n,r,a;const{inputProps:b,errorId:c,showErrorMsg:f,hasError:p,size:s,readOnly:o,inputDescriptionId:O}=L(e),t=m.useContext(y),{children:g,className:E,errorPropagation:_=!0,legend:h,description:I,hideLegend:u,nativeReadOnly:P=!0}=e,F=S(e,["children","className","errorPropagation","legend","description","hideLegend","nativeReadOnly"]);return d.createElement(y.Provider,{value:{error:_?(n=e.error)!==null&&n!==void 0?n:t==null?void 0:t.error:void 0,errorId:l({[c]:f,[(r=t==null?void 0:t.errorId)!==null&&r!==void 0?r:""]:!!(t!=null&&t.error)}),size:s,disabled:(a=e.disabled)!==null&&a!==void 0?a:!1,readOnly:o}},d.createElement("fieldset",Object.assign({},v(F,["errorId","error","size","readOnly"]),v(b,["aria-describedby","aria-invalid"]),{ref:i,className:l(E,"navds-fieldset",`navds-fieldset--${s}`,{"navds-fieldset--error":p,"navds-fieldset--readonly":o})}),d.createElement(R,{size:s,as:"legend",className:l("navds-fieldset__legend",{"navds-sr-only":!!u})},o&&(P?d.createElement(w,null):d.createElement(N,null)),h),!!I&&d.createElement(j,{className:l("navds-fieldset__description",{"navds-sr-only":!!u}),id:O,size:s??"medium",as:"div"},e.description),g,d.createElement("div",{id:c,"aria-relevant":"additions removals","aria-live":"polite",className:"navds-fieldset__error"},f&&d.createElement(x,{size:s,showIcon:!0},e.error))))});export{k as F};
