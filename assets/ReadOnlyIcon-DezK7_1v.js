import{e as b,r as me}from"./index-DASCADcX.js";import{a as It}from"./Loader-DokcRViZ.js";import{u as Mt}from"./useId-sDoo_C8F.js";var he=e=>e.type==="checkbox",ue=e=>e instanceof Date,z=e=>e==null;const ft=e=>typeof e=="object";var T=e=>!z(e)&&!Array.isArray(e)&&ft(e)&&!ue(e),yt=e=>T(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Nt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_t=(e,r)=>e.has(Nt(r)),Pt=e=>{const r=e.constructor&&e.constructor.prototype;return T(r)&&r.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!($e&&(e instanceof Blob||s))&&(t||T(e)))if(r=t?[]:{},!t&&!Pt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=M(e[n]));else return e;return r}var be=e=>Array.isArray(e)?e.filter(Boolean):[],O=e=>e===void 0,c=(e,r,t)=>{if(!r||!T(e))return t;const s=be(r.split(/[,[\].]+?/)).reduce((n,u)=>z(n)?n:n[u],e);return O(s)||s===e?O(e[r])?t:e[r]:s},Y=e=>typeof e=="boolean",ze=e=>/^\w*$/.test(e),gt=e=>be(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,r,t)=>{let s=-1;const n=ze(r)?[r]:gt(r),u=n.length,f=u-1;for(;++s<u;){const _=n[s];let A=t;if(s!==f){const x=e[_];A=T(x)||Array.isArray(x)?x:isNaN(+n[s+1])?{}:[]}if(_==="__proto__"||_==="constructor"||_==="prototype")return;e[_]=A,e=e[_]}return e};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vt=b.createContext(null),we=()=>b.useContext(vt),lr=e=>{const{children:r,...t}=e;return b.createElement(vt.Provider,{value:t},r)};var ht=(e,r,t,s=!0)=>{const n={defaultValues:r._defaultValues};for(const u in e)Object.defineProperty(n,u,{get:()=>{const f=u;return r._proxyFormState[f]!==J.all&&(r._proxyFormState[f]=!s||J.all),t&&(t[f]=!0),e[f]}});return n},$=e=>T(e)&&!Object.keys(e).length,bt=(e,r,t,s)=>{t(e);const{name:n,...u}=e;return $(u)||Object.keys(u).length>=Object.keys(r).length||Object.keys(u).find(f=>r[f]===(!s||J.all))},K=e=>Array.isArray(e)?e:[e],mt=(e,r,t)=>!e||!r||e===r||K(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s)));function Se(e){const r=b.useRef(e);r.current=e,b.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Bt(e){const r=we(),{control:t=r.control,disabled:s,name:n,exact:u}=e||{},[f,_]=b.useState(t._formState),A=b.useRef(!0),x=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),w=b.useRef(n);return w.current=n,Se({disabled:s,next:m=>A.current&&mt(w.current,m.name,u)&&bt(m,x.current,t._updateFormState)&&_({...t._formState,...m}),subject:t._subjects.state}),b.useEffect(()=>(A.current=!0,x.current.isValid&&t._updateValid(!0),()=>{A.current=!1}),[t]),b.useMemo(()=>ht(f,t,x.current,!1),[f,t])}var re=e=>typeof e=="string",At=(e,r,t,s,n)=>re(e)?(s&&r.watch.add(e),c(t,e,n)):Array.isArray(e)?e.map(u=>(s&&r.watch.add(u),c(t,u))):(s&&(r.watchAll=!0),t);function jt(e){const r=we(),{control:t=r.control,name:s,defaultValue:n,disabled:u,exact:f}=e||{},_=b.useRef(s);_.current=s,Se({disabled:u,subject:t._subjects.values,next:w=>{mt(_.current,w.name,f)&&x(M(At(_.current,t._names,w.values||t._formValues,!1,n)))}});const[A,x]=b.useState(t._getWatch(s,n));return b.useEffect(()=>t._removeUnmounted()),A}function ur(e){const r=we(),{name:t,disabled:s,control:n=r.control,shouldUnregister:u}=e,f=_t(n._names.array,t),_=jt({control:n,name:t,defaultValue:c(n._formValues,t,c(n._defaultValues,t,e.defaultValue)),exact:!0}),A=Bt({control:n,name:t,exact:!0}),x=b.useRef(n.register(t,{...e.rules,value:_,...Y(e.disabled)?{disabled:e.disabled}:{}})),w=b.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(A.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(A.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(A.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(A.validatingFields,t)},error:{enumerable:!0,get:()=>c(A.errors,t)}}),[A,t]),m=b.useMemo(()=>({name:t,value:_,...Y(s)||A.disabled?{disabled:A.disabled||s}:{},onChange:L=>x.current.onChange({target:{value:yt(L),name:t},type:Fe.CHANGE}),onBlur:()=>x.current.onBlur({target:{value:c(n._formValues,t),name:t},type:Fe.BLUR}),ref:L=>{const k=c(n._fields,t);k&&L&&(k._f.ref={focus:()=>L.focus(),select:()=>L.select(),setCustomValidity:N=>L.setCustomValidity(N),reportValidity:()=>L.reportValidity()})}}),[t,n._formValues,s,A.disabled,_,n._fields]);return b.useEffect(()=>{const L=n._options.shouldUnregister||u,k=(N,W)=>{const H=c(n._fields,N);H&&H._f&&(H._f.mount=W)};if(k(t,!0),L){const N=M(c(n._options.defaultValues,t));D(n._defaultValues,t,N),O(c(n._formValues,t))&&D(n._formValues,t,N)}return!f&&n.register(t),()=>{(f?L&&!n._state.action:L)?n.unregister(t):k(t,!1)}},[t,n,f,u]),b.useEffect(()=>{n._updateDisabledField({disabled:s,fields:n._fields,name:t})},[s,t,n]),b.useMemo(()=>({field:m,formState:A,fieldState:w}),[m,A,w])}var Wt=(e,r,t,s,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{},ae=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Ce=(e,r,t={})=>t.shouldFocus||O(t.shouldFocus)?t.focusName||`${e}.${O(t.focusIndex)?r:t.focusIndex}.`:"",ve=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched}),We=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ce=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const u=c(e,n);if(u){const{_f:f,..._}=u;if(f){if(f.refs&&f.refs[0]&&r(f.refs[0],n)&&!s)return!0;if(f.ref&&r(f.ref,f.name)&&!s)return!0;if(ce(_,r))break}else if(T(_)&&ce(_,r))break}}};var Ft=(e,r,t)=>{const s=K(c(e,t));return D(s,"root",r[t]),D(e,t,s),e},Ke=e=>e.type==="file",te=e=>typeof e=="function",Ve=e=>{if(!$e)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ae=e=>re(e),Ge=e=>e.type==="radio",pe=e=>e instanceof RegExp;const at={value:!1,isValid:!1},nt={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?nt:{value:e[0].value,isValid:!0}:nt:at}return at};const lt={isValid:!1,value:null};var pt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,lt):lt;function ut(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||Y(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var oe=e=>T(e)&&!pe(e)?e:{value:e,message:""},qe=async(e,r,t,s,n,u)=>{const{ref:f,refs:_,required:A,maxLength:x,minLength:w,min:m,max:L,pattern:k,validate:N,name:W,valueAsNumber:H,mount:ee}=e._f,S=c(t,W);if(!ee||r.has(W))return{};const Q=_?_[0]:f,X=p=>{n&&Q.reportValidity&&(Q.setCustomValidity(Y(p)?"":p||""),Q.reportValidity())},R={},v=Ge(f),h=he(f),F=v||h,C=(H||Ke(f))&&O(f.value)&&O(S)||Ve(f)&&f.value===""||S===""||Array.isArray(S)&&!S.length,P=Wt.bind(null,W,s,R),le=(p,E,I,q=se.maxLength,Z=se.minLength)=>{const G=p?E:I;R[W]={type:p?q:Z,message:G,ref:f,...P(p?q:Z,G)}};if(u?!Array.isArray(S)||!S.length:A&&(!F&&(C||z(S))||Y(S)&&!S||h&&!Vt(_).isValid||v&&!pt(_).isValid)){const{value:p,message:E}=Ae(A)?{value:!!A,message:A}:oe(A);if(p&&(R[W]={type:se.required,message:E,ref:Q,...P(se.required,E)},!s))return X(E),R}if(!C&&(!z(m)||!z(L))){let p,E;const I=oe(L),q=oe(m);if(!z(S)&&!isNaN(S)){const Z=f.valueAsNumber||S&&+S;z(I.value)||(p=Z>I.value),z(q.value)||(E=Z<q.value)}else{const Z=f.valueAsDate||new Date(S),G=ye=>new Date(new Date().toDateString()+" "+ye),de=f.type=="time",fe=f.type=="week";re(I.value)&&S&&(p=de?G(S)>G(I.value):fe?S>I.value:Z>new Date(I.value)),re(q.value)&&S&&(E=de?G(S)<G(q.value):fe?S<q.value:Z<new Date(q.value))}if((p||E)&&(le(!!p,I.message,q.message,se.max,se.min),!s))return X(R[W].message),R}if((x||w)&&!C&&(re(S)||u&&Array.isArray(S))){const p=oe(x),E=oe(w),I=!z(p.value)&&S.length>+p.value,q=!z(E.value)&&S.length<+E.value;if((I||q)&&(le(I,p.message,E.message),!s))return X(R[W].message),R}if(k&&!C&&re(S)){const{value:p,message:E}=oe(k);if(pe(p)&&!S.match(p)&&(R[W]={type:se.pattern,message:E,ref:f,...P(se.pattern,E)},!s))return X(E),R}if(N){if(te(N)){const p=await N(S,t),E=ut(p,Q);if(E&&(R[W]={...E,...P(se.validate,E.message)},!s))return X(E.message),R}else if(T(N)){let p={};for(const E in N){if(!$(p)&&!s)break;const I=ut(await N[E](S,t),Q,E);I&&(p={...I,...P(E,I.message)},X(I.message),s&&(R[W]=p))}if(!$(p)&&(R[W]={ref:Q,...p},!s))return R}}return X(!0),R},Re=(e,r)=>[...e,...K(r)],Te=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Le(e,r,t){return[...e.slice(0,r),...K(t),...e.slice(r)]}var Ue=(e,r,t)=>Array.isArray(e)?(O(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Ie=(e,r)=>[...K(r),...K(e)];function qt(e,r){let t=0;const s=[...e];for(const n of r)s.splice(n-t,1),t++;return be(s).length?s:[]}var Me=(e,r)=>O(r)?[]:qt(e,K(r).sort((t,s)=>t-s)),Ne=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function Ht(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=O(e)?s++:e[r[s++]];return e}function $t(e){for(const r in e)if(e.hasOwnProperty(r)&&!O(e[r]))return!1;return!0}function U(e,r){const t=Array.isArray(r)?r:ze(r)?[r]:gt(r),s=t.length===1?e:Ht(e,t),n=t.length-1,u=t[n];return s&&delete s[u],n!==0&&(T(s)&&$(s)||Array.isArray(s)&&$t(s))&&U(e,t.slice(0,-1)),e}var ot=(e,r,t)=>(e[r]=t,e);function or(e){const r=we(),{control:t=r.control,name:s,keyName:n="id",shouldUnregister:u,rules:f}=e,[_,A]=b.useState(t._getFieldArray(s)),x=b.useRef(t._getFieldArray(s).map(ae)),w=b.useRef(_),m=b.useRef(s),L=b.useRef(!1);m.current=s,w.current=_,t._names.array.add(s),f&&t.register(s,f),Se({next:({values:v,name:h})=>{if(h===m.current||!h){const F=c(v,m.current);Array.isArray(F)&&(A(F),x.current=F.map(ae))}},subject:t._subjects.array});const k=b.useCallback(v=>{L.current=!0,t._updateFieldArray(s,v)},[t,s]),N=(v,h)=>{const F=K(M(v)),C=Re(t._getFieldArray(s),F);t._names.focus=Ce(s,C.length-1,h),x.current=Re(x.current,F.map(ae)),k(C),A(C),t._updateFieldArray(s,C,Re,{argA:Te(v)})},W=(v,h)=>{const F=K(M(v)),C=Ie(t._getFieldArray(s),F);t._names.focus=Ce(s,0,h),x.current=Ie(x.current,F.map(ae)),k(C),A(C),t._updateFieldArray(s,C,Ie,{argA:Te(v)})},H=v=>{const h=Me(t._getFieldArray(s),v);x.current=Me(x.current,v),k(h),A(h),!Array.isArray(c(t._fields,s))&&D(t._fields,s,void 0),t._updateFieldArray(s,h,Me,{argA:v})},ee=(v,h,F)=>{const C=K(M(h)),P=Le(t._getFieldArray(s),v,C);t._names.focus=Ce(s,v,F),x.current=Le(x.current,v,C.map(ae)),k(P),A(P),t._updateFieldArray(s,P,Le,{argA:v,argB:Te(h)})},S=(v,h)=>{const F=t._getFieldArray(s);Ne(F,v,h),Ne(x.current,v,h),k(F),A(F),t._updateFieldArray(s,F,Ne,{argA:v,argB:h},!1)},Q=(v,h)=>{const F=t._getFieldArray(s);Ue(F,v,h),Ue(x.current,v,h),k(F),A(F),t._updateFieldArray(s,F,Ue,{argA:v,argB:h},!1)},X=(v,h)=>{const F=M(h),C=ot(t._getFieldArray(s),v,F);x.current=[...C].map((P,le)=>!P||le===v?ae():x.current[le]),k(C),A([...C]),t._updateFieldArray(s,C,ot,{argA:v,argB:F},!0,!1)},R=v=>{const h=K(M(v));x.current=h.map(ae),k([...h]),A([...h]),t._updateFieldArray(s,[...h],F=>F,{},!0,!1)};return b.useEffect(()=>{if(t._state.action=!1,We(s,t._names)&&t._subjects.state.next({...t._formState}),L.current&&(!ve(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([s]).then(v=>{const h=c(v.errors,s),F=c(t._formState.errors,s);(F?!h&&F.type||h&&(F.type!==h.type||F.message!==h.message):h&&h.type)&&(h?D(t._formState.errors,s,h):U(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const v=c(t._fields,s);v&&v._f&&!(ve(t._options.reValidateMode).isOnSubmit&&ve(t._options.mode).isOnSubmit)&&qe(v,t._names.disabled,t._formValues,t._options.criteriaMode===J.all,t._options.shouldUseNativeValidation,!0).then(h=>!$(h)&&t._subjects.state.next({errors:Ft(t._formState.errors,h,s)}))}t._subjects.values.next({name:s,values:{...t._formValues}}),t._names.focus&&ce(t._fields,(v,h)=>{if(t._names.focus&&h.startsWith(t._names.focus)&&v.focus)return v.focus(),1}),t._names.focus="",t._updateValid(),L.current=!1},[_,s,t]),b.useEffect(()=>(!c(t._formValues,s)&&t._updateFieldArray(s),()=>{(t._options.shouldUnregister||u)&&t.unregister(s)}),[s,t,n,u]),{swap:b.useCallback(S,[k,s,t]),move:b.useCallback(Q,[k,s,t]),prepend:b.useCallback(W,[k,s,t]),append:b.useCallback(N,[k,s,t]),remove:b.useCallback(H,[k,s,t]),insert:b.useCallback(ee,[k,s,t]),update:b.useCallback(X,[k,s,t]),replace:b.useCallback(R,[k,s,t]),fields:b.useMemo(()=>_.map((v,h)=>({...v,[n]:x.current[h]||ae()})),[_,n])}}var Pe=()=>{let e=[];return{get observers(){return e},next:n=>{for(const u of e)u.next&&u.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(u=>u!==n)}}),unsubscribe:()=>{e=[]}}},He=e=>z(e)||!ft(e);function ne(e,r){if(He(e)||He(r))return e===r;if(ue(e)&&ue(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const n of t){const u=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const f=r[n];if(ue(u)&&ue(f)||T(u)&&T(f)||Array.isArray(u)&&Array.isArray(f)?!ne(u,f):u!==f)return!1}}return!0}var xt=e=>e.type==="select-multiple",zt=e=>Ge(e)||he(e),Be=e=>Ve(e)&&e.isConnected,wt=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function xe(e,r={}){const t=Array.isArray(e);if(T(e)||t)for(const s in e)Array.isArray(e[s])||T(e[s])&&!wt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},xe(e[s],r[s])):z(e[s])||(r[s]=!0);return r}function St(e,r,t){const s=Array.isArray(e);if(T(e)||s)for(const n in e)Array.isArray(e[n])||T(e[n])&&!wt(e[n])?O(r)||He(t[n])?t[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:St(e[n],z(r)?{}:r[n],t[n]):t[n]=!ne(e[n],r[n]);return t}var _e=(e,r)=>St(e,r,xe(r)),Et=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>O(e)?e:r?e===""?NaN:e&&+e:t&&re(e)?new Date(e):s?s(e):e;function je(e){const r=e.ref;return Ke(r)?r.files:Ge(r)?pt(e.refs).value:xt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?Vt(e.refs).value:Et(O(r.value)?e.ref.value:r.value,e)}var Kt=(e,r,t,s)=>{const n={};for(const u of e){const f=c(r,u);f&&D(n,u,f._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},ge=e=>O(e)?e:pe(e)?e.source:T(e)?pe(e.value)?e.value.source:e.value:e;const ct="AsyncFunction";var Gt=e=>!!e&&!!e.validate&&!!(te(e.validate)&&e.validate.constructor.name===ct||T(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ct)),Yt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function dt(e,r,t){const s=c(e,t);if(s||ze(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const u=n.join("."),f=c(r,u),_=c(e,u);if(f&&!Array.isArray(f)&&t!==u)return{name:t};if(_&&_.type)return{name:u,error:_};n.pop()}return{name:t}}var Jt=(e,r,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?s.isOnBlur:n.isOnBlur)?!e:(t?s.isOnChange:n.isOnChange)?e:!0,Qt=(e,r)=>!be(c(e,r)).length&&U(e,r);const Xt={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function Zt(e={}){let r={...Xt,...e},t={submitCount:0,isDirty:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},n=T(r.defaultValues)||T(r.values)?M(r.defaultValues||r.values)||{}:{},u=r.shouldUnregister?{}:M(n),f={action:!1,mount:!1,watch:!1},_={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,x=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Pe(),array:Pe(),state:Pe()},L=ve(r.mode),k=ve(r.reValidateMode),N=r.criteriaMode===J.all,W=i=>a=>{clearTimeout(x),x=setTimeout(i,a)},H=async i=>{if(!r.disabled&&(w.isValid||i)){const a=r.resolver?$((await F()).errors):await P(s,!0);a!==t.isValid&&m.state.next({isValid:a})}},ee=(i,a)=>{!r.disabled&&(w.isValidating||w.validatingFields)&&((i||Array.from(_.mount)).forEach(l=>{l&&(a?D(t.validatingFields,l,a):U(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},S=(i,a=[],l,y,d=!0,o=!0)=>{if(y&&l&&!r.disabled){if(f.action=!0,o&&Array.isArray(c(s,i))){const g=l(c(s,i),y.argA,y.argB);d&&D(s,i,g)}if(o&&Array.isArray(c(t.errors,i))){const g=l(c(t.errors,i),y.argA,y.argB);d&&D(t.errors,i,g),Qt(t.errors,i)}if(w.touchedFields&&o&&Array.isArray(c(t.touchedFields,i))){const g=l(c(t.touchedFields,i),y.argA,y.argB);d&&D(t.touchedFields,i,g)}w.dirtyFields&&(t.dirtyFields=_e(n,u)),m.state.next({name:i,isDirty:p(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(u,i,a)},Q=(i,a)=>{D(t.errors,i,a),m.state.next({errors:t.errors})},X=i=>{t.errors=i,m.state.next({errors:t.errors,isValid:!1})},R=(i,a,l,y)=>{const d=c(s,i);if(d){const o=c(u,i,O(l)?c(n,i):l);O(o)||y&&y.defaultChecked||a?D(u,i,a?o:je(d._f)):q(i,o),f.mount&&H()}},v=(i,a,l,y,d)=>{let o=!1,g=!1;const V={name:i};if(!r.disabled){const B=!!(c(s,i)&&c(s,i)._f&&c(s,i)._f.disabled);if(!l||y){w.isDirty&&(g=t.isDirty,t.isDirty=V.isDirty=p(),o=g!==V.isDirty);const j=B||ne(c(n,i),a);g=!!(!B&&c(t.dirtyFields,i)),j||B?U(t.dirtyFields,i):D(t.dirtyFields,i,!0),V.dirtyFields=t.dirtyFields,o=o||w.dirtyFields&&g!==!j}if(l){const j=c(t.touchedFields,i);j||(D(t.touchedFields,i,l),V.touchedFields=t.touchedFields,o=o||w.touchedFields&&j!==l)}o&&d&&m.state.next(V)}return o?V:{}},h=(i,a,l,y)=>{const d=c(t.errors,i),o=w.isValid&&Y(a)&&t.isValid!==a;if(r.delayError&&l?(A=W(()=>Q(i,l)),A(r.delayError)):(clearTimeout(x),A=null,l?D(t.errors,i,l):U(t.errors,i)),(l?!ne(d,l):d)||!$(y)||o){const g={...y,...o&&Y(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...g},m.state.next(g)}},F=async i=>{ee(i,!0);const a=await r.resolver(u,r.context,Kt(i||_.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return ee(i),a},C=async i=>{const{errors:a}=await F(i);if(i)for(const l of i){const y=c(a,l);y?D(t.errors,l,y):U(t.errors,l)}else t.errors=a;return a},P=async(i,a,l={valid:!0})=>{for(const y in i){const d=i[y];if(d){const{_f:o,...g}=d;if(o){const V=_.array.has(o.name),B=d._f&&Gt(d._f);B&&w.validatingFields&&ee([y],!0);const j=await qe(d,_.disabled,u,N,r.shouldUseNativeValidation&&!a,V);if(B&&w.validatingFields&&ee([y]),j[o.name]&&(l.valid=!1,a))break;!a&&(c(j,o.name)?V?Ft(t.errors,j,o.name):D(t.errors,o.name,j[o.name]):U(t.errors,o.name))}!$(g)&&await P(g,a,l)}}return l.valid},le=()=>{for(const i of _.unMount){const a=c(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Be(l)):!Be(a._f.ref))&&Ee(i)}_.unMount=new Set},p=(i,a)=>!r.disabled&&(i&&a&&D(u,i,a),!ne(Ye(),n)),E=(i,a,l)=>At(i,_,{...f.mount?u:O(a)?n:re(i)?{[i]:a}:a},l,a),I=i=>be(c(f.mount?u:n,i,r.shouldUnregister?c(n,i,[]):[])),q=(i,a,l={})=>{const y=c(s,i);let d=a;if(y){const o=y._f;o&&(!o.disabled&&D(u,i,Et(a,o)),d=Ve(o.ref)&&z(a)?"":a,xt(o.ref)?[...o.ref.options].forEach(g=>g.selected=d.includes(g.value)):o.refs?he(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(V=>V===g.value):d===g.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(g=>g.checked=g.value===d):Ke(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||m.values.next({name:i,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&v(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ye(i)},Z=(i,a,l)=>{for(const y in a){const d=a[y],o=`${i}.${y}`,g=c(s,o);(_.array.has(i)||T(d)||g&&!g._f)&&!ue(d)?Z(o,d,l):q(o,d,l)}},G=(i,a,l={})=>{const y=c(s,i),d=_.array.has(i),o=M(a);D(u,i,o),d?(m.array.next({name:i,values:{...u}}),(w.isDirty||w.dirtyFields)&&l.shouldDirty&&m.state.next({name:i,dirtyFields:_e(n,u),isDirty:p(i,o)})):y&&!y._f&&!z(o)?Z(i,o,l):q(i,o,l),We(i,_)&&m.state.next({...t}),m.values.next({name:f.mount?i:void 0,values:{...u}})},de=async i=>{f.mount=!0;const a=i.target;let l=a.name,y=!0;const d=c(s,l),o=()=>a.type?je(d._f):yt(i),g=V=>{y=Number.isNaN(V)||ue(V)&&isNaN(V.getTime())||ne(V,c(u,l,V))};if(d){let V,B;const j=o(),ie=i.type===Fe.BLUR||i.type===Fe.FOCUS_OUT,Tt=!Yt(d._f)&&!r.resolver&&!c(t.errors,l)&&!d._f.deps||Jt(ie,c(t.touchedFields,l),t.isSubmitted,k,L),ke=We(l,_,ie);D(u,l,j),ie?(d._f.onBlur&&d._f.onBlur(i),A&&A(0)):d._f.onChange&&d._f.onChange(i);const Oe=v(l,j,ie,!1),Lt=!$(Oe)||ke;if(!ie&&m.values.next({name:l,type:i.type,values:{...u}}),Tt)return w.isValid&&(r.mode==="onBlur"&&ie?H():ie||H()),Lt&&m.state.next({name:l,...ke?{}:Oe});if(!ie&&ke&&m.state.next({...t}),r.resolver){const{errors:st}=await F([l]);if(g(j),y){const Ut=dt(t.errors,s,l),it=dt(st,s,Ut.name||l);V=it.error,l=it.name,B=$(st)}}else ee([l],!0),V=(await qe(d,_.disabled,u,N,r.shouldUseNativeValidation))[l],ee([l]),g(j),y&&(V?B=!1:w.isValid&&(B=await P(s,!0)));y&&(d._f.deps&&ye(d._f.deps),h(l,B,V,Oe))}},fe=(i,a)=>{if(c(t.errors,a)&&i.focus)return i.focus(),1},ye=async(i,a={})=>{let l,y;const d=K(i);if(r.resolver){const o=await C(O(i)?i:d);l=$(o),y=i?!d.some(g=>c(o,g)):l}else i?(y=(await Promise.all(d.map(async o=>{const g=c(s,o);return await P(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&H()):y=l=await P(s);return m.state.next({...!re(i)||w.isValid&&l!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&ce(s,fe,i?d:_.mount),y},Ye=i=>{const a={...f.mount?u:n};return O(i)?a:re(i)?c(a,i):i.map(l=>c(a,l))},Je=(i,a)=>({invalid:!!c((a||t).errors,i),isDirty:!!c((a||t).dirtyFields,i),error:c((a||t).errors,i),isValidating:!!c(t.validatingFields,i),isTouched:!!c((a||t).touchedFields,i)}),kt=i=>{i&&K(i).forEach(a=>U(t.errors,a)),m.state.next({errors:i?t.errors:{}})},Qe=(i,a,l)=>{const y=(c(s,i,{_f:{}})._f||{}).ref,d=c(t.errors,i)||{},{ref:o,message:g,type:V,...B}=d;D(t.errors,i,{...B,...a,ref:y}),m.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Ot=(i,a)=>te(i)?m.values.subscribe({next:l=>i(E(void 0,a),l)}):E(i,a,!0),Ee=(i,a={})=>{for(const l of i?K(i):_.mount)_.mount.delete(l),_.array.delete(l),a.keepValue||(U(s,l),U(u,l)),!a.keepError&&U(t.errors,l),!a.keepDirty&&U(t.dirtyFields,l),!a.keepTouched&&U(t.touchedFields,l),!a.keepIsValidating&&U(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&U(n,l);m.values.next({values:{...u}}),m.state.next({...t,...a.keepDirty?{isDirty:p()}:{}}),!a.keepIsValid&&H()},Xe=({disabled:i,name:a,field:l,fields:y})=>{(Y(i)&&f.mount||i||_.disabled.has(a))&&(i?_.disabled.add(a):_.disabled.delete(a),v(a,je(l?l._f:c(y,a)._f),!1,!1,!0))},De=(i,a={})=>{let l=c(s,i);const y=Y(a.disabled)||Y(r.disabled);return D(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),_.mount.add(i),l?Xe({field:l,disabled:Y(a.disabled)?a.disabled:r.disabled,name:i}):R(i,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:i,onChange:de,onBlur:de,ref:d=>{if(d){De(i,a),l=c(s,i);const o=O(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=zt(o),V=l._f.refs||[];if(g?V.find(B=>B===o):o===l._f.ref)return;D(s,i,{_f:{...l._f,...g?{refs:[...V.filter(Be),o,...Array.isArray(c(n,i))?[{}]:[]],ref:{type:o.type,name:i}}:{ref:o}}}),R(i,!1,void 0,o)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(_t(_.array,i)&&f.action)&&_.unMount.add(i)}}},Ze=()=>r.shouldFocusError&&ce(s,fe,_.mount),Ct=i=>{Y(i)&&(m.state.next({disabled:i}),ce(s,(a,l)=>{const y=c(s,l);y&&(a.disabled=y._f.disabled||i,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||i}))},0,!1))},et=(i,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=M(u);if(_.disabled.size)for(const o of _.disabled)D(d,o,void 0);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:g}=await F();t.errors=o,d=g}else await P(s);if(U(t.errors,"root"),$(t.errors)){m.state.next({errors:{}});try{await i(d,l)}catch(o){y=o}}else a&&await a({...t.errors},l),Ze(),setTimeout(Ze);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Rt=(i,a={})=>{c(s,i)&&(O(a.defaultValue)?G(i,M(c(n,i))):(G(i,a.defaultValue),D(n,i,M(a.defaultValue))),a.keepTouched||U(t.touchedFields,i),a.keepDirty||(U(t.dirtyFields,i),t.isDirty=a.defaultValue?p(i,M(c(n,i))):p()),a.keepError||(U(t.errors,i),w.isValid&&H()),m.state.next({...t}))},tt=(i,a={})=>{const l=i?M(i):n,y=M(l),d=$(i),o=d?n:y;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([..._.mount,...Object.keys(_e(n,u))]);for(const V of Array.from(g))c(t.dirtyFields,V)?D(o,V,c(u,V)):G(V,c(o,V))}else{if($e&&O(i))for(const g of _.mount){const V=c(s,g);if(V&&V._f){const B=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(Ve(B)){const j=B.closest("form");if(j){j.reset();break}}}}s={}}u=r.shouldUnregister?a.keepDefaultValues?M(n):{}:M(o),m.array.next({values:{...o}}),m.values.next({values:{...o}})}_={mount:a.keepDirtyValues?_.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(i,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&u?_e(n,u):t.dirtyFields:a.keepDefaultValues&&i?_e(n,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},rt=(i,a)=>tt(te(i)?i(u):i,a);return{control:{register:De,unregister:Ee,getFieldState:Je,handleSubmit:et,setError:Qe,_executeSchema:F,_getWatch:E,_getDirty:p,_updateValid:H,_removeUnmounted:le,_updateFieldArray:S,_updateDisabledField:Xe,_getFieldArray:I,_reset:tt,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(i=>{rt(i,r.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:i=>{t={...t,...i}},_disableForm:Ct,_subjects:m,_proxyFormState:w,_setErrors:X,get _fields(){return s},get _formValues(){return u},get _state(){return f},set _state(i){f=i},get _defaultValues(){return n},get _names(){return _},set _names(i){_=i},get _formState(){return t},set _formState(i){t=i},get _options(){return r},set _options(i){r={...r,...i}}},trigger:ye,register:De,handleSubmit:et,watch:Ot,setValue:G,getValues:Ye,reset:rt,resetField:Rt,clearErrors:kt,unregister:Ee,setError:Qe,setFocus:(i,a={})=>{const l=c(s,i),y=l&&l._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&te(d.select)&&d.select())}},getFieldState:Je}}function cr(e={}){const r=b.useRef(void 0),t=b.useRef(void 0),[s,n]=b.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Zt(e),formState:s});const u=r.current.control;return u._options=e,Se({subject:u._subjects.state,next:f=>{bt(f,u._proxyFormState,u._updateFormState,!0)&&n({...u._formState})}}),b.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),b.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==s.isDirty&&u._subjects.state.next({isDirty:f})}},[u,s.isDirty]),b.useEffect(()=>{e.values&&!ne(e.values,t.current)?(u._reset(e.values,u._options.resetOptions),t.current=e.values,n(f=>({...f}))):u._resetDefaultValues()},[e.values,u]),b.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),b.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),b.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),r.current.formState=ht(s,u),r.current}var er=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};const Dt=me.forwardRef((e,r)=>{var{title:t,titleId:s}=e,n=er(e,["title","titleId"]);let u=Mt();return u=t?s||"title-"+u:void 0,me.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":u},n),t?me.createElement("title",{id:u},t):null,me.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25A4.75 4.75 0 0 0 7.25 7v2.25H7A1.75 1.75 0 0 0 5.25 11v9c0 .414.336.75.75.75h12a.75.75 0 0 0 .75-.75v-9A1.75 1.75 0 0 0 17 9.25h-.25V7A4.75 4.75 0 0 0 12 2.25m3.25 7V7a3.25 3.25 0 0 0-6.5 0v2.25zM12 13a1.5 1.5 0 0 0-.75 2.8V17a.75.75 0 0 0 1.5 0v-1.2A1.5 1.5 0 0 0 12 13",clipRule:"evenodd"}))}),dr=()=>b.createElement(Dt,{"aria-hidden":!0,className:"navds-form-field__readonly-icon"}),fr=()=>b.createElement(Dt,{title:It("global")("readOnly"),className:"navds-form-field__readonly-icon"});export{lr as F,fr as R,ur as a,dr as b,cr as c,or as d,jt as e,we as u};
