import{c as s}from"./clsx-B-dksMZM.js";import{r as f,R as n}from"./index-Dxs5m6lS.js";import{L as R,a as j,E as x}from"./Label-g0SsZd4P.js";import{o as u}from"./omit-B7stZg_p.js";import"./useId-BdcioVLy.js";import{b as w,R as N}from"./ReadOnlyIcon-DuqD_nIQ.js";import{u as z,F as y}from"./useFormField-CUgZtuoq.js";const L=e=>{const d=z(e,"fieldset"),{inputProps:a}=d;return Object.assign(Object.assign({},d),{inputProps:{"aria-invalid":a["aria-invalid"],"aria-describedby":a["aria-describedby"]}})};var S=function(e,d){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&d.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(e);t<r.length;t++)d.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(a[r[t]]=e[r[t]]);return a};const k=f.forwardRef((e,d)=>{var a,r,t;const{inputProps:b,errorId:c,showErrorMsg:m,hasError:p,size:o,readOnly:l,inputDescriptionId:O}=L(e),i=f.useContext(y),{children:g,className:E,errorPropagation:_=!0,legend:h,description:I,hideLegend:v,nativeReadOnly:P=!0}=e,F=S(e,["children","className","errorPropagation","legend","description","hideLegend","nativeReadOnly"]);return n.createElement(y.Provider,{value:{error:_?(a=e.error)!==null&&a!==void 0?a:i==null?void 0:i.error:void 0,errorId:s({[c]:m,[(r=i==null?void 0:i.errorId)!==null&&r!==void 0?r:""]:!!(i!=null&&i.error)}),size:o,disabled:(t=e.disabled)!==null&&t!==void 0?t:!1,readOnly:l}},n.createElement("fieldset",Object.assign({},u(F,["errorId","error","size","readOnly"]),u(b,["aria-describedby","aria-invalid"]),{ref:d,className:s(E,"navds-fieldset",`navds-fieldset--${o}`,{"navds-fieldset--error":p,"navds-fieldset--readonly":l})}),n.createElement(R,{size:o,as:"legend",className:s("navds-fieldset__legend",{"navds-sr-only":!!v})},l&&(P?n.createElement(w,null):n.createElement(N,null)),h),!!I&&n.createElement(j,{className:s("navds-fieldset__description",{"navds-sr-only":!!v}),id:O,size:o??"medium",as:"div"},e.description),g,n.createElement("div",{id:c,"aria-relevant":"additions removals","aria-live":"polite",className:"navds-fieldset__error"},m&&n.createElement(x,{size:o,showIcon:!0},e.error))))});export{k as F};
