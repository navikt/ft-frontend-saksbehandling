import{r as f}from"./index-Dxs5m6lS.js";import{p as P,i as C,d as V,a as W}from"./useDateTranslationContext-BEjj1I9s.js";import{u as G}from"./Loader-BHKWc60O.js";import{f as S,i as w,g as H}from"./DatePicker-7k2LUc-P.js";const J=(y={})=>Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isValidDate:!0},y),ne=(y={})=>{var B;const{locale:b,required:x,defaultSelected:E,today:s=new Date,fromDate:p,toDate:D,disabled:h,disableWeekends:F,onDateChange:I,inputFormat:g,onValidate:_,defaultMonth:o,allowTwoDigitYear:A=!0}=y,[v,L]=f.useState(null),R=G(),i=b?H(b):R,[l,T]=f.useState(E),[j,r]=f.useState((B=l??o)!==null&&B!==void 0?B:s),[d,q]=f.useState(l),[O,Y]=f.useState(!1),k=l?S(l,i,"date",g):"",[z,u]=f.useState(k),M=f.useCallback(t=>{var e,a;Y(t),t&&r((a=(e=d??l)!==null&&e!==void 0?e:o)!==null&&a!==void 0?a:s)},[o,l,d,s]),c=t=>{I==null||I(t),q(t)},m=(t={})=>_==null?void 0:_(J(t));return{datepickerProps:{month:j,onMonthChange:r,onDayClick:(t,{selected:e})=>{if(!(e&&x)){if(t&&!e&&(M(!1),v==null||v.focus()),e){c(void 0),u(""),m({isValidDate:!1,isEmpty:!0});return}c(t),m(),r(t),u(t?S(t,i,"date",g):"")}},selected:d??new Date("Invalid date"),locale:b,fromDate:p,toDate:D,today:s,open:O,onClose:()=>{M(!1),v==null||v.focus()},onOpenToggle:()=>M(!O),disabled:h,disableWeekends:F},inputProps:{onChange:t=>{u(t.target.value);const e=P(t.target.value,s,i,"date",A),a=p&&e&&V(p,e)>0,n=D&&e&&V(e,D)>0;if(!C(e)||F&&w(e)||h&&W(e,h)){c(void 0),m({isInvalid:!C(e),isWeekend:F&&w(e),isDisabled:h&&W(e,h),isValidDate:!1,isEmpty:!t.target.value,isBefore:a??!1,isAfter:n??!1});return}if(a||n){c(void 0),m({isValidDate:!1,isBefore:a??!1,isAfter:n??!1});return}c(e),m(),r(o??e)},onFocus:t=>{if(t.target.readOnly)return;const e=P(t.target.value,s,i,"date",A);if(C(e)){u(S(e,i,"date",g));const a=p&&e&&V(p,e)>0,n=D&&e&&V(e,D)>0;!a&&!n&&r(e)}},onBlur:t=>{const e=P(t.target.value,s,i,"date",A);C(e)&&u(S(e,i,"date",g))},value:z,setAnchorRef:L},reset:()=>{var t;c(l),r((t=l??o)!==null&&t!==void 0?t:s),u(k??""),T(E)},selectedDay:d,setSelected:t=>{var e;c(t),r((e=t??o)!==null&&e!==void 0?e:s),u(t?S(t,i,"date",g):"")}}};export{ne as u};
