import{r as m,u as T,e as n,b as N,ag as R,z as M,ah as X,ai as q,aj as J,L as Q,B as U,ak as W,E as Y,a as Z,al as P}from"./iframe-ssyF9cFN.js";var ee=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const L=m.forwardRef((a,l)=>{var{title:r,titleId:e}=a,t=ee(a,["title","titleId"]);let s=T();return s=r?e||"title-"+s:void 0,n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},t),r?n.createElement("title",{id:s},r):null,n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),$=m.createContext(null);var ae=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const D=m.forwardRef((a,l)=>{var r,{className:e,children:t,disabled:s,onClick:u}=a,y=ae(a,["className","children","disabled","onClick"]);const{cn:f}=N(),h=R("Search"),v=m.useContext($);if(v===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:b,variant:o,handleClick:_}=v;return n.createElement(M,Object.assign({type:"submit"},y,{ref:l,size:b,variant:o==="secondary"?"secondary":"primary",className:f("navds-search__button-search",e),disabled:(r=v?.disabled)!==null&&r!==void 0?r:s,onClick:X(u,_),icon:n.createElement(L,Object.assign({},t?{"aria-hidden":!0}:{title:h("search")}))}),t)});var te=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const re=m.forwardRef((a,l)=>{const{inputProps:r,size:e="medium",inputDescriptionId:t,errorId:s,showErrorMsg:u,hasError:y}=q(a,"searchfield"),{className:f,hideLabel:h=!0,label:v,description:b,value:o,clearButtonLabel:_,onClear:g,clearButton:F=!0,children:I,variant:p="primary",defaultValue:E,onChange:O,onSearchClick:C,htmlSize:w,"data-color":k}=a,V=te(a,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize","data-color"]),{cn:c}=N(),S=m.useRef(null),A=J(S,l),[j,G]=m.useState(E??""),z=i=>{o===void 0&&G(i),O?.(i)},B=i=>{var d,x;g?.(i),z(""),(x=(d=S.current)===null||d===void 0?void 0:d.focus)===null||x===void 0||x.call(d)},H=()=>{C?.(`${o??j}`)},K=F&&!r.disabled&&(o??j);return n.createElement("div",{onKeyDown:i=>{var d;i.key==="Escape"&&(!((d=S.current)===null||d===void 0)&&d.value&&i.preventDefault(),B({trigger:"Escape",event:i}))},className:c(f,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":y,"navds-search--disabled":r.disabled,"navds-search--with-size":w}),"data-color":k},n.createElement(Q,{htmlFor:r.id,size:e,className:c("navds-form-field__label",{"navds-sr-only":h})},v),!!b&&n.createElement(U,{className:c("navds-form-field__description",{"navds-sr-only":h}),id:t,size:e,as:"div"},b),n.createElement("div",{className:c("navds-search__wrapper")},n.createElement("div",{className:c("navds-search__wrapper-inner")},p==="simple"&&n.createElement(L,{"aria-hidden":!0,className:c("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:A},W(V,["error","errorId","size","readOnly"]),r,{value:o??j,onChange:i=>z(i.target.value),type:"search",className:c(f,"navds-search__input",`navds-search__input--${p}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},w?{size:Number(w)}:{})),K&&n.createElement(ne,{handleClear:B,size:e,clearButtonLabel:_})),n.createElement($.Provider,{value:{size:e,disabled:r.disabled,variant:p,handleClick:H}},I||p!=="simple"&&n.createElement(D,{"data-color":k}))),n.createElement("div",{className:c("navds-form-field__error"),id:s,"aria-relevant":"additions removals","aria-live":"polite"},u&&n.createElement(Y,{size:e,showIcon:!0},a.error)))});function ne({size:a,clearButtonLabel:l,handleClear:r}){const{cn:e}=N(),t=Z(!1),s=R("Search");return t?n.createElement(M,{className:e("navds-search__button-clear"),variant:"tertiary","data-color":"neutral",size:a==="medium"?"small":"xsmall",icon:n.createElement(P,{"aria-hidden":!0}),title:l||s("clear"),onClick:u=>r({trigger:"Click",event:u}),type:"button"}):n.createElement("button",{type:"button",onClick:u=>r({trigger:"Click",event:u}),className:e("navds-search__button-clear")},n.createElement("span",{className:e("navds-sr-only")},l||s("clear")),n.createElement(P,{"aria-hidden":!0}))}re.Button=D;export{re as S};
