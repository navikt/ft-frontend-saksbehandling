import{c as s}from"./clsx-B-dksMZM.js";import{r as f,e as n}from"./index-DASCADcX.js";import{L as j,a as x,E as w}from"./Label-C-_BY61p.js";import{o as u}from"./omit-B7stZg_p.js";import"./useId-BiFzyKmP.js";import{b as N,R}from"./ReadOnlyIcon-DezK7_1v.js";import{u as z,F as y}from"./useFormField-BJl8SNDY.js";const L=e=>{const d=z(e,"fieldset"),{inputProps:t}=d;return Object.assign(Object.assign({},d),{inputProps:{"aria-invalid":t["aria-invalid"],"aria-describedby":t["aria-describedby"]}})};var S=function(e,d){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&d.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)d.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t};const k=f.forwardRef((e,d)=>{var t,r,a;const{inputProps:b,errorId:c,showErrorMsg:m,hasError:p,size:o,readOnly:l,inputDescriptionId:O}=L(e),i=f.useContext(y),{children:g,className:E,errorPropagation:_=!0,legend:h,description:I,hideLegend:v,nativeReadOnly:P=!0}=e,F=S(e,["children","className","errorPropagation","legend","description","hideLegend","nativeReadOnly"]);return n.createElement(y.Provider,{value:{error:_?(t=e.error)!==null&&t!==void 0?t:i==null?void 0:i.error:void 0,errorId:s({[c]:m,[(r=i==null?void 0:i.errorId)!==null&&r!==void 0?r:""]:!!(i!=null&&i.error)}),size:o,disabled:(a=e.disabled)!==null&&a!==void 0?a:!1,readOnly:l}},n.createElement("fieldset",Object.assign({},u(F,["errorId","error","size","readOnly"]),u(b,["aria-describedby","aria-invalid"]),{ref:d,className:s(E,"navds-fieldset",`navds-fieldset--${o}`,{"navds-fieldset--error":p,"navds-fieldset--readonly":l})}),n.createElement(j,{size:o,as:"legend",className:s("navds-fieldset__legend",{"navds-sr-only":!!v})},l&&(P?n.createElement(N,null):n.createElement(R,null)),h),!!I&&n.createElement(x,{className:s("navds-fieldset__description",{"navds-sr-only":!!v}),id:O,size:o??"medium",as:"div"},e.description),g,n.createElement("div",{id:c,"aria-relevant":"additions removals","aria-live":"polite",className:"navds-fieldset__error"},m&&n.createElement(w,{size:o,showIcon:!0},e.error))))});export{k as F};
