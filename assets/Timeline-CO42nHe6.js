import{r as g,u as z,e as r,b0 as k,b1 as W,Z as Be,b2 as fe,b3 as He,b4 as K,b as C,ag as Y,U as Ze,D as ve,b5 as U,b6 as me,b7 as pe,b8 as R,b9 as Ve,ba as te,bb as Ke,bc as Ue,a as be,bd as he,be as ge,bf as ye,bg as we,bh as Oe,bi as _e,bj as je,bk as xe,bl as Ee,bm as Pe,bn as Re,aj as Ie,bo as Se,bp as Xe,B as qe,bq as We,ak as ee,br as Ge,$ as X}from"./iframe-BvWhPN1_.js";var Je=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Tt=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=Je(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m4.573 7.234a.75.75 0 1 0-1.146-.968l-4.973 5.877L8.03 11.97a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.102-.046z",clipRule:"evenodd"}))});var Qe=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const At=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=Qe(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var et=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Lt=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=et(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.55 3.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5M9.8 5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m3.5 4a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 .75.75v7.106a.75.75 0 0 1-.75.75H14.8V21a.75.75 0 0 1-1.5 0v-4.894a.75.75 0 0 1 .75-.75h1.25V9.75h-1.25A.75.75 0 0 1 13.3 9m-2.78.916a.25.25 0 0 1 .235-.166h.295a.75.75 0 0 0 0-1.5h-.295c-.74 0-1.4.465-1.648 1.161l-2.263 6.337a.75.75 0 0 0 .706 1.002h2.75V21a.75.75 0 0 0 1.5 0v-5a.75.75 0 0 0-.75-.75H8.614z",clipRule:"evenodd"}))});var tt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Nt=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=tt(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var nt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const $t=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=nt(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))});var ot=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const kt=g.forwardRef((e,l)=>{var{title:o,titleId:t}=e,n=ot(e,["title","titleId"]);let a=z();return a=o?t||"title-"+a:void 0,r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},n),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.272 2.25a.75.75 0 0 0-.53.22L2.47 7.742a.75.75 0 0 0-.22.53v7.456c0 .199.079.39.22.53l5.272 5.272c.14.141.331.22.53.22h7.456a.75.75 0 0 0 .53-.22l5.272-5.272a.75.75 0 0 0 .22-.53V8.272a.75.75 0 0 0-.22-.53L16.258 2.47a.75.75 0 0 0-.53-.22zM3.75 8.583 8.583 3.75h6.834l4.833 4.833v6.834l-4.833 4.833H8.583L3.75 15.417zm5.28-.613a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z",clipRule:"evenodd"}))});function H(e,l){const o=+k(e)-+k(l);return o<0?-1:o>0?1:o}function lt(e,l,o){const[t,n]=W(o?.in,e,l);return t.getFullYear()-n.getFullYear()}function Ce(e,l,o){const[t,n]=W(o?.in,e,l),a=se(t,n),u=Math.abs(Be(t,n));t.setDate(t.getDate()-a*u);const i=+(se(t,n)===-a),c=a*(u-i);return c===0?0:c}function se(e,l){const o=e.getFullYear()-l.getFullYear()||e.getMonth()-l.getMonth()||e.getDate()-l.getDate()||e.getHours()-l.getHours()||e.getMinutes()-l.getMinutes()||e.getSeconds()-l.getSeconds()||e.getMilliseconds()-l.getMilliseconds();return o<0?-1:o>0?1:o}function ce(e,l){return+k(e)-+k(l)}function q(e,l){const o=k(e,l?.in);return o.setHours(23,59,59,999),o}function at(e,l){const o=k(e,l?.in);return+q(o,l)==+fe(o,l)}function rt(e,l,o){const[t,n,a]=W(o?.in,e,e,l),u=H(n,a),i=Math.abs(He(n,a));if(i<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-u*i);let c=H(n,a)===-u;at(t)&&i===1&&H(t,a)===1&&(c=!1);const m=u*(i-+c);return m===0?0:m}function it(e,l,o){const[t,n]=W(o?.in,e,l),a=H(t,n),u=Math.abs(lt(t,n));t.setFullYear(1584),n.setFullYear(1584);const i=H(t,n)===-a,c=a*(u-+i);return c===0?0:c}function st(e,l,o){return K(e,-l,o)}const zt=()=>{const{cn:e}=C();return r.createElement("span",{className:e("navds-stack__spacer")})},De=g.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=g.useContext(De);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ct=({horizontalPosition:e})=>e<=98&&e>=0,de=(e,l)=>Ce(e,l)<=1,dt=({horizontalPosition:e,width:l})=>e>=0&&e<=100&&l>0,ne=(e,l,o)=>{const t=ce(o,l);return ce(e,l)/t*100},G=(e,l,o,t)=>{const n=ne(e,o,t),a=ne(l,o,t)-n;return{horizontalPosition:n,width:a}},ut=(e,l,o,t,n,a)=>{const u=Math.ceil(o/10),i=U(l);return new Array(o).fill(i).map((c,m)=>{if(m%u!==0)return null;const v=me(c,m),{horizontalPosition:b,width:d}=G(v,pe(v,1),e,l);return{direction:t,horizontalPosition:b,label:R(v,n,{locale:a}),date:v,width:d}}).filter(c=>c!==null)},ft=(e,l,o,t,n)=>{const a=Ve(e),u=fe(l),i=rt(u,a)+1;return new Array(i).fill(a).map((c,m)=>{const v=te(c,m),{horizontalPosition:b,width:d}=G(v,te(v,1),e,l);return{direction:o,horizontalPosition:b,label:R(v,t,{locale:n}),date:v,width:d}})},vt=(e,l,o,t,n)=>{const a=Ke(e),u=Ue(l),i=it(u,e)+1;return new Array(i).fill(a).map((c,m)=>{const v=K(c,m),{horizontalPosition:b,width:d}=G(v,K(v,1),e,l);return{direction:o,horizontalPosition:b,label:R(v,t,{locale:n}),date:v,width:d}})},mt=(e,l,o,t,n)=>{const a=Ce(l,e);if(a<40){const i=n("dayFormat");return ut(e,l,a,o,i,t)}if(a<370){const i=n("monthFormat");return ft(e,l,o,i,t)}const u=n("yearFormat");return vt(e,l,o,u,t)},pt=({templates:e})=>{const{endDate:l,startDate:o,direction:t}=Z(),n=Y("Timeline",{dayFormat:e?.day,monthFormat:e?.month,yearFormat:e?.year}),a=Ze(),u=mt(o,l,t,a,n),{cn:i}=C();return r.createElement("div",{className:i("navds-timeline__axislabels"),"aria-hidden":"true"},u.filter(ct).map(c=>r.createElement(ve,{className:i("navds-timeline__axislabels-label"),as:"div",key:c.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${c.horizontalPosition}%`,width:`${c.width}%`}},c.label)))};var bt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Me=g.forwardRef((e,l)=>{var{date:o,children:t}=e,n=bt(e,["date","children"]);const{cn:a}=C(),{startDate:u,endDate:i,direction:c}=Z(),[m,v]=g.useState(!1),b=g.useRef(null),d=Y("Timeline"),O=!be(!1),{context:w,placement:f,middlewareData:{arrow:{x:p,y:I}={}},refs:E,floatingStyles:F}=he({placement:"top",open:m,onOpenChange:s=>v(s),whileElementsMounted:_e,middleware:[ge(O?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:b,padding:5})]}),T=je(w,{handleClose:xe(),restMs:25,delay:{open:1e3},move:!1}),A=Ee(w),N=Pe(w),{getFloatingProps:D,getReferenceProps:V}=Re([T,A,N]),$=Ie(E.setReference,l),S={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]];return r.createElement(r.Fragment,null,r.createElement("div",{className:a("navds-timeline__pin-wrapper"),style:{[c]:`${ne(o,u,i)}%`}},r.createElement("button",Object.assign({},n,{ref:$,className:a("navds-timeline__pin-button"),"aria-label":d("Pin.pin",{date:R(o,d("dateFormat"))}),type:"button","aria-expanded":t?m:void 0},V({onKeyDown:s=>{var h;(h=n?.onKeyDown)===null||h===void 0||h.call(n,s),s.key==="Enter"?v(_=>!_):s.key===" "&&v(!1)}})))),t&&m&&r.createElement(Se,{context:w,modal:!1,initialFocus:-1,returnFocus:!1},r.createElement("div",Object.assign({className:a("navds-timeline__popover"),"data-placement":f,ref:E.setFloating,role:"dialog"},D(),{style:F}),t,O&&r.createElement("div",{ref:b,style:Object.assign(Object.assign(Object.assign({},p!=null?{left:p}:{}),I!=null?{top:I}:{}),S?{[S]:"-0.5rem"}:{}),className:a("navds-timeline__popover-arrow")}))))});Me.componentType="pin";const Fe=g.createContext({periodId:"",firstFocus:!1}),Te=()=>{const e=g.useContext(Fe);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ae=g.createContext({periods:[],id:"",active:!1,index:0}),oe=()=>{const e=g.useContext(Ae);return e||console.warn("useRowContext must be used with RowContext"),e},Le=(e,l,o)=>Xe(`navds-timeline__period navds-timeline__period--${o}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&l==="left"||e==="left"&&l==="right","navds-timeline__period--connected-left":e==="left"&&l==="left"||e==="right"&&l==="right"}),Ne=(e,l,o,t,n)=>{const a=n("dateFormat"),u=R(e,a),i=R(l,a);return n("Period.period",{status:t||n(`Period.${o}`),start:u,end:i})},ht=r.memo(({onSelectPeriod:e,start:l,end:o,status:t,cropped:n,direction:a,left:u,width:i,icon:c,children:m,isActive:v,statusLabel:b,restProps:d,periodRef:y})=>{var O,w;const{cn:f}=C(),[p,I]=g.useState(!1),{index:E}=oe(),{firstFocus:F}=Te(),{initiate:T,addFocusable:A}=Z(),N=g.useRef(null),D=Y("Timeline"),$=!be(!1),{context:S,placement:s,middlewareData:{arrow:{x:h,y:_}={}},refs:M,floatingStyles:B}=he({placement:(O=d?.placement)!==null&&O!==void 0?O:"top",open:p,onOpenChange:x=>I(x),whileElementsMounted:_e,middleware:[ge($?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:N,padding:5})]}),j=je(S,{handleClose:xe(),restMs:25,delay:{open:1e3},move:!1}),Q=Ee(S),P=Pe(S),{getFloatingProps:$e,getReferenceProps:ke}=Re([j,Q,P]),ze=Ie(M.setReference,y),ie={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]];return r.createElement(r.Fragment,null,r.createElement("button",Object.assign({},d,{"data-color":(w=d?.["data-color"])!==null&&w!==void 0?w:t,type:"button",ref:x=>{F&&A(x,E),ze(x)},"aria-label":Ne(l,o,t,b,D),className:f("navds-timeline__period--clickable",Le(n,a,t),d?.className,{"navds-timeline__period--selected":v}),"aria-expanded":m?p:void 0,"aria-current":v||void 0},ke({onFocus:()=>{T(E)},onKeyDown:x=>{var L;(L=d?.onKeydown)===null||L===void 0||L.call(d,x),x.key==="Enter"&&I(Ye=>!Ye),x.key===" "&&(e?.(x),I(!1))},style:{width:`${i}%`,[a]:`${u}%`},onClick:x=>{var L;(L=d?.onClick)===null||L===void 0||L.call(d,x),x.detail!==0&&e?.(x)}})),r.createElement("span",{className:f("navds-timeline__period--inner")},c)),m&&p&&r.createElement(Se,{context:S,modal:!1,initialFocus:-1,returnFocus:!1},r.createElement("div",Object.assign({className:f("navds-timeline__popover"),"data-placement":s,ref:M.setFloating,role:"dialog"},$e(),{style:B}),m,$&&r.createElement("div",{ref:N,style:Object.assign(Object.assign(Object.assign({},h!=null?{left:h}:{}),_!=null?{top:_}:{}),ie?{[ie]:"-0.5rem"}:{}),className:f("navds-timeline__popover-arrow")}))))}),gt=({start:e,end:l,status:o,cropped:t,direction:n,left:a,width:u,icon:i,statusLabel:c,restProps:m,periodRef:v})=>{var b;const d=Y("Timeline"),{cn:y}=C();return r.createElement("div",Object.assign({ref:v},m,{"data-color":(b=m?.["data-color"])!==null&&b!==void 0?b:o,className:y(Le(t,n,o),m?.className),style:{width:`${u}%`,[n]:`${a}%`}}),r.createElement("span",{className:y("navds-timeline__period--inner")},i,r.createElement("span",{className:y("navds-sr-only")},Ne(e,l,o,c,d))))},le=g.forwardRef(({icon:e},l)=>{const{periods:o}=oe(),{periodId:t,restProps:n}=Te(),a=o.find(p=>p.id===t);if(!a)return r.createElement(r.Fragment,null);const{start:u,endInclusive:i,width:c,horizontalPosition:m,status:v="neutral",onSelectPeriod:b,cropped:d,direction:y,children:O,isActive:w,statusLabel:f}=a;return b||O?r.createElement(ht,{periodRef:l,start:u,end:i,status:v,onSelectPeriod:b,cropped:d||"",direction:y,width:c,left:m,icon:e,isActive:w,statusLabel:f,restProps:n},O):r.createElement(gt,{periodRef:l,start:u,end:i,status:v,cropped:d||"",direction:y,width:c,left:m,icon:e,statusLabel:f,restProps:n})});le.componentType="period";var yt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const ae=g.forwardRef((e,l)=>{var{label:o,className:t,headingTag:n="h3",icon:a}=e,u=yt(e,["label","className","headingTag","icon"]);const{cn:i}=C(),{periods:c,id:m,active:v}=oe(),{setActiveRow:b}=Z(),d=Y("Timeline"),y=c.reduce((f,p)=>f.end>p.end?f:p,{}),O=c.reduce((f,p)=>f.end<p.end?f:p,{}),w=c.find(f=>!!f.children||!!f.onSelectPeriod);return r.createElement(r.Fragment,null,o&&r.createElement(qe,{as:n,id:`timeline-row-${m}`,className:i("navds-timeline__row-label"),size:"small"},a,o),r.createElement("div",{className:i("navds-timeline__row",{"navds-timeline__row--active":v})},r.createElement("ol",Object.assign({},u,{tabIndex:-1,ref:l,"aria-label":c.length===0?d("Row.noPeriods"):d("Row.period",{start:R(O.start,d("dateFormat")),end:R(y.end,d("dateFormat"))}),className:i("navds-timeline__row-periods",t),onKeyDown:f=>{(f.key==="ArrowDown"||f.key==="ArrowUp")&&(f.preventDefault(),b(f.key))}}),c?.map(f=>r.createElement("li",{key:`period-${f.id}`},r.createElement(Fe.Provider,{value:{periodId:f.id,firstFocus:w?.id===f.id,restProps:f?.restProps}},r.createElement(le,{start:f.start,end:f.endInclusive,icon:f.icon,ref:f?.ref})))))))});ae.componentType="row";const wt=(e,l)=>e.horizontalPosition-l.horizontalPosition,Ot=(e,l,o,t="left",n,a,u)=>{const i=e.start,c=e.end,m=n<a.length-1&&!We(a[n+1].start,c),{horizontalPosition:v,width:b}=G(U(i),q(m?U(me(a[n+1].start,1)):c),l,o);return{id:`r-${u}-p-${n}`,start:i,endInclusive:c,horizontalPosition:v,direction:t,width:b,end:c,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},_t=(e,l,o)=>{const t=l>0&&de(e.start,o[l-1].endInclusive),n=l<o.length-1&&de(o[l+1].start,e.endInclusive);return t&&n?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):n?Object.assign(Object.assign({},e),{cropped:"right"}):e},jt=e=>{let{horizontalPosition:l,width:o,cropped:t}=e;return l+o>100&&(o=100-l,t=t==="left"||t==="both"?"both":"right"),l<0&&l+o>0&&(o=l+o,l=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:o,horizontalPosition:l,cropped:t})},xt=(e,l,o,t)=>g.useMemo(()=>e.map((n,a)=>{const u=n.periods.sort((i,c)=>i.start.valueOf()-c.start.valueOf()).map((i,c)=>Object.assign(Object.assign({},Ot(i,l,o,t,c,n.periods,a)),{restProps:i?.restProps,ref:i?.ref})).sort(wt).map(_t).map(jt).filter(dt);return{id:`tl-row-${a}`,label:n.label,headingTag:n.headingTag||"h3",icon:n.icon,periods:t==="left"?u:u.reverse(),restProps:n?.restProps,ref:n?.ref}}),[e,l,o,t]),Et=({startDate:e,rows:l})=>g.useMemo(()=>{if(e)return e;const o=l.flat().filter(n=>n.start).map(n=>n.start);return o.length===0?new Date:o.reduce((n,a)=>a<n?a:n)},[e,l]),Pt=(e,l)=>l.end>e?l.end:e,Rt=e=>e.flat().reduce(Pt,new Date(0)),ue=({endDate:e,rows:l})=>g.useMemo(()=>e||pe(Rt(l),1),[e,l]),It=e=>{const l=[];return e?.forEach(o=>{var t,n,a,u,i,c,m,v,b,d,y,O;const w=[];if(r.isValidElement(o)&&(!((t=o?.props)===null||t===void 0)&&t.children)){if(Array.isArray(o.props.children))for(let f=0;f<o.props.children.length;f++){const p=o.props.children[f];w.push({start:(n=p?.props)===null||n===void 0?void 0:n.start,end:(a=p?.props)===null||a===void 0?void 0:a.end,status:((u=p?.props)===null||u===void 0?void 0:u.status)||"neutral",onSelectPeriod:(i=p.props)===null||i===void 0?void 0:i.onSelectPeriod,label:o.props.label,icon:p.props.icon,children:p.props.children,isActive:p.props.isActive,statusLabel:p.props.statusLabel,restProps:ee(p.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:p?.ref})}else w.push({start:o.props.children.props.start,end:o.props.children.props.end,status:((c=o.props.children.props)===null||c===void 0?void 0:c.status)||"neutral",onSelectPeriod:(m=o.props.children.props)===null||m===void 0?void 0:m.onSelectPeriod,label:o.props.label,icon:(v=o.props.children.props)===null||v===void 0?void 0:v.icon,children:(b=o.props.children.props)===null||b===void 0?void 0:b.children,statusLabel:(d=o.props.children.props)===null||d===void 0?void 0:d.statusLabel,restProps:ee(o.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(O=(y=o.props)===null||y===void 0?void 0:y.children)===null||O===void 0?void 0:O.ref});l.push({label:o.props.label,icon:o.props.icon,headingTag:o.props.headingTag,periods:w,restProps:ee(o.props,["label","icon","headingTag"]),ref:o?.ref})}}),l};var St=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ct=g.forwardRef((e,l)=>{var{label:o,interval:t,count:n}=e,a=St(e,["label","interval","count"]);const{setStart:u,endDate:i,startDate:c,direction:m}=Z(),v=Y("Timeline"),b=v("dateFormat"),{cn:d}=C();let y;t==="month"?y=m==="left"?Ge(i,n):te(c,n):y=m==="left"?st(i,n):K(c,n);const O=m==="left"?X(c,y):X(i,y);return r.createElement(ve,{as:"li"},r.createElement("button",Object.assign({type:"button","aria-label":O?v("Zoom.reset"):v("Zoom.zoom",{start:R(y,b),end:R(i,b)}),ref:l},a,{className:d("navds-timeline__zoom-button"),onClick:()=>{u(y)},"aria-pressed":O}),o))});var Dt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const re=g.forwardRef((e,l)=>{var{className:o,children:t}=e,n=Dt(e,["className","children"]);const{cn:a}=C();return r.createElement("ul",Object.assign({ref:l,className:a(o,"navds-timeline__zoom")},n),t)});re.Button=Ct;re.componentType="zoom";var Mt=function(e,l){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const J=g.forwardRef((e,l)=>{var{children:o,startDate:t,endDate:n,direction:a="left",axisLabelTemplates:u}=e,i=Mt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const{cn:c}=C(),m=Array.isArray(o),v=g.useRef([]);m||(o=[o]);const b=r.Children.toArray(o).filter(s=>{var h;return((h=s?.type)===null||h===void 0?void 0:h.componentType)==="row"}),d=r.Children.toArray(o).filter(s=>{var h;return((h=s?.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(s=>()=>s),y=r.Children.toArray(o).find(s=>{var h;return((h=s?.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),O=g.useMemo(()=>It(b),[b]),w=O.map(s=>s?.periods?s.periods:[]),f=U(Et({startDate:t,rows:w})),[p,I]=g.useState(f),[E,F]=g.useState(null),[T,A]=g.useState(q(ue({endDate:n,rows:w}))),N=q(ue({endDate:n,rows:w})),D=xt(O,t??p,n??T,a),V=s=>{if(!(t||n))if(a==="left"){if(X(s,p)){I(f);return}I(s)}else{if(X(s,T)){A(N);return}A(s)}},$=s=>{var h,_,M,B;if(E!==null&&s==="ArrowDown"){for(let j=E+1;j<D.length;j++)if(D[j].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(j),(_=(h=v.current.find(P=>P.id===j))===null||h===void 0?void 0:h.ref)===null||_===void 0||_.focus();break}return}if(E!==null&&s==="ArrowUp"){for(let j=E-1;j>=0;j--)if(D[j].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(j),(B=(M=v.current.find(P=>P.id===j))===null||M===void 0?void 0:M.ref)===null||B===void 0||B.focus();break}return}},S=(s,h)=>{let _=v.current;_=_.filter(M=>M.id!==h),_.push({ref:s,id:h}),v.current=_};return r.createElement(De.Provider,{value:{startDate:t??p,endDate:n??T,direction:a,setStart:s=>V(s),setEndInclusive:s=>A(s),activeRow:E,setActiveRow:s=>$(s),initiate:s=>F(s),addFocusable:S}},r.createElement("div",Object.assign({},i,{ref:l}),r.createElement("div",{className:c("navds-timeline")},r.createElement(pt,{templates:u}),d.map((s,h)=>r.createElement(s,{key:`pin-${h}`})),D.map((s,h)=>r.createElement(Ae.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:E===h,index:h}},r.createElement(ae,Object.assign({},s?.restProps,{ref:s?.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),y))});J.Row=ae;J.Period=le;J.Pin=Me;J.Zoom=re;export{zt as S,J as T,$t as a,Nt as b,Lt as c,At as d,Tt as e,kt as f};
