import{r as c}from"./index-B5OHeJSP.js";import{p as P,i as C,d as V,a as W}from"./useDateTranslationContext-DuYWebvA.js";import{u as G}from"./Loader-CoAqN6Lw.js";import{f as S,i as w,g as H}from"./DatePicker-DoJN_gWH.js";const J=(y={})=>Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isValidDate:!0},y),se=(y={})=>{var B;const{locale:b,required:x,defaultSelected:E,today:l=new Date,fromDate:D,toDate:h,disabled:g,disableWeekends:F,onDateChange:I,inputFormat:m,onValidate:_,defaultMonth:d,allowTwoDigitYear:A=!0}=y,[p,L]=c.useState(null),R=G(),u=b?H(b):R,[a,T]=c.useState(E),[j,o]=c.useState((B=a??d)!==null&&B!==void 0?B:l),[i,q]=c.useState(a),[O,Y]=c.useState(!1),k=a?S(a,u,"date",m):"",[z,f]=c.useState(k),M=c.useCallback(n=>{var e,t;Y(n),n&&o((t=(e=i??a)!==null&&e!==void 0?e:d)!==null&&t!==void 0?t:l)},[d,a,i,l]),r=n=>{I==null||I(n),q(n)},v=(n={})=>_==null?void 0:_(J(n));return{datepickerProps:{month:j,onMonthChange:o,onDayClick:(n,{selected:e})=>{if(!(e&&x)){if(n&&!e&&(M(!1),p==null||p.focus()),e){r(void 0),f(""),v({isValidDate:!1,isEmpty:!0});return}r(n),v(),o(n),f(n?S(n,u,"date",m):"")}},selected:i??new Date("Invalid date"),locale:b,fromDate:D,toDate:h,today:l,open:O,onClose:()=>{M(!1),p==null||p.focus()},onOpenToggle:()=>M(!O),disabled:g,disableWeekends:F},inputProps:{onChange:n=>{f(n.target.value);const e=P(n.target.value,l,u,"date",A),t=D&&e&&V(D,e)>0,s=h&&e&&V(e,h)>0;if(!C(e)||F&&w(e)||g&&W(e,g)){r(void 0),v({isInvalid:!C(e),isWeekend:F&&w(e),isDisabled:g&&W(e,g),isValidDate:!1,isEmpty:!n.target.value,isBefore:t??!1,isAfter:s??!1});return}if(t||s){r(void 0),v({isValidDate:!1,isBefore:t??!1,isAfter:s??!1});return}r(e),v(),o(d??e)},onFocus:n=>{if(n.target.readOnly)return;const e=P(n.target.value,l,u,"date",A);if(C(e)){f(S(e,u,"date",m));const t=D&&e&&V(D,e)>0,s=h&&e&&V(e,h)>0;!t&&!s&&o(e)}},onBlur:n=>{const e=P(n.target.value,l,u,"date",A);C(e)&&f(S(e,u,"date",m))},value:z,setAnchorRef:L},reset:()=>{var n;r(a),o((n=a??d)!==null&&n!==void 0?n:l),f(k??""),T(E)},selectedDay:i,setSelected:n=>{var e;r(n),o((e=n??d)!==null&&e!==void 0?e:l),f(n?S(n,u,"date",m):"")}}};export{se as u};
