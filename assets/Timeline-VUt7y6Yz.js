import{r as c,b as z,aZ as k,a_ as q,a2 as Be,a$ as fe,b0 as He,b1 as K,a as C,e as d,af as Y,Z as Ze,D as ve,b2 as U,b3 as me,b4 as pe,b5 as R,b6 as Ve,b7 as te,b8 as Ke,b9 as Ue,u as be,ba as he,bb as ge,bc as ye,bd as we,be as Oe,bf as _e,bg as xe,bh as je,bi as Ee,bj as Pe,bk as Re,ah as Ie,bl as Se,bm as Xe,B as We,bn as qe,ai as ee,bo as Ge,a3 as X}from"./iframe-fAeK6XRM.js";var Je=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Tt=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Je(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m4.573 7.234a.75.75 0 1 0-1.146-.968l-4.973 5.877L8.03 11.97a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.102-.046z",clipRule:"evenodd"}))});var Qe=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const At=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Qe(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var et=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Lt=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=et(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.55 3.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5M9.8 5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m3.5 4a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 .75.75v7.106a.75.75 0 0 1-.75.75H14.8V21a.75.75 0 0 1-1.5 0v-4.894a.75.75 0 0 1 .75-.75h1.25V9.75h-1.25A.75.75 0 0 1 13.3 9m-2.78.916a.25.25 0 0 1 .235-.166h.295a.75.75 0 0 0 0-1.5h-.295c-.74 0-1.4.465-1.648 1.161l-2.263 6.337a.75.75 0 0 0 .706 1.002h2.75V21a.75.75 0 0 0 1.5 0v-5a.75.75 0 0 0-.75-.75H8.614z",clipRule:"evenodd"}))});var tt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Nt=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=tt(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var nt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const $t=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=nt(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))});var lt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const kt=c.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=lt(e,["title","titleId"]);let a=z();return a=n?t||"title-"+a:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},l),n?c.createElement("title",{id:a},n):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.272 2.25a.75.75 0 0 0-.53.22L2.47 7.742a.75.75 0 0 0-.22.53v7.456c0 .199.079.39.22.53l5.272 5.272c.14.141.331.22.53.22h7.456a.75.75 0 0 0 .53-.22l5.272-5.272a.75.75 0 0 0 .22-.53V8.272a.75.75 0 0 0-.22-.53L16.258 2.47a.75.75 0 0 0-.53-.22zM3.75 8.583 8.583 3.75h6.834l4.833 4.833v6.834l-4.833 4.833H8.583L3.75 15.417zm5.28-.613a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z",clipRule:"evenodd"}))});function H(e,o){const n=+k(e)-+k(o);return n<0?-1:n>0?1:n}function ot(e,o,n){const[t,l]=q(n==null?void 0:n.in,e,o);return t.getFullYear()-l.getFullYear()}function Ce(e,o,n){const[t,l]=q(n==null?void 0:n.in,e,o),a=se(t,l),f=Math.abs(Be(t,l));t.setDate(t.getDate()-a*f);const r=+(se(t,l)===-a),s=a*(f-r);return s===0?0:s}function se(e,o){const n=e.getFullYear()-o.getFullYear()||e.getMonth()-o.getMonth()||e.getDate()-o.getDate()||e.getHours()-o.getHours()||e.getMinutes()-o.getMinutes()||e.getSeconds()-o.getSeconds()||e.getMilliseconds()-o.getMilliseconds();return n<0?-1:n>0?1:n}function ce(e,o){return+k(e)-+k(o)}function W(e,o){const n=k(e,o==null?void 0:o.in);return n.setHours(23,59,59,999),n}function at(e,o){const n=k(e,o==null?void 0:o.in);return+W(n,o)==+fe(n,o)}function rt(e,o,n){const[t,l,a]=q(n==null?void 0:n.in,e,e,o),f=H(l,a),r=Math.abs(He(l,a));if(r<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-f*r);let s=H(l,a)===-f;at(t)&&r===1&&H(t,a)===1&&(s=!1);const p=f*(r-+s);return p===0?0:p}function it(e,o,n){const[t,l]=q(n==null?void 0:n.in,e,o),a=H(t,l),f=Math.abs(ot(t,l));t.setFullYear(1584),l.setFullYear(1584);const r=H(t,l)===-a,s=a*(f-+r);return s===0?0:s}function st(e,o,n){return K(e,-o,n)}const zt=()=>{const{cn:e}=C();return d.createElement("span",{className:e("navds-stack__spacer")})},De=c.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=c.useContext(De);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ct=({horizontalPosition:e})=>e<=98&&e>=0,de=(e,o)=>Ce(e,o)<=1,dt=({horizontalPosition:e,width:o})=>e>=0&&e<=100&&o>0,ne=(e,o,n)=>{const t=ce(n,o);return ce(e,o)/t*100},G=(e,o,n,t)=>{const l=ne(e,n,t),a=ne(o,n,t)-l;return{horizontalPosition:l,width:a}},ut=(e,o,n,t,l,a)=>{const f=Math.ceil(n/10),r=U(o);return new Array(n).fill(r).map((s,p)=>{if(p%f!==0)return null;const m=me(s,p),{horizontalPosition:h,width:u}=G(m,pe(m,1),e,o);return{direction:t,horizontalPosition:h,label:R(m,l,{locale:a}),date:m,width:u}}).filter(s=>s!==null)},ft=(e,o,n,t,l)=>{const a=Ve(e),f=fe(o),r=rt(f,a)+1;return new Array(r).fill(a).map((s,p)=>{const m=te(s,p),{horizontalPosition:h,width:u}=G(m,te(m,1),e,o);return{direction:n,horizontalPosition:h,label:R(m,t,{locale:l}),date:m,width:u}})},vt=(e,o,n,t,l)=>{const a=Ke(e),f=Ue(o),r=it(f,e)+1;return new Array(r).fill(a).map((s,p)=>{const m=K(s,p),{horizontalPosition:h,width:u}=G(m,K(m,1),e,o);return{direction:n,horizontalPosition:h,label:R(m,t,{locale:l}),date:m,width:u}})},mt=(e,o,n,t,l)=>{const a=Ce(o,e);if(a<40){const r=l("dayFormat");return ut(e,o,a,n,r,t)}if(a<370){const r=l("monthFormat");return ft(e,o,n,r,t)}const f=l("yearFormat");return vt(e,o,n,f,t)},pt=({templates:e})=>{const{endDate:o,startDate:n,direction:t}=Z(),l=Y("Timeline",{dayFormat:e==null?void 0:e.day,monthFormat:e==null?void 0:e.month,yearFormat:e==null?void 0:e.year}),a=Ze(),f=mt(n,o,t,a,l),{cn:r}=C();return d.createElement("div",{className:r("navds-timeline__axislabels"),"aria-hidden":"true"},f.filter(ct).map(s=>d.createElement(ve,{className:r("navds-timeline__axislabels-label"),as:"div",key:s.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${s.horizontalPosition}%`,width:`${s.width}%`}},s.label)))};var bt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Me=c.forwardRef((e,o)=>{var{date:n,children:t}=e,l=bt(e,["date","children"]);const{cn:a}=C(),{startDate:f,endDate:r,direction:s}=Z(),[p,m]=c.useState(!1),h=c.useRef(null),u=Y("Timeline"),O=!be(!1),{context:w,placement:v,middlewareData:{arrow:{x:b,y:I}={}},refs:E,floatingStyles:F}=he({placement:"top",open:p,onOpenChange:i=>m(i),whileElementsMounted:_e,middleware:[ge(O?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:h,padding:5})]}),T=xe(w,{handleClose:je(),restMs:25,delay:{open:1e3},move:!1}),A=Ee(w),N=Pe(w),{getFloatingProps:D,getReferenceProps:V}=Re([T,A,N]),$=Ie(E.setReference,o),S={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]];return d.createElement(d.Fragment,null,d.createElement("div",{className:a("navds-timeline__pin-wrapper"),style:{[s]:`${ne(n,f,r)}%`}},d.createElement("button",Object.assign({},l,{ref:$,className:a("navds-timeline__pin-button"),"aria-label":u("Pin.pin",{date:R(n,u("dateFormat"))}),type:"button","aria-expanded":t?p:void 0},V({onKeyDown:i=>{var g;(g=l==null?void 0:l.onKeyDown)===null||g===void 0||g.call(l,i),i.key==="Enter"?m(_=>!_):i.key===" "&&m(!1)}})))),t&&p&&d.createElement(Se,{context:w,modal:!1,initialFocus:-1,returnFocus:!1},d.createElement("div",Object.assign({className:a("navds-timeline__popover"),"data-placement":v,ref:E.setFloating,role:"dialog"},D(),{style:F}),t,O&&d.createElement("div",{ref:h,style:Object.assign(Object.assign(Object.assign({},b!=null?{left:b}:{}),I!=null?{top:I}:{}),S?{[S]:"-0.5rem"}:{}),className:a("navds-timeline__popover-arrow")}))))});Me.componentType="pin";const Fe=c.createContext({periodId:"",firstFocus:!1}),Te=()=>{const e=c.useContext(Fe);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ae=c.createContext({periods:[],id:"",active:!1,index:0}),le=()=>{const e=c.useContext(Ae);return e||console.warn("useRowContext must be used with RowContext"),e},Le=(e,o,n)=>Xe(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&o==="left"||e==="left"&&o==="right","navds-timeline__period--connected-left":e==="left"&&o==="left"||e==="right"&&o==="right"}),Ne=(e,o,n,t,l)=>{const a=l("dateFormat"),f=R(e,a),r=R(o,a);return l("Period.period",{status:t||l(`Period.${n}`),start:f,end:r})},ht=d.memo(({onSelectPeriod:e,start:o,end:n,status:t,cropped:l,direction:a,left:f,width:r,icon:s,children:p,isActive:m,statusLabel:h,restProps:u,periodRef:y})=>{var O,w;const{cn:v}=C(),[b,I]=c.useState(!1),{index:E}=le(),{firstFocus:F}=Te(),{initiate:T,addFocusable:A}=Z(),N=c.useRef(null),D=Y("Timeline"),$=!be(!1),{context:S,placement:i,middlewareData:{arrow:{x:g,y:_}={}},refs:M,floatingStyles:B}=he({placement:(O=u==null?void 0:u.placement)!==null&&O!==void 0?O:"top",open:b,onOpenChange:j=>I(j),whileElementsMounted:_e,middleware:[ge($?16:8),ye(),we({padding:5,fallbackPlacements:["bottom","top"]}),Oe({element:N,padding:5})]}),x=xe(S,{handleClose:je(),restMs:25,delay:{open:1e3},move:!1}),Q=Ee(S),P=Pe(S),{getFloatingProps:$e,getReferenceProps:ke}=Re([x,Q,P]),ze=Ie(M.setReference,y),ie={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];return d.createElement(d.Fragment,null,d.createElement("button",Object.assign({},u,{"data-color":(w=u==null?void 0:u["data-color"])!==null&&w!==void 0?w:t,type:"button",ref:j=>{F&&A(j,E),ze(j)},"aria-label":Ne(o,n,t,h,D),className:v("navds-timeline__period--clickable",Le(l,a,t),u==null?void 0:u.className,{"navds-timeline__period--selected":m}),"aria-expanded":p?b:void 0,"aria-current":m||void 0},ke({onFocus:()=>{T(E)},onKeyDown:j=>{var L;(L=u==null?void 0:u.onKeydown)===null||L===void 0||L.call(u,j),j.key==="Enter"&&I(Ye=>!Ye),j.key===" "&&(e==null||e(j),I(!1))},style:{width:`${r}%`,[a]:`${f}%`},onClick:j=>{var L;(L=u==null?void 0:u.onClick)===null||L===void 0||L.call(u,j),j.detail!==0&&(e==null||e(j))}})),d.createElement("span",{className:v("navds-timeline__period--inner")},s)),p&&b&&d.createElement(Se,{context:S,modal:!1,initialFocus:-1,returnFocus:!1},d.createElement("div",Object.assign({className:v("navds-timeline__popover"),"data-placement":i,ref:M.setFloating,role:"dialog"},$e(),{style:B}),p,$&&d.createElement("div",{ref:N,style:Object.assign(Object.assign(Object.assign({},g!=null?{left:g}:{}),_!=null?{top:_}:{}),ie?{[ie]:"-0.5rem"}:{}),className:v("navds-timeline__popover-arrow")}))))}),gt=({start:e,end:o,status:n,cropped:t,direction:l,left:a,width:f,icon:r,statusLabel:s,restProps:p,periodRef:m})=>{var h;const u=Y("Timeline"),{cn:y}=C();return d.createElement("div",Object.assign({ref:m},p,{"data-color":(h=p==null?void 0:p["data-color"])!==null&&h!==void 0?h:n,className:y(Le(t,l,n),p==null?void 0:p.className),style:{width:`${f}%`,[l]:`${a}%`}}),d.createElement("span",{className:y("navds-timeline__period--inner")},r,d.createElement("span",{className:y("navds-sr-only")},Ne(e,o,n,s,u))))},oe=c.forwardRef(({icon:e},o)=>{const{periods:n}=le(),{periodId:t,restProps:l}=Te(),a=n.find(b=>b.id===t);if(!a)return d.createElement(d.Fragment,null);const{start:f,endInclusive:r,width:s,horizontalPosition:p,status:m="neutral",onSelectPeriod:h,cropped:u,direction:y,children:O,isActive:w,statusLabel:v}=a;return h||O?d.createElement(ht,{periodRef:o,start:f,end:r,status:m,onSelectPeriod:h,cropped:u||"",direction:y,width:s,left:p,icon:e,isActive:w,statusLabel:v,restProps:l},O):d.createElement(gt,{periodRef:o,start:f,end:r,status:m,cropped:u||"",direction:y,width:s,left:p,icon:e,statusLabel:v,restProps:l})});oe.componentType="period";var yt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const ae=c.forwardRef((e,o)=>{var{label:n,className:t,headingTag:l="h3",icon:a}=e,f=yt(e,["label","className","headingTag","icon"]);const{cn:r}=C(),{periods:s,id:p,active:m}=le(),{setActiveRow:h}=Z(),u=Y("Timeline"),y=s.reduce((v,b)=>v.end>b.end?v:b,{}),O=s.reduce((v,b)=>v.end<b.end?v:b,{}),w=s.find(v=>!!v.children||!!v.onSelectPeriod);return d.createElement(d.Fragment,null,n&&d.createElement(We,{as:l,id:`timeline-row-${p}`,className:r("navds-timeline__row-label"),size:"small"},a,n),d.createElement("div",{className:r("navds-timeline__row",{"navds-timeline__row--active":m})},d.createElement("ol",Object.assign({},f,{tabIndex:-1,ref:o,"aria-label":s.length===0?u("Row.noPeriods"):u("Row.period",{start:R(O.start,u("dateFormat")),end:R(y.end,u("dateFormat"))}),className:r("navds-timeline__row-periods",t),onKeyDown:v=>{(v.key==="ArrowDown"||v.key==="ArrowUp")&&(v.preventDefault(),h(v.key))}}),s==null?void 0:s.map(v=>d.createElement("li",{key:`period-${v.id}`},d.createElement(Fe.Provider,{value:{periodId:v.id,firstFocus:(w==null?void 0:w.id)===v.id,restProps:v==null?void 0:v.restProps}},d.createElement(oe,{start:v.start,end:v.endInclusive,icon:v.icon,ref:v==null?void 0:v.ref})))))))});ae.componentType="row";const wt=(e,o)=>e.horizontalPosition-o.horizontalPosition,Ot=(e,o,n,t="left",l,a,f)=>{const r=e.start,s=e.end,p=l<a.length-1&&!qe(a[l+1].start,s),{horizontalPosition:m,width:h}=G(U(r),W(p?U(me(a[l+1].start,1)):s),o,n);return{id:`r-${f}-p-${l}`,start:r,endInclusive:s,horizontalPosition:m,direction:t,width:h,end:s,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},_t=(e,o,n)=>{const t=o>0&&de(e.start,n[o-1].endInclusive),l=o<n.length-1&&de(n[o+1].start,e.endInclusive);return t&&l?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):l?Object.assign(Object.assign({},e),{cropped:"right"}):e},xt=e=>{let{horizontalPosition:o,width:n,cropped:t}=e;return o+n>100&&(n=100-o,t=t==="left"||t==="both"?"both":"right"),o<0&&o+n>0&&(n=o+n,o=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:o,cropped:t})},jt=(e,o,n,t)=>c.useMemo(()=>e.map((l,a)=>{const f=l.periods.sort((r,s)=>r.start.valueOf()-s.start.valueOf()).map((r,s)=>Object.assign(Object.assign({},Ot(r,o,n,t,s,l.periods,a)),{restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref})).sort(wt).map(_t).map(xt).filter(dt);return{id:`tl-row-${a}`,label:l.label,headingTag:l.headingTag||"h3",icon:l.icon,periods:t==="left"?f:f.reverse(),restProps:l==null?void 0:l.restProps,ref:l==null?void 0:l.ref}}),[e,o,n,t]),Et=({startDate:e,rows:o})=>c.useMemo(()=>{if(e)return e;const n=o.flat().filter(l=>l.start).map(l=>l.start);return n.length===0?new Date:n.reduce((l,a)=>a<l?a:l)},[e,o]),Pt=(e,o)=>o.end>e?o.end:e,Rt=e=>e.flat().reduce(Pt,new Date(0)),ue=({endDate:e,rows:o})=>c.useMemo(()=>e||pe(Rt(o),1),[e,o]),It=e=>{const o=[];return e==null||e.forEach(n=>{var t,l,a,f,r,s,p,m,h,u,y,O;const w=[];if(d.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let v=0;v<n.props.children.length;v++){const b=n.props.children[v];w.push({start:(l=b==null?void 0:b.props)===null||l===void 0?void 0:l.start,end:(a=b==null?void 0:b.props)===null||a===void 0?void 0:a.end,status:((f=b==null?void 0:b.props)===null||f===void 0?void 0:f.status)||"neutral",onSelectPeriod:(r=b.props)===null||r===void 0?void 0:r.onSelectPeriod,label:n.props.label,icon:b.props.icon,children:b.props.children,isActive:b.props.isActive,statusLabel:b.props.statusLabel,restProps:ee(b.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:b==null?void 0:b.ref})}else w.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((s=n.props.children.props)===null||s===void 0?void 0:s.status)||"neutral",onSelectPeriod:(p=n.props.children.props)===null||p===void 0?void 0:p.onSelectPeriod,label:n.props.label,icon:(m=n.props.children.props)===null||m===void 0?void 0:m.icon,children:(h=n.props.children.props)===null||h===void 0?void 0:h.children,statusLabel:(u=n.props.children.props)===null||u===void 0?void 0:u.statusLabel,restProps:ee(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(O=(y=n.props)===null||y===void 0?void 0:y.children)===null||O===void 0?void 0:O.ref});o.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:w,restProps:ee(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),o};var St=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ct=c.forwardRef((e,o)=>{var{label:n,interval:t,count:l}=e,a=St(e,["label","interval","count"]);const{setStart:f,endDate:r,startDate:s,direction:p}=Z(),m=Y("Timeline"),h=m("dateFormat"),{cn:u}=C();let y;t==="month"?y=p==="left"?Ge(r,l):te(s,l):y=p==="left"?st(r,l):K(s,l);const O=p==="left"?X(s,y):X(r,y);return d.createElement(ve,{as:"li"},d.createElement("button",Object.assign({type:"button","aria-label":O?m("Zoom.reset"):m("Zoom.zoom",{start:R(y,h),end:R(r,h)}),ref:o},a,{className:u("navds-timeline__zoom-button"),onClick:()=>{f(y)},"aria-pressed":O}),n))});var Dt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const re=c.forwardRef((e,o)=>{var{className:n,children:t}=e,l=Dt(e,["className","children"]);const{cn:a}=C();return d.createElement("ul",Object.assign({ref:o,className:a(n,"navds-timeline__zoom")},l),t)});re.Button=Ct;re.componentType="zoom";var Mt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const J=c.forwardRef((e,o)=>{var{children:n,startDate:t,endDate:l,direction:a="left",axisLabelTemplates:f}=e,r=Mt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const{cn:s}=C(),p=Array.isArray(n),m=c.useRef([]);p||(n=[n]);const h=d.Children.toArray(n).filter(i=>{var g;return((g=i==null?void 0:i.type)===null||g===void 0?void 0:g.componentType)==="row"}),u=d.Children.toArray(n).filter(i=>{var g;return((g=i==null?void 0:i.type)===null||g===void 0?void 0:g.componentType)==="pin"}).map(i=>()=>i),y=d.Children.toArray(n).find(i=>{var g;return((g=i==null?void 0:i.type)===null||g===void 0?void 0:g.componentType)==="zoom"}),O=c.useMemo(()=>It(h),[h]),w=O.map(i=>i!=null&&i.periods?i.periods:[]),v=U(Et({startDate:t,rows:w})),[b,I]=c.useState(v),[E,F]=c.useState(null),[T,A]=c.useState(W(ue({endDate:l,rows:w}))),N=W(ue({endDate:l,rows:w})),D=jt(O,t??b,l??T,a),V=i=>{if(!(t||l))if(a==="left"){if(X(i,b)){I(v);return}I(i)}else{if(X(i,T)){A(N);return}A(i)}},$=i=>{var g,_,M,B;if(E!==null&&i==="ArrowDown"){for(let x=E+1;x<D.length;x++)if(D[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(x),(_=(g=m.current.find(P=>P.id===x))===null||g===void 0?void 0:g.ref)===null||_===void 0||_.focus();break}return}if(E!==null&&i==="ArrowUp"){for(let x=E-1;x>=0;x--)if(D[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){F(x),(B=(M=m.current.find(P=>P.id===x))===null||M===void 0?void 0:M.ref)===null||B===void 0||B.focus();break}return}},S=(i,g)=>{let _=m.current;_=_.filter(M=>M.id!==g),_.push({ref:i,id:g}),m.current=_};return d.createElement(De.Provider,{value:{startDate:t??b,endDate:l??T,direction:a,setStart:i=>V(i),setEndInclusive:i=>A(i),activeRow:E,setActiveRow:i=>$(i),initiate:i=>F(i),addFocusable:S}},d.createElement("div",Object.assign({},r,{ref:o}),d.createElement("div",{className:s("navds-timeline")},d.createElement(pt,{templates:f}),u.map((i,g)=>d.createElement(i,{key:`pin-${g}`})),D.map((i,g)=>d.createElement(Ae.Provider,{key:`row-${i.id}`,value:{periods:i.periods,id:i.id,active:E===g,index:g}},d.createElement(ae,Object.assign({},i==null?void 0:i.restProps,{ref:i==null?void 0:i.ref,label:i.label,icon:i.icon,headingTag:i.headingTag}))))),y))});J.Row=ae;J.Period=oe;J.Pin=Me;J.Zoom=re;export{zt as S,J as T,$t as a,Nt as b,Lt as c,At as d,Tt as e,kt as f};
