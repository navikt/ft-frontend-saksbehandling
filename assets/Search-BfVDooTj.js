import{r as c,a as q,u as R,ae as M,e as n,A as L,c as J,af as Q,ag as U,ah as W,L as Y,B as Z,ai as ee,E as ae,aj as P}from"./iframe-CwnbwDj_.js";var te=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const $=c.forwardRef((a,l)=>{var{title:r,titleId:e}=a,t=te(a,["title","titleId"]);let d=q();return d=r?e||"title-"+d:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":d},t),r?c.createElement("title",{id:d},r):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),D=c.createContext(null);var re=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const F=c.forwardRef((a,l)=>{var r,{className:e,children:t,disabled:d,onClick:y}=a,_=re(a,["className","children","disabled","onClick"]);const{cn:m}=R(),f=M("Search"),v=c.useContext(D);if(v===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:h,variant:o,handleClick:b}=v;return n.createElement(L,Object.assign({type:"submit"},_,{ref:l,size:h,variant:o==="secondary"?"secondary":"primary",className:m("navds-search__button-search",e),disabled:(r=v==null?void 0:v.disabled)!==null&&r!==void 0?r:d,onClick:J(y,b),icon:n.createElement($,Object.assign({},t?{"aria-hidden":!0}:{title:f("search")}))}),t)});var ne=function(a,l){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)l.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r};const le=c.forwardRef((a,l)=>{const{inputProps:r,size:e="medium",inputDescriptionId:t,errorId:d,showErrorMsg:y,hasError:_}=Q(a,"searchfield"),{className:m,hideLabel:f=!0,label:v,description:h,value:o,clearButtonLabel:b,onClear:g,clearButton:V=!0,children:I,variant:p="primary",defaultValue:E,onChange:O,onSearchClick:w,htmlSize:C}=a,A=ne(a,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),{cn:i}=R(),G=U(!1),S=c.useRef(null),H=W(S,l),k=M("Search"),[j,K]=c.useState(E??""),B=s=>{o===void 0&&K(s),O==null||O(s)},x=s=>{var u,N;g==null||g(s),B(""),(N=(u=S.current)===null||u===void 0?void 0:u.focus)===null||N===void 0||N.call(u)},T=()=>{w==null||w(`${o??j}`)},z=V&&!r.disabled&&(o??j),X=()=>G?n.createElement(L,{className:i("navds-search__button-clear"),variant:"tertiary-neutral",size:e==="medium"?"small":"xsmall",icon:n.createElement(P,{"aria-hidden":!0}),title:b||k("clear"),hidden:!z,onClick:s=>x({trigger:"Click",event:s}),type:"button"}):n.createElement("button",{type:"button",onClick:s=>x({trigger:"Click",event:s}),className:i("navds-search__button-clear"),hidden:!z},n.createElement("span",{className:i("navds-sr-only")},b||k("clear")),n.createElement(P,{"aria-hidden":!0}));return n.createElement("div",{onKeyDown:s=>{var u;s.key==="Escape"&&(!((u=S.current)===null||u===void 0)&&u.value&&s.preventDefault(),x({trigger:"Escape",event:s}))},className:i(m,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":_,"navds-search--disabled":r.disabled,"navds-search--with-size":C})},n.createElement(Y,{htmlFor:r.id,size:e,className:i("navds-form-field__label",{"navds-sr-only":f})},v),!!h&&n.createElement(Z,{className:i("navds-form-field__description",{"navds-sr-only":f}),id:t,size:e,as:"div"},h),n.createElement("div",{className:i("navds-search__wrapper")},n.createElement("div",{className:i("navds-search__wrapper-inner")},p==="simple"&&n.createElement($,{"aria-hidden":!0,className:i("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:H},ee(A,["error","errorId","size","readOnly"]),r,{value:o??j,onChange:s=>B(s.target.value),type:"search",className:i(m,"navds-search__input",`navds-search__input--${p}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},C?{size:Number(C)}:{})),n.createElement(X,null)),n.createElement(D.Provider,{value:{size:e,disabled:r.disabled,variant:p,handleClick:T}},I||p!=="simple"&&n.createElement(F,null))),n.createElement("div",{className:i("navds-form-field__error"),id:d,"aria-relevant":"additions removals","aria-live":"polite"},y&&n.createElement(ae,{size:e,showIcon:!0},a.error)))});le.Button=F;export{le as S};
