import{c as w}from"./clsx-B-dksMZM.js";import{r as u,R as v}from"./index-Dxs5m6lS.js";import{c as x,m as j,u as S}from"./create-context-B5rPGqtO.js";import{c as P}from"./Popover-D50D0eUh.js";import{a as I}from"./Label-g0SsZd4P.js";import{c as g}from"./Button-D0flVHf8.js";import{u as T}from"./useId-B9cQ8Pho.js";import{d as C}from"./Textarea-DaN6YZZY.js";import{u as k}from"./useId-BdcioVLy.js";import{u as N}from"./Checkmark-ARqG-vXH.js";var F=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const L=u.forwardRef((t,o)=>{var{title:r,titleId:e}=t,n=F(t,["title","titleId"]);let l=T();return l=r?e||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":l},n),r?u.createElement("title",{id:l},r):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var D=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const K=u.forwardRef((t,o)=>{var{title:r,titleId:e}=t,n=D(t,["title","titleId"]);let l=T();return l=r?e||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":l},n),r?u.createElement("title",{id:l},r):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 5.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 0 1 0 1.06l-5.5 5.5a.75.75 0 1 1-1.06-1.06L14.44 12 9.47 7.03a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))}),[V,z,$,R]=P(),[B,h]=x({name:"TabsContext",hookName:"useTabsContext",providerName:"TabsProvider",errorMessage:"Tabs.List, Tabs.Tag and Tabs.Panel needs to be wrapped within <Tabs>"});function M({value:t,disabled:o=!1,onFocus:r,onClick:e},n){const{id:l,setSelectedValue:a,selectionFollowsFocus:c,focusedValue:i,setFocusedValue:d,selectedValue:y,makeTabId:O,makeTabPanelId:m}=h(),{register:p}=R({disabled:o,value:t}),b=t===y,s=()=>{d(t),c&&a(t)};return{ref:j([p,n]),isSelected:b,isFocused:i===t,id:O(l,t),controlsId:m(l,t),onClick:g(e,()=>a(t)),onFocus:o?void 0:g(r,s)}}var A=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const H=u.forwardRef((t,o)=>{var r,e,{className:n,as:l="button",label:a,icon:c,value:i,onClick:d,onFocus:y,disabled:O,id:m}=t,p=A(t,["className","as","label","icon","value","onClick","onFocus","disabled","id"]);const b=M({value:i,onClick:d,onFocus:y,disabled:O},o),s=h();return!a&&!c?(console.error("<Tabs.Tab/> needs label and/or icon"),null):v.createElement(l,Object.assign({ref:b.ref},p,{className:w("navds-tabs__tab",`navds-tabs__tab--${(r=s==null?void 0:s.size)!==null&&r!==void 0?r:"medium"}`,`navds-tabs__tab-icon--${s==null?void 0:s.iconPosition}`,n,{"navds-tabs__tab--icon-only":c&&!a,"navds-tabs__tab--fill":s.fill}),role:"tab",type:"button","aria-selected":b.isSelected,"data-state":b.isSelected?"active":"inactive",tabIndex:b.isFocused?0:-1,"aria-controls":(e=p["aria-controls"])!==null&&e!==void 0?e:b.controlsId,id:m??b.id,onFocus:b.onFocus,onClick:b.onClick}),v.createElement(I,{as:"span",className:"navds-tabs__tab-inner",size:s==null?void 0:s.size},v.createElement("span",{"aria-hidden":!!a},c),v.createElement("span",null,a)))});function E({hidden:t,onClick:o,dir:r}){return v.createElement("div",{className:w("navds-tabs__scroll-button",{"navds-tabs__scroll-button--hidden":t}),onClick:o,"aria-hidden":!0},r==="left"?v.createElement(L,null):v.createElement(K,null))}function J(t){const[o,r]=u.useState({start:!1,end:!1}),e=u.useMemo(()=>C(()=>{if(!(t!=null&&t.current))return;const{scrollWidth:n,clientWidth:l}=t.current,a=t.current.scrollLeft,c=a>1,i=a<n-l-1;r(d=>c===d.start&&i===d.end?d:{start:c,end:i})}),[t]);return u.useEffect(()=>{var n,l,a;const c=()=>e(),i=(a=(l=(n=t.current)===null||n===void 0?void 0:n.ownerDocument)!==null&&l!==void 0?l:document)!==null&&a!==void 0?a:window;i.addEventListener("resize",c);let d;return typeof ResizeObserver<"u"&&t.current&&(d=new ResizeObserver(c),d.observe(t.current)),()=>{i.removeEventListener("resize",c),d==null||d.disconnect(),e.clear()}},[t,e]),u.useEffect(()=>{e()}),{update:e,start:o.start,end:o.end,show:o.end||o.start,scrollLeft:()=>{t.current&&(t.current.scrollLeft-=100)},scrollRight:()=>{t.current&&(t.current.scrollLeft+=100)}}}function W(){const{focusedValue:t,loop:o,selectedValue:r,setFocusedValue:e}=h(),n=z();return{onKeyDown:u.useCallback(a=>{const c=n.values().findIndex(s=>s.value===t),m={ArrowLeft:()=>{var s;const f=n.prevEnabled(c,o);(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},ArrowRight:()=>{var s;const f=n.nextEnabled(c,o);(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},Home:()=>{var s;const f=n.firstEnabled();(s=f==null?void 0:f.node)===null||s===void 0||s.focus()},End:()=>{var s;const f=n.lastEnabled();(s=f==null?void 0:f.node)===null||s===void 0||s.focus()}},p=a.shiftKey||a.ctrlKey||a.altKey||a.metaKey,b=m[a.key];b&&!p?(a.preventDefault(),b(a)):a.key==="Tab"&&r&&setTimeout(()=>e(r))},[n,t,o,r,e])}}var G=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const q=u.forwardRef((t,o)=>{var{className:r,onKeyDown:e}=t,n=G(t,["className","onKeyDown"]);const{onKeyDown:l}=W(),a=u.useRef(null),c=S(a,o),i=J(a);return v.createElement("div",{className:"navds-tabs__tablist-wrapper"},i.show&&v.createElement(E,{dir:"left",hidden:!i.start,onClick:i.scrollLeft}),v.createElement("div",Object.assign({ref:c},n,{onScroll:i.update,className:w("navds-tabs__tablist",r),role:"tablist","aria-orientation":"horizontal",onKeyDown:g(e,l)})),i.show&&v.createElement(E,{dir:"right",hidden:!i.end,onClick:i.scrollRight}))});function Q({value:t}){const{id:o,selectedValue:r,makeTabId:e,makeTabPanelId:n}=h();return{labelledbyId:e(o,t),hidden:r!==t,id:n(o,t)}}var U=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const X=u.forwardRef((t,o)=>{var r,{className:e,value:n,children:l,lazy:a=!0,id:c}=t,i=U(t,["className","value","children","lazy","id"]);const d=Q({value:n});return v.createElement("div",Object.assign({ref:o},i,{className:w("navds-tabs__tabpanel",e),role:"tabpanel",tabIndex:0,"aria-labelledby":(r=i["aria-labelledby"])!==null&&r!==void 0?r:d.labelledbyId,id:c??d.id,hidden:d.hidden,"data-state":d.hidden?"inactive":"active"}),a&&d.hidden?null:l)});function Y({onChange:t,value:o,defaultValue:r="",id:e}){const[n,l]=u.useState(r),[a,c]=N({defaultValue:r,value:o,onChange:t});u.useEffect(()=>{o!=null&&l(o)},[o]);const i=k();return{id:`tabs-${e??i}`,selectedValue:a,setSelectedValue:c,focusedValue:n,setFocusedValue:l,makeTabId:Z,makeTabPanelId:ee}}function Z(t,o){return`${t}--tab-${o}`}function ee(t,o){return`${t}--tabpanel-${o}`}var te=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const _=u.forwardRef((t,o)=>{var{className:r,children:e,size:n="medium",defaultValue:l="",value:a,onChange:c,id:i,selectionFollowsFocus:d=!1,loop:y=!0,iconPosition:O="left",fill:m=!1}=t,p=te(t,["className","children","size","defaultValue","value","onChange","id","selectionFollowsFocus","loop","iconPosition","fill"]);const b=$(),s=Y({defaultValue:l,value:a,onChange:c,id:i}),f=Object.assign(Object.assign({},s),{selectionFollowsFocus:d,loop:y,size:n,iconPosition:O,fill:m});return v.createElement(V,{value:b},v.createElement(B,Object.assign({},f),v.createElement("div",Object.assign({ref:o},p,{id:i,className:w("navds-tabs",r,`navds-tabs--${n}`)}),e)))});_.Tab=H;_.List=q;_.Panel=X;const ne=t=>{if(t==null)return;const o=JSON.parse(JSON.stringify(t)),r=2;return Object.keys(o).forEach(e=>{var n,l,a;if((n=o[e])!=null&&n.kode){const c=Object.keys(o[e]).length;((l=o[e])!=null&&l.kodeverk&&(c===r||((a=o[e])==null?void 0:a.kodeverk)==="AVKLARINGSBEHOV_DEF")||c===1)&&(o[e]=o[e].kode)}typeof o[e]=="object"&&o[e]!==null&&(o[e]=ne(o[e]))}),o};export{_ as T,ne as k};
