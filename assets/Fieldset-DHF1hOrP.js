import{u as j,c as x}from"./Theme-CaMvzsUv.js";import{r as f,e as i}from"./index-DASCADcX.js";import{L as R,a as w,E as N}from"./Label-ymrTdXLG.js";import{o as u}from"./omit-B7stZg_p.js";import"./useId-BiFzyKmP.js";import{a as z,R as S}from"./ReadOnlyIcon-DdHBAqwe.js";import{u as L,F as y}from"./useFormField-C_Behg-2.js";const C=e=>{const o=L(e,"fieldset"),{inputProps:a}=o;return Object.assign(Object.assign({},o),{inputProps:{"aria-invalid":a["aria-invalid"],"aria-describedby":a["aria-describedby"]}})};var M=function(e,o){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&o.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(e);t<r.length;t++)o.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(a[r[t]]=e[r[t]]);return a};const A=f.forwardRef((e,o)=>{var a,r,t;const{inputProps:b,errorId:c,showErrorMsg:m,hasError:p,size:s,readOnly:l,inputDescriptionId:O}=C(e),{cn:d}=j(),n=f.useContext(y),{children:g,className:E,errorPropagation:_=!0,legend:h,description:I,hideLegend:v,nativeReadOnly:P=!0}=e,F=M(e,["children","className","errorPropagation","legend","description","hideLegend","nativeReadOnly"]);return i.createElement(y.Provider,{value:{error:_?(a=e.error)!==null&&a!==void 0?a:n==null?void 0:n.error:void 0,errorId:x({[c]:m,[(r=n==null?void 0:n.errorId)!==null&&r!==void 0?r:""]:!!(n!=null&&n.error)}),size:s,disabled:(t=e.disabled)!==null&&t!==void 0?t:!1,readOnly:l}},i.createElement("fieldset",Object.assign({},u(F,["errorId","error","size","readOnly"]),u(b,["aria-describedby","aria-invalid"]),{ref:o,className:d(E,"navds-fieldset",`navds-fieldset--${s}`,{"navds-fieldset--error":p,"navds-fieldset--readonly":l})}),i.createElement(R,{size:s,as:"legend",className:d("navds-fieldset__legend",{"navds-sr-only":!!v})},l&&(P?i.createElement(z,null):i.createElement(S,null)),h),!!I&&i.createElement(w,{className:d("navds-fieldset__description",{"navds-sr-only":!!v}),id:O,size:s??"medium",as:"div"},e.description),g,i.createElement("div",{id:c,"aria-relevant":"additions removals","aria-live":"polite",className:d("navds-fieldset__error")},m&&i.createElement(N,{size:s,showIcon:!0},e.error))))});export{A as F};
